!function(){function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}return e}()({1:[function(e,t,n){(function(e,i,r){(function(){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;"undefined"!=typeof window?r=window:void 0!==i?r=i:"undefined"!=typeof self&&(r=self),r.Promise=e()}}(function(){var t,n,o;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(t,n,i){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=d}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function a(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}function l(e){for(;e.length()>0;)c(e)}function c(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var n=e.shift(),i=e.shift();t.call(n,i)}}var u;try{throw new Error}catch(e){u=e}var d=t("./schedule"),p=t("./queue");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},r.prototype.invokeLater=o,r.prototype.invoke=a,r.prototype.settlePromises=s,r.prototype._drainQueues=function(){l(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,l(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},n.exports=r,n.exports.firstLineError=u},{"./queue":26,"./schedule":29}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var c=n(o),u=new e(t);u._propagateFrom(this,1);var d=this._target();if(u._setBoundTo(c),c instanceof e){var p={promiseRejectionQueued:!1,promise:u,target:d,bindingPromise:c};d._then(t,a,void 0,u,p),c._then(s,l,void 0,u,p),u._setOnCancel(c)}else u._resolveCallback(d);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function i(){try{Promise===o&&(Promise=r)}catch(e){}return o}var r;"undefined"!=typeof Promise&&(r=Promise);var o=e("./promise")();o.noConflict=i,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var r="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(r)}return i}function i(e){return n(e,this.pop()).apply(e,this)}function r(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),l=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(i,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(l){var i=a(e);t=null!==i?i:r}else t=r;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),l.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(l){var c=s._boundValue();e:for(var u=0;u<e.length;++u){var d=e[u];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return o(n).call(c,l)}else if("function"==typeof d){var p=o(d).call(c,l);if(p===a)return p;if(p)return o(n).call(c,l)}else if(i.isObject(l)){for(var f=r(d),h=0;h<f.length;++h){var m=f[h];if(d[m]!=l[m])continue e}return o(n).call(c,l)}}return t}}var i=e("./util"),r=e("./es5").keys,o=i.tryCatch,a=i.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(i())}function n(){if(r)return new t}function i(){var e=o.length-1;if(e>=0)return o[e]}var r=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,r=!1},r=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(t,n,i){"use strict";n.exports=function(n,i,r,o){function a(e,t){return{promise:t}}function s(){return!1}function l(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+H.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function c(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?H.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function d(e){this._onCancelField=e}function p(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function h(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function m(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function g(){this._trace=new F(this._peekContext())}function v(e,t){if(W(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=E(e);H.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),H.notEnumerableProp(e,"__stackCleaned__",!0)}}}function y(){this._trace=void 0}function b(e,t,n,i,r){if(void 0===e&&null!==t&&ee){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=T(s),c=l.length-1;c>=0;--c){var u=l[c];if(!G.test(u)){var d=u.match(X);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(l.length>0)for(var p=l[0],c=0;c<s.length;++c)if(s[c]===p){c>0&&(a="\n"+s[c-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(f,!0,t)}}function w(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),_(n)}function _(e,t,i){if(de.warnings){var r,o=new z(e);if(t)i._attachExtraTrace(o);else if(de.longStackTraces&&(r=n._peekContext()))r.attachExtraTrace(o);else{var a=E(o);o.stack=a.message+"\n"+a.stack.join("\n")}ae("warning",o)||S(o,"",!0)}}function x(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function A(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function k(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=i[s];if(t[r]!==l)break;t.pop(),r--}t=i}}function T(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||Q.test(i),o=r&&le(i);r&&!o&&(Y&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function C(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||Q.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function E(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?C(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:T(t)}}function S(e,t,n){if("undefined"!=typeof console){var i;if(H.isObject(e)){var r=e.stack;i=t+$(r,e)}else i=t+String(e);"function"==typeof D?D(i,n):"function"==typeof console.log||console.log}}function O(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){V.throwLater(e)}"unhandledRejection"===e?ae(e,n,i)||r||S(n,"Unhandled rejection "):ae(e,i)}function I(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():H.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+N(t)+">, no stack trace)"}function N(e){return e.length<41?e:e.substr(0,38)+"..."}function L(){return"function"==typeof ue}function R(e){var t=e.match(ce);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function P(e,t){if(L()){for(var n,i,r=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),a=-1,s=-1,l=0;l<r.length;++l){var c=R(r[l]);if(c){n=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=R(o[l]);if(c){i=c.fileName,s=c.line;break}}a<0||s<0||!n||!i||n!==i||a>=s||(le=function(e){if(q.test(e))return!0;var t=R(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function F(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ue(this,F),t>32&&this.uncycle()}var B,M,D,j,V=n._async,z=t("./errors").Warning,H=t("./util"),U=t("./es5"),W=H.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,G=/\((?:timers\.js):\d+:\d+\)/,X=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Q=null,$=null,Y=!1,J=!(0==H.env("BLUEBIRD_DEBUG")),K=!(0==H.env("BLUEBIRD_WARNINGS")||!J&&!H.env("BLUEBIRD_WARNINGS")),Z=!(0==H.env("BLUEBIRD_LONG_STACK_TRACES")||!J&&!H.env("BLUEBIRD_LONG_STACK_TRACES")),ee=0!=H.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(K||!!H.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function e(){for(var e=0;e<i.length;++e)i[e]._notifyUnhandledRejection();t()}function t(){i.length=0}var i=[];j=function(t){i.push(t),setTimeout(e,1)},U.defineProperty(n,"_unhandledRejectionCheck",{value:e}),U.defineProperty(n,"_unhandledRejectionClear",{value:t})}(),n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),j(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){O("rejectionHandled",B,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),O("unhandledRejection",M,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return _(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=n._getContext();M=H.contextBind(t,e)},n.onUnhandledRejectionHandled=function(e){var t=n._getContext();B=H.contextBind(t,e)};var te=function(){};n.longStackTraces=function(){if(V.haveItemsQueued()&&!de.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!de.longStackTraces&&L()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,r=n.prototype._dereferenceTrace;de.longStackTraces=!0,te=function(){if(V.haveItemsQueued()&&!de.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=r,i.deactivateLongStackTraces(),de.longStackTraces=!1},n.prototype._captureStackTrace=g,n.prototype._attachExtraTrace=v,n.prototype._dereferenceTrace=y,i.activateLongStackTraces()}},n.hasLongStackTraces=function(){return de.longStackTraces&&L()};var ne={unhandledrejection:{before:function(){var e=H.global.onunhandledrejection;return H.global.onunhandledrejection=null,e},after:function(e){H.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=H.global.onrejectionhandled;return H.global.onrejectionhandled=null,e},after:function(e){H.global.onrejectionhandled=e}}},ie=function(){var e=function(e,t){if(!e)return!H.global.dispatchEvent(t);var n;try{return n=e.before(),!H.global.dispatchEvent(t)}finally{e.after(n)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return H.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i={detail:n,cancelable:!0},r=new CustomEvent(t,i);return U.defineProperty(r,"promise",{value:n.promise}),U.defineProperty(r,"reason",{value:n.reason}),e(ne[t],r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return H.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=new Event(t,{cancelable:!0});return i.detail=n,U.defineProperty(i,"promise",{value:n.promise}),U.defineProperty(i,"reason",{value:n.reason}),e(ne[t],i)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),H.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!0,n),e(ne[t],i)}}catch(e){}return function(){return!1}}(),re=function(){return H.isNode?function(){return e.emit.apply(e,arguments)}:H.global?function(e){var t="on"+e.toLowerCase(),n=H.global[t];return!!n&&(n.apply(H.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),oe={promiseCreated:a,promiseFulfilled:a,promiseRejected:a,promiseResolved:a,promiseCancelled:a,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:a},ae=function(e){var t=!1;try{t=re.apply(null,arguments)}catch(e){V.throwLater(e),t=!0}var n=!1;try{n=ie(e,oe[e].apply(null,arguments))}catch(e){V.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&te()),"warnings"in e){var t=e.warnings;de.warnings=!!t,ee=de.warnings,H.isObject(t)&&"wForgottenReturn"in t&&(ee=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!de.cancellation){if(V.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=p,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=d,n.prototype._attachCancellationCallback=c,n.prototype._execute=l,se=f,de.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!de.monitoring?(de.monitoring=!0,n.prototype._fireEvent=ae):!e.monitoring&&de.monitoring&&(de.monitoring=!1,n.prototype._fireEvent=s)),"asyncHooks"in e&&H.nodeSupportsAsyncResource){var i=de.asyncHooks,a=!!e.asyncHooks;i!==a&&(de.asyncHooks=a,a?r():o())}return n},n.prototype._fireEvent=s,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var se=h,le=function(){return!1},ce=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;H.inherits(F,Error),i.CapturedTrace=F,F.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<e;++i){var a=t[i].stack,s=n[a];if(void 0!==s&&s!==i){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var l=i>0?t[i-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=i-2;u>=0;--u)t[u]._length=c,c++;return}}}},F.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=E(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(T(r.stack.split("\n"))),r=r._parent;k(i),A(i),H.notEnumerableProp(e,"stack",x(n,i)),H.notEnumerableProp(e,"__stackCleaned__",!0)}};var ue=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():I(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,Q=e,$=t;var n=Error.captureStackTrace;return le=function(e){return q.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return Q=/@/,$=t,Y=!0,function(e){e.stack=(new Error).stack};var r;try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?($=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?I(t):t.toString()},null):(Q=e,$=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(D=function(e){},H.isNode&&e.stderr.isTTY?D=function(e,t){}:H.isNode||"string"!=typeof(new Error).stack||(D=function(e,t){}));var de={warnings:K,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Z&&n.longStackTraces(),{asyncHooks:function(){return de.asyncHooks},longStackTraces:function(){return de.longStackTraces},warnings:function(){return de.warnings},cancellation:function(){return de.cancellation},monitoring:function(){return de.monitoring},propagateFromFunction:function(){return se},boundValueFunction:function(){return m},checkForgottenReturns:b,setBounds:P,warn:_,deprecated:w,CapturedTrace:F,fireDomEvent:ie,fireGlobalEvent:re}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],i=function(){throw t};return this.caught(e,i)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function i(e,n){return r(e,n,t,t)}var r=e.reduce,o=e.all;e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,i){return r(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=i}},{}],12:[function(e,t,n){"use strict";function i(e,t){function n(i){if(!(this instanceof n))return new n(i);d(this,"message","string"==typeof i?i:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}function r(e){if(!(this instanceof r))return new r(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=e("./es5"),l=s.freeze,c=e("./util"),u=c.inherits,d=c.notEnumerableProp,p=i("Warning","warning"),f=i("CancellationError","cancellation error"),h=i("TimeoutError","timeout error"),m=i("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=i("TypeError","type error"),a=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(m.prototype[g[v]]=Array.prototype[g[v]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var y=0;m.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];i=r.join("\n"),t+=i+"\n"}return y--,t},u(r,Error);var b=Error.__BluebirdErrorTypes__;b||(b=l({CancellationError:f,TimeoutError:h,OperationalError:r,RejectionError:r,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},p=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:p,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function l(e){if(!a(this,e))return p.e=e,p}function c(e){var r=this.promise,c=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?c.call(r._boundValue()):c.call(r._boundValue(),e);if(u===i)return u;if(void 0!==u){r._setReturnedNonUndefined();var f=n(u,r);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var h=new d("late cancellation observer");return r._attachExtraTrace(h),p.e=h,p}f.isPending()&&f._attachCancellationCallback(new o(this))}return f._then(s,l,void 0,this,void 0)}}}return r.isRejected()?(a(this),p.e=e,p):(a(this),e)}var u=e("./util"),d=t.CancellationError,p=u.errorObj,f=e("./catch_filter")(i);return r.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new r(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,c);var i,r=new Array(n-1),o=0;for(i=0;i<n-1;++i){var a=arguments[i];if(!u.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(a)));r[o++]=a}r.length=o;var s=arguments[i];return this._passThrough(f(r,s,this),1,void 0,c)},r}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=f(n[o])(e);if(i._popContext(),a===p){i._pushContext();var s=t.reject(p.e);return i._popContext(),s}var l=r(a,i);if(l instanceof t)return l}return null}function l(e,n,r,o){if(a.cancellation()){var s=new t(i),l=this._finallyPromise=new t(i);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(i))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),u=c.TypeError,d=e("./util"),p=d.errorObj,f=d.tryCatch,h=[];d.inherits(l,o),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n=void 0!==this._generator.return;if(n)this._promise._pushContext(),e=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),e=f(this._generator.throw).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},l.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=f(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(e){var n=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1)
;var i=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=r(i,this._promise);if(!(o instanceof t)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=l,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,r),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+d.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new l(e,this),r=i.promise();return i._run(t.spawn),r}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e,n,i,r){this.constructor$(e),this._promise._captureStackTrace();var a=t._getContext();if(this._callback=c.contextBind(a,n),this._preservedValues=r===o?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0),c.isArray(e))for(var s=0;s<e.length;++s){var l=e[s];l instanceof t&&l.suppressUnhandledRejections()}}function l(e,n,r,o){if("function"!=typeof n)return i("expecting a function but got "+c.classString(n));var a=0;if(void 0!==r){if("object"!=typeof r||null===r)return t.reject(new TypeError("options argument must be an object but it is "+c.classString(r)));if("number"!=typeof r.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(r.concurrency)));a=r.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var c=e("./util"),u=c.tryCatch,d=c.errorObj,p=t._async;c.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=-1*n-1,i[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,p=this._callback,f=c._boundValue();c._pushContext();var h=u(p).call(f,e,n,o),m=c._popContext();if(a.checkForgottenReturns(h,m,null!==s?"Promise.filter":"Promise.map",c),h===d)return this._reject(h.e),!0;var g=r(h,this._promise);if(g instanceof t){g=g._target();var v=g._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,i[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(g._reason()),!0):(this._cancel(),!0);h=g._value()}i[n]=h}return++this._totalResolved>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;o<n;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return l(this,e,t,null)},t.map=function(e,t,n,i){return l(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments),a=i._popContext();return o.checkForgottenReturns(r,a,"Promise.method",i),i._resolveFromSyncValue(r),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return r("expecting a function but got "+a.classString(e));var i=new t(n);i._captureStackTrace(),i._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];l=a.isArray(c)?s(e).apply(u,c):s(e).call(u,c)}else l=s(e)();var d=i._popContext();return o.checkForgottenReturns(l,d,"Promise.try",i),i._resolveFromSyncValue(l),i},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function i(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}function r(e){var t;if(i(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=u.keys(e),r=0;r<n.length;++r){var o=n[r];d.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,i){if(null!==e){if(n){var o=r(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(i);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,l=e("./errors"),c=l.OperationalError,u=e("./es5"),d=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var r=s(t).apply(n._boundValue(),[null].concat(e));r===l&&a.throwLater(r.e)}function i(e,t){var n=this,i=n._boundValue(),r=void 0===e?s(t).call(i,null):s(t).call(i,null,e);r===l&&a.throwLater(r.e)}function r(e,t){var n=this;if(!e){var i=new Error(e+"");i.cause=e,e=i}var r=s(t).call(n._boundValue(),e);r===l&&a.throwLater(r.e)}var o=e("./util"),a=t._async,s=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,r,void 0,this,e)}return this}}},{"./util":36}],22:[function(t,n,i){"use strict";n.exports=function(){function i(){}function r(e,t){if(null==e||e.constructor!==o)throw new C("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new C("expecting a function but got "+f.classString(t))}function o(e){e!==S&&r(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function l(e){var t=new o(S);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var c=function(){return new C("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new o.PromiseInspection(this._target())},d=function(e){return o.reject(new C(e))},p={},f=t("./util");f.setReflectHandler(u);var h=function(){var t=e.domain;return void 0===t?null:t},m=function(){return null},g=function(){return{domain:h(),async:null}},v=f.isNode&&f.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,y=function(){return{domain:h(),async:new v("Bluebird::Promise")}},b=f.isNode?g:m;f.notEnumerableProp(o,"_getContext",b);var w=function(){b=y,f.notEnumerableProp(o,"_getContext",y)},_=function(){b=g,f.notEnumerableProp(o,"_getContext",g)},x=t("./es5"),A=t("./async"),k=new A;x.defineProperty(o,"_async",{value:k});var T=t("./errors"),C=o.TypeError=T.TypeError;o.RangeError=T.RangeError;var E=o.CancellationError=T.CancellationError;o.TimeoutError=T.TimeoutError,o.OperationalError=T.OperationalError,o.RejectionError=T.OperationalError,o.AggregateError=T.AggregateError;var S=function(){},O={},I={},N=t("./thenables")(o,S),L=t("./promise_array")(o,S,N,d,i),R=t("./context")(o),P=R.create,F=t("./debuggability")(o,R,w,_),B=(F.CapturedTrace,t("./finally")(o,N,I)),M=t("./catch_filter")(I),D=t("./nodeback"),j=f.errorObj,V=f.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!f.isObject(o))return d("Catch statement predicate: expecting an object but got "+f.classString(o));i[r++]=o}if(i.length=r,"function"!=typeof(e=arguments[n]))throw new C("The last argument to .catch() must be a function, got "+f.toString(e));return this.then(void 0,M(i,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},o.prototype.then=function(e,t){if(F.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+f.classString(e);arguments.length>1&&(n+=", "+f.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+f.classString(e)):this.all()._then(e,void 0,void 0,O,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new L(this).promise()},o.prototype.error=function(e){return this.caught(f.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(S);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=V(e)(D(t,n));return i===j&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new L(e).promise()},o.cast=function(e){var t=N(e);return t instanceof o||(t=new o(S),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(S);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new C("expecting a function but got "+f.classString(e));return k.setScheduler(e)},o.prototype._then=function(e,t,n,i,r){var a=void 0!==r,s=a?r:new o(S),l=this._target(),c=l._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&c)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=b();if(0!=(50397184&c)){var d,p,h=l._settlePromiseCtx;0!=(33554432&c)?(p=l._rejectionHandler0,d=e):0!=(16777216&c)?(p=l._fulfillmentHandler0,d=t,l._unsetRejectionIsUnhandled()):(h=l._settlePromiseLateCancellationObserver,p=new E("late cancellation observer"),l._attachExtraTrace(p),d=t),k.invoke(h,l,{handler:f.contextBind(u,d),promise:s,receiver:i,value:p})}else l._addCallbacks(e,t,s,i,u);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){if(!k.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}},o.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==p)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=p),this._addCallbacks(t,n,i,r,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=p),this._addCallbacks(n,i,r,o,null)},o.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=f.contextBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=f.contextBind(r,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=i,"function"==typeof e&&(this[a+0]=f.contextBind(r,e)),"function"==typeof t&&(this[a+1]=f.contextBind(r,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=N(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(c());var r=i._bitField;if(0==(50397184&r)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&r))this._fulfill(i._value());else if(0!=(16777216&r))this._reject(i._reason());else{var l=new E("late cancellation observer");i._attachExtraTrace(l),this._reject(l)}}},o.prototype._rejectCallback=function(e,t,n){var i=f.ensureErrorObject(e),r=i===e;if(!r&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+f.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},o.prototype._resolveFromExecutor=function(e){if(e!==S){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)}},o.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0==(65536&r)){i._pushContext();var o;t===O?n&&"number"==typeof n.length?o=V(e).apply(this._boundValue(),n):(o=j,o.e=new C("cannot .spread() a non-array: "+f.classString(n))):o=V(e).call(t,n);var a=i._popContext();r=i._bitField,0==(65536&r)&&(o===I?i._reject(n):o===j?i._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,r){var a=e instanceof o,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),n instanceof B&&n.isFinallyHandler()?(n.cancelPromise=e,V(t).call(n,r)===j&&e._reject(j.e)):t===u?e._fulfill(u.call(n)):n instanceof i?n._promiseCancelled(e):a||e instanceof L?e._cancel():n.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,r,e)):t.call(n,r,e):n instanceof i?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(r,e):n._promiseRejected(r,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(r):e._reject(r))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof o&&n._reject(r)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():k.settlePromises(this),this._dereferenceTrace())}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return k.fatalError(e,f.isNode);(65535&t)>0?k.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&x.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),o.defer=o.pending=function(){return F.deprecated("Promise.defer","new Promise"),{promise:new o(S),resolve:a,reject:s}},f.notEnumerableProp(o,"_makeSelfResolutionError",c),t("./method")(o,S,N,d,F),t("./bind")(o,S,N,F),t("./cancel")(o,L,d,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,L,N,S,k),o.Promise=o,o.version="3.7.2",t("./call_get.js")(o),t("./generators.js")(o,d,S,N,i,F),t("./map.js")(o,L,d,N,S,F),t("./nodeify.js")(o),t("./promisify.js")(o,S),t("./props.js")(o,L,N,d),t("./race.js")(o,S,N,d),t("./reduce.js")(o,L,d,N,S,F),t("./settle.js")(o,L,F),t("./some.js")(o,L,d),t("./timers.js")(o,S,F),t("./using.js")(o,d,N,P,S,F),t("./any.js")(o),t("./each.js")(o,S),t("./filter.js")(o,S),f.toFastProperties(o),f.toFastProperties(o.prototype),l({a:1}),l({b:2}),l({c:3}),l(1),l(function(){}),l(void 0),l(!1),l(new o(S)),F.setBounds(A.firstLineError,f.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var i=this._promise=new t(n);e instanceof t&&(i._propagateFrom(e,3),e.suppressUnhandledRejections()),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util");l.isArray;return l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=i(this._values,this._promise);if(s instanceof t){s=s._target();var c=s._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=l.asArray(s))){var u=r("expecting an array or an iterable object but got "+l.classString(s)).reason();return void this._promise._rejectCallback(u,!1)}if(0===s.length)return void(-5===o?this._resolveEmptyArray():this._resolve(a(o)));this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,a=null,s=0;s<n;++s){var l=i(e[s],r);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||r._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){return!_.test(e)}function r(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,n){var i=f.getDataPropertyOrDefault(e,t+n,b);return!!i&&r(i)}function a(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,i){for(var s=f.inheritedDataKeys(e),l=[],c=0;c<s.length;++c){var u=s[c],d=e[u],p=i===x||x(u,d,e);"function"!=typeof d||r(d)||o(e,u,t)||!i(u,d,e,p)||l.push(u,d)}return a(l,t,n),l}function l(e,i,r,o,a,s){function l(){var r=i;i===p&&(r=this);var o=new t(n);o._captureStackTrace();var a="string"==typeof u&&this!==c?this[u]:e,l=h(o,s);try{a.apply(r,m(arguments,l))}catch(e){o._rejectCallback(g(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),u=e;return"string"==typeof u&&(e=o),f.notEnumerableProp(l,"__isPromisified__",!0),l}function c(e,t,n,i,r){for(var o=new RegExp(A(t)+"$"),a=s(e,t,o,n),l=0,c=a.length;l<c;l+=2){var u=a[l],d=a[l+1],h=u+t;if(i===k)e[h]=k(u,p,u,d,t,r);else{var m=i(d,function(){return k(u,p,u,d,t,r)});f.notEnumerableProp(m,"__isPromisified__",!0),e[h]=m}}return f.toFastProperties(e),e}function u(e,t,n){return k(e,t,void 0,e,null,n)}var d,p={},f=e("./util"),h=e("./nodeback"),m=f.withAppended,g=f.maybeWrapAsError,v=f.canEvaluate,y=e("./errors").TypeError,b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],_=new RegExp("^(?:"+w.join("|")+")$"),x=function(e){return f.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},A=function(e){return e.replace(/([$])/,"\\$")},k=v?d:l;t.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+f.classString(e));if(r(e))return e;t=Object(t);var n=void 0===t.context?p:t.context,o=!!t.multiArgs,a=u(e,n,o);return f.copyDescriptors(e,a,i),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var r=t.filter;"function"!=typeof r&&(r=x);var o=t.promisifier;if("function"!=typeof o&&(o=k),!f.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=f.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&f.isClass(l)&&(c(l.prototype,i,r,o,n),c(l,i,r,o,n))}return c(e,i,r,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=d(e),n=!0;else{var i=u.keys(e),r=i.length;t=new Array(2*r);for(var o=0;o<r;++o){var a=i[o];t[o]=e[a],t[o+r]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=i(e);return c(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=e("./util"),c=l.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);var d=function(){function e(e,i){this[t]=e,this[t+n]=i,t++}var t=0,n=0;return function(i){n=i.size,t=0;var r=new Array(2*i.size);return i.forEach(e,r),r}}(),p=function(e){for(var t=new s,n=e.length/2|0,i=0;i<n;++i){var r=e[n+i],o=e[i];t.set(r,o)}return t};l.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=p(this._values);else{n={};for(var i=this.length(),r=0,o=this.length();r<o;++r)n[this._values[r+i]]=this._values[r]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,r){for(var o=0;o<r;++o)n[o+i]=e[o+t],e[o+t]=void 0}function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},r.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,i(this,0,this,t,this._front+this._length&t-1)},t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){function o(e,o){var l=i(e);if(l instanceof t)return s(l);if(null===(e=a.asArray(e)))return r("expecting an array or an iterable object but got "+a.classString(e));var c=new t(n);void 0!==o&&c._propagateFrom(o,3);for(var u=c._fulfill,d=c._reject,p=0,f=e.length;p<f;++p){var h=e[p];(void 0!==h||p in e)&&t.cast(h)._then(u,d,void 0,c,null)}return c}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e,n,i,r){this.constructor$(e);var a=t._getContext();this._fn=p.contextBind(a,n),void 0!==i&&(i=t.resolve(i),i._attachCancellationCallback(this)),this._initialValue=i,this._currentCancellable=null,this._eachValues=r===o?Array(this._length):0===r?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,r){return"function"!=typeof t?i("expecting a function but got "+p.classString(t)):new s(e,t,n,r).promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=r(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n=this.array,i=n._promise,r=f(n._fn);i._pushContext();var o;(o=void 0!==n._eachValues?r.call(i._boundValue(),e,this.index,this.length):r.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=i._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),o}var p=e("./util"),f=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,i,r=e.length;void 0!==this._initialValue?(n=this._initialValue,i=0):(n=t.resolve(e[0]),i=1),this._currentCancellable=n;for(var o=i;o<r;++o){var a=e[o];a instanceof t&&a.suppressUnhandledRejections()}if(!n.isRejected())for(;i<r;++i){var s={accum:null,value:e[i],index:i,length:r,array:this};n=n._then(u,void 0,void 0,s,void 0),0==(127&i)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,i){return c(e,t,n,i)}}},{"./util":36}],29:[function(t,n,o){"use strict";var a,s=t("./util"),l=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=i.setImmediate,d=e.nextTick;a=s.isRecentNode?function(e){u.call(i,e)}:function(t){d.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();a=function(e){p.then(e)}
}else a="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(i,t);var r=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(e,t),r()}}():void 0!==r?function(e){r(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:l;n.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(r,n),r.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new r(e).promise()},t.allSettled=function(e){return new r(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new r(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,l=e("./errors").AggregateError,c=a.isArray,u={};a.inherits(r,n),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(e){this._howMany=e},r.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},r.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},r.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},r.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new l,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(e){this._values.push(e)},r.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=r}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,i){if(u(e)){if(e instanceof t)return e;var r=o(e);if(r===c){i&&i._pushContext();var l=t.reject(r.e);return i&&i._popContext(),l}if("function"==typeof r){if(a(e)){var l=new t(n);return e._then(l._fulfill,l._reject,void 0,l,null),l}return s(e,r,i)}}return e}function r(e){return e.then}function o(e){try{return r(e)}catch(e){return c.e=e,c}}function a(e){try{return d.call(e,"_promise0")}catch(e){return!1}}function s(e,i,r){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,d,!0),s=null)}var s=new t(n),u=s;r&&r._pushContext(),s._captureStackTrace(),r&&r._popContext();var d=!0,p=l.tryCatch(i).call(e,o,a);return d=!1,s&&p===c&&(s._rejectCallback(p.e,!0,!0),s=null),u}var l=e("./util"),c=l.errorObj,u=l.isObject,d={}.hasOwnProperty;return i}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),l=t.TimeoutError;r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(c,null,null,e,void 0),i.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),i.cancellation()&&a._setOnCancel(new r(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)};var d=function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),s.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,l=new r(setTimeout(function(){n.isPending()&&d(n,t,s)},e));return i.cancellation()?(s=this.then(),n=s._then(o,a,void 0,l,void 0),n._setOnCancel(l)):n=this._then(o,a,void 0,l,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e){setTimeout(function(){throw e},0)}function l(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,n){function r(){if(a>=c)return u._fulfill();var o=l(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(r,s,null,null,null)}r()}var a=0,c=e.length,u=new t(o);return r(),u}function u(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function p(e){return u.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function f(e){this.length=e,this.promise=null,this[e-1]=null}var h=e("./util"),m=e("./errors").TypeError,g=e("./util").inherits,v=h.errorObj,y=h.tryCatch,b={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},u.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},u.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(d,u),d.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},f.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var i=this[n];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if("function"!=typeof r)return n("expecting a function but got "+h.classString(r));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var l=new f(e),d=0;d<e;++d){var m=o[d];if(u.isDisposer(m)){var g=m;m=m.promise(),m._setDisposable(g)}else{var b=i(m);b instanceof t&&(m=b._then(p,null,null,{resources:l,index:d},void 0))}l[d]=m}for(var w=new Array(l.length),d=0;d<w.length;++d)w[d]=t.resolve(l[d]).reflect();var _=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return v.e=n.error(),v;if(!n.isFulfilled())return void _.cancel();e[t]=n.value()}x._pushContext(),r=y(r);var i=s?r.apply(void 0,e):r(e),o=x._popContext();return a.checkForgottenReturns(i,o,"Promise.using",x),i}),x=_.lastly(function(){var e=new t.PromiseInspection(_);return c(l,e)});return l.promise=x,x._setOnCancel(l),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,r());throw new m}}},{"./errors":12,"./util":36}],36:[function(t,n,r){"use strict";function o(){try{var e=N;return N=null,e.apply(this,arguments)}catch(e){return I.e=e,I}}function a(e){return N=e,o}function s(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function l(e){return"function"==typeof e||"object"==typeof e&&null!==e}function c(e){return s(e)?new Error(y(e)):e}function u(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r}function d(e,t,n){if(!S.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function p(e,t,n){if(s(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return S.defineProperty(e,t,i),e}function f(e){throw e}function h(e){try{if("function"==typeof e){var t=S.names(e.prototype),n=S.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=F.test(e+"")&&S.names(e).length>0;if(n||i||r)return!0}return!1}catch(e){return!1}}function m(e){function t(){}function n(){return typeof i.foo}t.prototype=e;var i=new t;return n(),n(),e}function g(e){return B.test(e)}function v(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i}function y(e){try{return e+""}catch(e){return"[no string representation]"}}function b(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function w(e){try{p(e,"isOperational",!0)}catch(e){}}function _(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function x(e){return b(e)&&S.propertyIsWritable(e,"stack")}function A(e){return{}.toString.call(e)}function k(e,t,n){for(var i=S.names(e),r=0;r<i.length;++r){var o=i[r];if(n(o))try{S.defineProperty(t,o,S.getDescriptor(e,o))}catch(e){}}}function T(t){return z?e.env[t]:void 0}function C(){if("function"==typeof Promise)try{if("[object Promise]"===A(new Promise(function(){})))return Promise}catch(e){}}function E(e,t){if(null===e||"function"!=typeof t||t===H)return t;null!==e.domain&&(t=e.domain.bind(t));var n=e.async;if(null!==n){var i=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=i,e[1]=this,n.runInAsyncScope.apply(n,e)}}return t}var S=t("./es5"),O="undefined"==typeof navigator,I={e:{}},N,L="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:void 0!==this?this:null,R=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},P=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(S.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],r=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return i}for(var a=0;a<o.length;++a){var s=o[a];if(!r[s]){r[s]=!0;var l=Object.getOwnPropertyDescriptor(e,s);null!=l&&null==l.get&&null==l.set&&i.push(s)}}e=S.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;r.push(o)}return r}}(),F=/this\s*\.\s*\S+\s*=/,B=/^[a-z$_][a-z$_0-9]*$/i,M=function(){return"stack"in new Error?function(e){return x(e)?e:new Error(y(e))}:function(e){if(x(e))return e;try{throw new Error(y(e))}catch(e){return e}}}(),D=function(e){return S.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var j="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};D=function(e){return S.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?j(e):null}}var V=void 0!==e&&"[object process]"===A(e).toLowerCase(),z=void 0!==e&&void 0!==e.env,H,U={setReflectHandler:function(e){H=e},isClass:h,isIdentifier:g,inheritedDataKeys:P,getDataPropertyOrDefault:d,thrower:f,isArray:S.isArray,asArray:D,notEnumerableProp:p,isPrimitive:s,isObject:l,isError:b,canEvaluate:O,errorObj:I,tryCatch:a,inherits:R,withAppended:u,maybeWrapAsError:c,toFastProperties:m,filledRange:v,toString:y,canAttachTrace:x,ensureErrorObject:M,originatesFromRejection:_,markAsOriginatingFromRejection:w,classString:A,copyDescriptors:k,isNode:V,hasEnvVariables:z,env:T,global:L,getNativePromise:C,contextBind:E};U.isRecentNode=U.isNode&&function(){var t;return e.versions&&e.versions.node?t=e.versions.node.split(".").map(Number):e.version&&(t=e.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),U.nodeSupportsAsyncResource=U.isNode&&function(){var e=!1;try{var n=t("async_hooks").AsyncResource;e="function"==typeof n.prototype.runInAsyncScope}catch(t){e=!1}return e}(),U.isNode&&U.toFastProperties(e);try{throw new Error}catch(e){U.lastLineError=e}n.exports=U},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{_process:8,timers:9}],2:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,l=0;l<i;l++)c[l].apply(this,o);return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.trace),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],3:[function(e,t,n){t.exports=e("./js")},{"./js":6}],4:[function(e,t,n){!function(e){function n(){}function i(e,t,n,i){e.addEventListener(t,n,!!Re&&(i||{}))}function r(e,t,n){e.removeEventListener(t,n,!1)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e){ue&&window.console}function s(e){window.console}function l(){c(),a("Initialising iFrame ("+window.location.href+")"),d(),h(),f("background",X),f("padding",J),k(),b(),w(),m(),E(),C(),_(),se=T(),D("init","Init message from host page"),Oe()}function c(){function t(e){return"true"===e}var n=ae.substr(fe).split(":");he=n[0],Q=e!==n[1]?Number(n[1]):Q,K=e!==n[2]?t(n[2]):K,ue=e!==n[3]?t(n[3]):ue,le=e!==n[4]?Number(n[4]):le,q=e!==n[6]?t(n[6]):q,$=n[7],re=e!==n[8]?n[8]:re,X=n[9],J=n[10],we=e!==n[11]?Number(n[11]):we,se.enable=e!==n[12]&&t(n[12]),ge=e!==n[13]?n[13]:ge,Ce=e!==n[14]?n[14]:Ce,de=e!==n[15]?Boolean(n[15]):de}function u(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],s("Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}function d(){function e(e,t){return"function"==typeof e&&(a("Setup custom "+t+"CalcMethod"),Ne[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(!function(){var e=window.iFrameResizer;a("Reading data from page: "+JSON.stringify(e)),Object.keys(e).forEach(u,e),Se="onMessage"in e?e.onMessage:Se,Oe="onReady"in e?e.onReady:Oe,be="targetOrigin"in e?e.targetOrigin:be,re="heightCalculationMethod"in e?e.heightCalculationMethod:re,Ce="widthCalculationMethod"in e?e.widthCalculationMethod:Ce}(),re=e(re,"height"),Ce=e(Ce,"width")),a("TargetOrigin for parent set to: "+be)}function p(e,t){return-1!==t.indexOf("-")&&(s("Negative CSS value ignored for "+e),t=""),t}function f(t,n){e!==n&&""!==n&&"null"!==n&&(document.body.style[t]=n,a("Body "+t+' set to "'+n+'"'))}function h(){e===$&&($=Q+"px"),f("margin",p("margin",$))}function m(){document.documentElement.style.height="",document.body.style.height="",a('HTML & body height set to "auto"')}function g(e){var t={add:function(t){function n(){D(e.eventName,e.eventType)}Le[t]=n,i(window,t,n,{passive:!0})},remove:function(e){var t=Le[e];delete Le[e],r(window,e,t)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),a(o(e.method)+" event listener: "+e.eventType)}function v(e){g({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),g({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),g({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),g({method:e,eventType:"Input",eventName:"input"}),g({method:e,eventType:"Mouse Up",eventName:"mouseup"}),g({method:e,eventType:"Mouse Down",eventName:"mousedown"}),g({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),g({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),g({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),g({method:e,eventType:"Touch Start",eventName:"touchstart"}),g({method:e,eventType:"Touch End",eventName:"touchend"}),g({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),g({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),g({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),g({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===ge&&g({method:e,eventType:"IFrame Resized",eventName:"resize"})}function y(e,t,n,i){return t!==e&&(e in n||(s(e+" is not a valid option for "+i+"CalculationMethod."),e=t),a(i+' calculation method set to "'+e+'"')),e}function b(){re=y(re,ie,Be,"height")}function w(){Ce=y(Ce,Te,Me,"width")}function _(){!0===q?(v("add"),I()):a("Auto Resize disabled")}function x(){null!==Y&&Y.disconnect()}function A(){v("remove"),x(),clearInterval(ce)}function k(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.appendChild(e)}function T(){function t(){return{x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}}function n(e){var n=e.getBoundingClientRect(),i=t();return{x:parseInt(n.left,10)+parseInt(i.x,10),y:parseInt(n.top,10)+parseInt(i.y,10)}}function r(t){var i=t.split("#")[1]||t,r=decodeURIComponent(i),o=document.getElementById(r)||document.getElementsByName(r)[0];e!==o?function(e){var t=n(e);a("Moving to in page link (#"+i+") at x: "+t.x+" y: "+t.y),H(t.y,t.x,"scrollToOffset")}(o):(a("In page link (#"+i+") not found in iFrame, so sending to parent"),H(0,0,"inPageLink","#"+i))}function o(){var e=window.location.hash,t=window.location.href;""!==e&&"#"!==e&&r(t)}function l(){function e(e){function t(e){e.preventDefault(),r(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&i(e,"click",t)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function c(){i(window,"hashchange",o)}function u(){setTimeout(o,ee)}return se.enable?function(){Array.prototype.forEach&&document.querySelectorAll?(a("Setting up location.hash handlers"),l(),c(),u()):s("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}():a("In page linking not enabled"),{findTarget:r}}function C(){function e(e){H(0,0,e.type,e.screenY+":"+e.screenX)}function t(t,n){a("Add event listener: "+n),i(window.document,t,e)}!0===de&&(t("mouseenter","Mouse Enter"),t("mouseleave","Mouse Leave"))}function E(){a("Enable public methods"),Ee.parentIFrame={autoResize:function(e){return!0===e&&!1===q?(q=!0,_()):!1===e&&!0===q&&(q=!1,A()),H(0,0,"autoResize",JSON.stringify(q)),q},close:function(){H(0,0,"close")},getId:function(){return he},getPageInfo:function(e){"function"==typeof e?(Ie=e,H(0,0,"pageInfo")):(Ie=function(){},H(0,0,"pageInfoStop"))},moveToAnchor:function(e){se.findTarget(e)},reset:function(){z("parentIFrame.reset")},scrollTo:function(e,t){H(t,e,"scrollTo")},scrollToOffset:function(e,t){H(t,e,"scrollToOffset")},sendMessage:function(e,t){H(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){re=e,b()},setWidthCalculationMethod:function(e){Ce=e,w()},setTargetOrigin:function(e){a("Set targetOrigin: "+e),be=e},size:function(e,t){D("size","parentIFrame.size("+(e||"")+(t?","+t:"")+")",e,t)}}}function S(){0!==le&&(a("setInterval: "+le+"ms"),ce=setInterval(function(){D("interval","setInterval: "+le)},Math.abs(le)))}function O(){function e(e){function t(e){!1===e.complete&&(a("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",o,!1),l.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function t(e){l.splice(l.indexOf(e),1)}function n(e){a("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",o,!1),t(e)}function i(e,t,i){n(e.target),D(t,i+": "+e.target.src)}function r(e){i(e,"imageLoad","Image loaded")}function o(e){i(e,"imageLoadFailed","Image load failed")}function s(t){D("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(e)}var l=[],c=window.MutationObserver||window.WebKitMutationObserver,u=function(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return u=new c(s),a("Create body MutationObserver"),u.observe(e,t),u}();return{disconnect:function(){"disconnect"in u&&(a("Disconnect body MutationObserver"),u.disconnect(),l.forEach(n))}}}function I(){var e=0>le;window.MutationObserver||window.WebKitMutationObserver?e?S():Y=O():(a("MutationObserver not supported in this browser!"),S())}function N(e,t){var n=0;return t=t||document.body,n=document.defaultView.getComputedStyle(t,null),n=null!==n?n[e]:0,parseInt(n,G)}function L(e){e>Ae/2&&(Ae=2*e,a("Event throttle increased to "+Ae+"ms"))}function R(e,t){for(var n=t.length,i=0,r=0,s=o(e),l=Fe(),c=0;c<n;c++)(i=t[c].getBoundingClientRect()[e]+N("margin"+s,t[c]))>r&&(r=i);return l=Fe()-l,a("Parsed "+n+" HTML elements"),a("Element position calculated in "+l+"ms"),L(l),r}function P(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function F(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&function(){s("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")}(),R(e,n)}function B(){return document.querySelectorAll("body *")}function M(t,n,i,r){function o(){return!(t in{init:1,interval:1,size:1})}function s(){return re in me||K&&Ce in me}function l(){a("No change in size detected")}var c,u;!function(){function t(e,t){return!(Math.abs(e-t)<=we)}return c=e!==i?i:Be[re](),u=e!==r?r:Me[Ce](),t(ne,c)||K&&t(ke,u)}()&&"init"!==t?function(){o()&&s()?z(n):t in{interval:1}||l()}():(j(),function(){ne=c,ke=u,H(ne,ke,t)}())}function D(e,t,n,i){!function(){return _e&&e in Z}()?(!function(){e in{reset:1,resetPage:1,init:1}||a("Trigger event: "+t)}(),"init"===e?M(e,t,n,i):De(e,t,n,i)):a("Trigger event cancelled: "+e)}function j(){_e||(_e=!0,a("Trigger event lock on")),clearTimeout(xe),xe=setTimeout(function(){_e=!1,a("Trigger event lock off"),a("--")},ee)}function V(e){ne=Be[re](),ke=Me[Ce](),H(ne,ke,e)}function z(e){var t=re;re=ie,a("Reset trigger event: "+e),j(),V("reset"),re=t}function H(t,n,i,r,o){!0===ve&&(function(){e===o?o=be:a("Message targetOrigin: "+o)}(),function(){var s=t+":"+n,l=he+":"+s+":"+i+(e!==r?":"+r:"");a("Sending message to host page ("+l+")"),ye.postMessage(pe+l,o)}())}function U(e){function n(){return e.data.split("]")[1].split(":")[0]}function i(){return e.data.substr(e.data.indexOf(":")+1)}function r(){return!(void 0!==t&&t.exports)&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype}function o(){return e.data.split(":")[2]in{true:1,false:1}}function c(){var t=n();t in u?u[t]():r()||o()||s("Unexpected message ("+e.data+")")}var u={init:function(){ae=e.data,ye=e.source,l(),te=!1,setTimeout(function(){oe=!1},ee)},reset:function(){oe?a("Page reset ignored by init"):(a("Page size reset by host page"),V("resetPage"))},resize:function(){D("resizeParent","Parent window requested size check")},moveToAnchor:function(){se.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=i();a("PageInfoFromParent called from parent: "+e),Ie(JSON.parse(e)),a(" --")},message:function(){var e=i();a("onMessage called from parent: "+e),Se(JSON.parse(e)),a(" --")}};(function(){return pe===(""+e.data).substr(0,fe)})()&&function(){!1===te?c():o()?u.init():a('Ignored message of type "'+n()+'". Received before initialization.')}()}function W(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}if("undefined"!=typeof window){var q=!0,G=10,X="",Q=0,$="",Y=null,J="",K=!1,Z={resize:1,click:1},ee=128,te=!0,ne=1,ie="bodyOffset",re=ie,oe=!0,ae="",se={},le=32,ce=null,ue=!1,de=!1,pe="[iFrameSizer]",fe=pe.length,he="",me={max:1,min:1,bodyScroll:1,documentElementScroll:1},ge="child",ve=!0,ye=window.parent,be="*",we=0,_e=!1,xe=null,Ae=16,ke=1,Te="scroll",Ce=Te,Ee=window,Se=function(){s("onMessage function not defined")},Oe=function(){},Ie=function(){},Ne={height:function(){return s("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return s("Custom width calculation function not defined"),document.body.scrollWidth}},Le={},Re=!1;try{var Pe=Object.create({},{passive:{get:function(){Re=!0}}});window.addEventListener("test",n,Pe),window.removeEventListener("test",n,Pe)}catch(e){}var Fe=Date.now||function(){return(new Date).getTime()},Be={bodyOffset:function(){return document.body.offsetHeight+N("marginTop")+N("marginBottom")},offset:function(){return Be.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Ne.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){
return Math.max.apply(null,P(Be))},min:function(){return Math.min.apply(null,P(Be))},grow:function(){return Be.max()},lowestElement:function(){return Math.max(Be.bodyOffset()||Be.documentElementOffset(),R("bottom",B()))},taggedElement:function(){return F("bottom","data-iframe-height")}},Me={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Ne.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Me.bodyScroll(),Me.documentElementScroll())},max:function(){return Math.max.apply(null,P(Me))},min:function(){return Math.min.apply(null,P(Me))},rightMostElement:function(){return R("right",B())},taggedElement:function(){return F("right","data-iframe-width")}},De=function(e){var t,n,i,r=null,o=0,a=function(){o=Fe(),r=null,i=e.apply(t,n),r||(t=n=null)};return function(){var s=Fe();o||(o=s);var l=Ae-(s-o);return t=this,n=arguments,l<=0||l>Ae?(r&&(clearTimeout(r),r=null),o=s,i=e.apply(t,n),r||(t=n=null)):r||(r=setTimeout(a,l)),i}}(M);i(window,"message",U),i(window,"readystatechange",W),W()}}()},{}],5:[function(e,t,n){!function(e){function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}function o(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!j;e+=1)j=window[t[e]+"RequestAnimationFrame"];j?j=j.bind(window):s("setup","RequestAnimationFrame not supported")}function a(e){return z[e]?z[e].log:R}function s(e,t){u("log",e,t,a(e))}function l(e,t){u("info",e,t,a(e))}function c(e,t){u("warn",e,t,!0)}function u(e,t,n,i){!0===i&&window.console}function d(e){function t(){function e(){b(j),g(V),L("onResized",j)}a("Height"),a("Width"),w(e,j,"init")}function n(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function o(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function a(e){var t=Number(z[V]["max"+e]),n=Number(z[V]["min"+e]),i=e.toLowerCase(),r=Number(j[i]);s(V,"Checking "+i+" is in range "+n+"-"+t),r<n&&(r=n,s(V,"Set "+i+" to min value")),r>t&&(r=t,s(V,"Set "+i+" to max value")),j[i]=""+r}function u(e){return P.substr(P.indexOf(":")+F+e)}function d(e){s(V,"onMessage passed: {iframe: "+j.iframe.id+", message: "+e+"}"),L("onMessage",{iframe:j.iframe,message:JSON.parse(e)}),s(V,"--")}function f(){var e=document.body.getBoundingClientRect(),t=j.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function A(e,t){function n(){_("Send Page Info","pageInfo:"+f(),e,t)}T(n,32,t)}function k(){function e(e,i){function r(){z[n]?A(z[n].iframe,n):t()}["scroll","resize"].forEach(function(t){s(n,e+t+" listener for sendPageInfo"),i(window,t,r)})}function t(){e("Remove ",r)}var n=V;!function(){e("Add ",i)}(),z[n]&&(z[n].stopPageInfo=t)}function C(){z[V]&&z[V].stopPageInfo&&(z[V].stopPageInfo(),delete z[V].stopPageInfo)}function E(e){var t=e.getBoundingClientRect();return m(V),{x:Math.floor(Number(t.left)+Number(D.x)),y:Math.floor(Number(t.top)+Number(D.y))}}function S(e){var t=e?E(j.iframe):{x:0,y:0},n=function(){return{x:Number(j.width)+t.x,y:Number(j.height)+t.y}}();s(V,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?function(){window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):c(V,"Unable to scroll to requested position, window.parentIFrame not found")}():function(){D=n,O(),s(V,"--")}()}function O(){!1!==L("onScroll",D)?g(V):v()}function I(e){var t=e.split("#")[1]||"",n=decodeURIComponent(t),i=document.getElementById(n)||document.getElementsByName(n)[0];i?function(){var e=E(i);s(V,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),D={x:e.x,y:e.y},O(),s(V,"--")}():window.top!==window.self?function(){window.parentIFrame?window.parentIFrame.moveToAnchor(t):s(V,"In page link #"+t+" not found and window.parentIFrame not found")}():s(V,"In page link #"+t+" not found")}function N(e){var t={};if(0===Number(j.width)&&0===Number(j.height)){var n=u(9).split(":");t={x:n[1],y:n[0]}}else t={x:j.width,y:j.height};L(e,{iframe:j.iframe,screenX:Number(t.x),screenY:Number(t.y),type:j.type})}function L(e,t){return p(V,e,t)}function R(){z[V]&&(z[V].firstRun=!1)}var P=e.data,j={},V=null;"[iFrameResizerChild]Ready"===P?function(){for(var e in z)_("iFrame requested init",x(e),z[e].iframe,e)}():function(){return B===(""+P).substr(0,M)&&P.substr(M).split(":")[0]in z}()?(j=function(){var e=P.substr(M).split(":"),t=e[1]?parseInt(e[1],10):0,i=z[e[0]]&&z[e[0]].iframe,r=getComputedStyle(i);return{iframe:i,id:e[0],height:t+n(r)+o(r),width:e[2],type:e[3]}}(),V=j.id,z[V]&&(z[V].loaded=!0),!function(){var e=j.type in{true:1,false:1,undefined:1};return e&&s(V,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return z[e]||(t=!1,c(j.type+" No settings for "+e+". Message was: "+P)),t}(V)&&(s(V,"Received: "+P),function(){var e=!0;return null===j.iframe&&(c(V,"IFrame ("+j.id+") not found"),e=!1),e}()&&function(){var t=e.origin,n=z[V]&&z[V].checkOrigin;if(n&&""+t!="null"&&!function(){return n.constructor===Array?function(){var e=0,i=!1;for(s(V,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===t){i=!0;break}return i}():function(){var e=z[V]&&z[V].remoteHost;return s(V,"Checking connection is from: "+e),t===e}()}())throw new Error("Unexpected message received from: "+t+" for "+j.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(z[V]&&z[V].firstRun&&R(),j.type){case"close":h(j.iframe);break;case"message":d(u(6));break;case"mouseenter":N("onMouseEnter");break;case"mouseleave":N("onMouseLeave");break;case"autoResize":z[V].autoResize=JSON.parse(u(9));break;case"scrollTo":S(!1);break;case"scrollToOffset":S(!0);break;case"pageInfo":A(z[V]&&z[V].iframe,V),k();break;case"pageInfoStop":C();break;case"inPageLink":I(u(9));break;case"reset":y(j);break;case"init":t(),L("onInit",j.iframe);break;default:0===Number(j.width)&&0===Number(j.height)?c("Unsupported message received ("+j.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}}())):l(V,"Ignored: "+P)}function p(e,t,n){var i=null,r=null;if(z[e]){if("function"!=typeof(i=z[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");r=i(n)}return r}function f(e){var t=e.id;delete z[t]}function h(e){var t=e.id;if(!1===p(t,"onClose",t))return void s(t,"Close iframe cancelled by onClose event");s(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){c(e)}p(t,"onClosed",t),s(t,"--"),f(e)}function m(t){null===D&&(D={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop},s(t,"Get page position: "+D.x+","+D.y))}function g(e){null!==D&&(window.scrollTo(D.x,D.y),s(e,"Set page position: "+D.x+","+D.y),v())}function v(){D=null}function y(e){function t(){b(e),_("reset","reset",e.iframe,e.id)}s(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),m(e.id),w(t,e,"reset")}function b(e){function t(t){if(!e.id)return void s("undefined","messageData id not set");e.iframe.style[t]=e[t]+"px",s(e.id,"IFrame ("+r+") "+t+" set to "+e[t]+"px")}function n(t){P||"0"!==e[t]||(P=!0,s(r,"Hidden iFrame detected, creating visibility listener"),C())}function i(e){t(e),n(e)}var r=e.iframe.id;z[r]&&(z[r].sizeHeight&&i("height"),z[r].sizeWidth&&i("width"))}function w(e,t,n){n!==t.type&&j&&!window.jasmine?(s(t.id,"Requesting animation frame"),j(e)):e()}function _(e,t,n,i,r){function o(){var r=z[i]&&z[i].targetOrigin;s(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+r),n.contentWindow.postMessage(B+t,r)}function a(){c(i,"["+e+"] IFrame("+i+") not found")}var l=!1;i=i||n.id,z[i]&&(function(){n&&"contentWindow"in n&&null!==n.contentWindow?o():a()}(),function(){function e(){!z[i]||z[i].loaded||l||(l=!0,c(i,"IFrame has not responded within "+z[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}r&&z[i]&&z[i].warningTimeout&&(z[i].msgTimeout=setTimeout(e,z[i].warningTimeout))}())}function x(e){return e+":"+z[e].bodyMarginV1+":"+z[e].sizeWidth+":"+z[e].log+":"+z[e].interval+":"+z[e].enablePublicMethods+":"+z[e].autoResize+":"+z[e].bodyMargin+":"+z[e].heightCalculationMethod+":"+z[e].bodyBackground+":"+z[e].bodyPadding+":"+z[e].tolerance+":"+z[e].inPageLinks+":"+z[e].resizeFrom+":"+z[e].widthCalculationMethod+":"+z[e].mouseEvents}function A(t,r){function o(){var e=r&&r.id||U.id+L++;return null!==document.getElementById(e)&&(e+=L++),e}function a(){var e=z[m]&&z[m].firstRun,n=z[m]&&z[m].heightCalculationMethod in V;!e&&n&&y({iframe:t,height:0,width:0,type:"init"})}function l(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function u(e){for(var t in U)Object.prototype.hasOwnProperty.call(U,t)&&(z[m][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:U[t])}function d(e){return""===e||null!==e.match(/^(about:blank|javascript:|file:\/\/)/)?"*":e}function p(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],c(m,"Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var m=function(e){return""===e&&(t.id=e=o(),R=(r||{}).log,s(e,"Added missing iframe ID: "+e+" ("+t.src+")")),e}(t.id);!function(){return m in z&&"iFrameResizer"in t}()?(function(e){e=e||{},z[m]={firstRun:!0,iframe:t,remoteHost:t.src&&t.src.split("/").slice(0,3).join("/")},l(e),Object.keys(e).forEach(p,e),u(e),z[m]&&(z[m].targetOrigin=!0===z[m].checkOrigin?d(z[m].remoteHost):"*")}(r),function(){switch(s(m,"IFrame scrolling "+(z[m]&&z[m].scrolling?"enabled":"disabled")+" for "+m),t.style.overflow=!1===(z[m]&&z[m].scrolling)?"hidden":"auto",z[m]&&z[m].scrolling){case"omit":break;case!0:t.scrolling="yes";break;case!1:t.scrolling="no";break;default:t.scrolling=z[m]?z[m].scrolling:"no"}}(),function(){function e(e){1/0!==z[m][e]&&0!==z[m][e]&&(t.style[e]=z[m][e]+"px",s(m,"Set "+e+" = "+z[m][e]+"px"))}function n(e){if(z[m]["min"+e]>z[m]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),function(){"number"!=typeof(z[m]&&z[m].bodyMargin)&&"0"!==(z[m]&&z[m].bodyMargin)||(z[m].bodyMarginV1=z[m].bodyMargin,z[m].bodyMargin=z[m].bodyMargin+"px")}(),function(r){function o(){_("iFrame.onload",r,t,e,!0),a()}var s=n();s&&function(e){t.parentNode&&new e(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===t&&h(t)})})}).observe(t.parentNode,{childList:!0})}(s),i(t,"load",o),_("init",r,t,e,!0)}(x(m)),function(){z[m]&&(z[m].iframe.iFrameResizer={close:h.bind(null,z[m].iframe),removeListeners:f.bind(null,z[m].iframe),resize:_.bind(null,"Window resize","resize",z[m].iframe),moveToAnchor:function(e){_("Move to anchor","moveToAnchor:"+e,z[m].iframe,m)},sendMessage:function(e){e=JSON.stringify(e),_("Send Message","message:"+e,z[m].iframe,m)}})}()):c(m,"Ignored iFrame, already setup.")}function k(e,t){null===H&&(H=setTimeout(function(){H=null,e()},t))}function T(e,t,n){W[n]||(W[n]=setTimeout(function(){W[n]=null,e()},t))}function C(){function e(){function e(e){function t(t){return"0px"===(z[e]&&z[e].iframe.style[t])}z[e]&&function(e){return null!==e.offsetParent}(z[e].iframe)&&(t("height")||t("width"))&&_("Visibility change","resize",z[e].iframe,e)}Object.keys(z).forEach(function(t){e(t)})}function t(t){s("window","Mutation observed: "+t[0].target+" "+t[0].type),k(e,16)}var i=n();i&&function(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new i(t).observe(e,n)}()}function E(e){function t(){O("Window "+e,"resize")}s("window","Trigger event: "+e),k(t,16)}function S(){function e(){O("Tab Visable","resize")}"hidden"!==document.visibilityState&&(s("document","Trigger event: Visiblity change"),k(e,16))}function O(e,t){function n(e){return z[e]&&"parent"===z[e].resizeFrom&&z[e].autoResize&&!z[e].firstRun}Object.keys(z).forEach(function(i){n(i)&&_(e,t,z[i].iframe,i)})}function I(){i(window,"message",d),i(window,"resize",function(){E("resize")}),i(document,"visibilitychange",S),i(document,"-webkit-visibilitychange",S)}function N(){function t(e,t){t&&(!function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),A(t,e),i.push(t))}function n(e){e&&e.enablePublicMethods&&c("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var i;return o(),I(),function(r,o){switch(i=[],n(r),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),t.bind(e,r));break;case"object":t(r,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return i}}if("undefined"!=typeof window){var L=0,R=!1,P=!1,F="message".length,B="[iFrameSizer]",M=B.length,D=null,j=window.requestAnimationFrame,V={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},z={},H=null,U={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){c("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},W={};window.jQuery&&function(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){function t(t,n){A(n,e)}return this.filter("iframe").each(t).end()}):l("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),"function"==typeof define&&define.amd?define([],N):"object"==typeof t&&"object"==typeof t.exports&&(t.exports=N()),window.iFrameResize=window.iFrameResize||N()}}()},{}],6:[function(e,t,n){var i=e("./iframeResizer");n.iframeResize=i,n.iframeResizer=i,n.iframeResizerContentWindow=e("./iframeResizer.contentWindow")},{"./iframeResizer":5,"./iframeResizer.contentWindow":4}],7:[function(e,t,n){!function(e,i){"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.postscribe=i():e.postscribe=i()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=r.default},function(e,t,n){"use strict";function i(){}function r(){var e=h.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=o.apply(void 0,e),t.afterStreamStart()}}function o(e,t,n){function o(e){e=n.beforeWrite(e),m.write(e),n.afterWrite(e)}m=new c.default(e,n),m.id=f++,m.name=n.name||m.id,a.streams[m.name]=m;var l=e.ownerDocument,u={close:l.close,open:l.open,write:l.write,writeln:l.writeln};s(l,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join("")+"\n")}});var d=m.win.onerror||i;return m.win.onerror=function(e,t,i){n.error({msg:e+" - "+t+": "+i}),d.apply(m.win,[e,t,i])},m.write(t,function(){s(l,u),m.win.onerror=d,n.done(),m=null,r()}),m}function a(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return h=[],m=null,void(f=0);n=d.defaults(n,p),e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e;var o=[e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=i}},n.beforeEnqueue(o),h.push(o),m||r(),e.postscribe}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=a;var l=n(2),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(4),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),p={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw e},releaseAsync:!1},f=0,h=[],m=null;s(a,{streams:{},queue:h,WriteStream:c.default})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n=d+t,i=e.getAttribute(n);return u.existy(i)?String(i):i}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=d+t;u.existy(n)&&""!==n?e.setAttribute(i,n):e.removeAttribute(i)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(4),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d="data-ps-",p=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],o(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,i=void 0,r=[];(t=this.parser.readToken())&&!(n=u.isScript(t))&&!(i=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),i&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this._walkChunk(),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],i=[],r=[],o=e.length,a=0;a<o;a++){var s=e[a],l=s.toString();if(n.push(l),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;i.push(l.replace(/(\/?>)/," "+d+"id="+c+" $1")),"ps-script"!==s.attrs.id&&"ps-style"!==s.attrs.id&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+d+"proxyof="+c+(s.unary?" />":">"))}}else i.push(l),r.push("endTag"===s.type?l:"")}return{tokens:e,raw:n.join(""),actual:i.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var n=1===e.nodeType;if(!(n&&r(e,"proxyof"))){n&&(this.actuals[r(e,"id")]=e,o(e,"id"));var i=e.parentNode&&r(e.parentNode,"proxyof");i&&this.actuals[i].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",e=this.options.beforeWriteToken(e),e&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,"ps-style"),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,function(e,n){t.setAttribute(e,n)}),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){if(e!==this.scriptStack[0])return void this.options.error({message:"Bad script nesting or script finished twice"});this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),i=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,i?r:function(){t(),r()}));try{this._insertCursor(n,"ps-script"),n.src&&!i||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,function(e,n){t.setAttribute(e,n)}),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function i(){n(),t()}function r(e){n(),o(e),t()}var o=this.options.error;a(e,{onload:function(){return i()},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&i()},onerror:function(){return r({message:"remote script failed "+e.src})}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=p},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=r.default},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(2),a=i(o),s=n(3),l=i(s),c=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n(5),p={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},f=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e),this.stream=n;var o=!1,s={};for(var l in a)a.hasOwnProperty(l)&&(i.autoFix&&(s[l+"Fix"]=!0),o=o||s[l+"Fix"]);o?(this._readToken=(0,u.default)(this,s,function(){return t._readTokenImpl()}),this._peekToken=(0,u.default)(this,s,function(){return t._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in p)if(p.hasOwnProperty(e)&&p[e].test(this.stream)){var t=l[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();t.default=f,f.tokenToString=function(e){return e.toString()},f.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,d.escapeQuotes)(e[n],null));return t},f.supports=a;for(var h in a)a.hasOwnProperty(h)&&(f.browserHasFlaw=f.browserHasFlaw||!a[h]&&h)},function(e,t){"use strict";t.__esModule=!0;var n=!1,i=!1,r=window.document.createElement("div");try{var o="<P><I></P></I>";r.innerHTML=o,t.tagSoup=n=r.innerHTML!==o}catch(e){t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=i=2===r.childNodes.length}catch(e){t.selfClose=i=!1}r=null,t.tagSoup=n,t.selfClose=i},function(e,t,n){"use strict";function i(e){var t=e.indexOf("--\x3e");if(t>=0)return new c.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new c.CharsToken(t>=0?t:e.length)}function o(e){if(-1!==e.indexOf(">")){var t=e.match(u.startTag);if(t){var n=function(){var e={},n={},i=t[2];return t[2].replace(u.attr,function(t,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(e[arguments[5]]="",n[arguments[5]]=!0):e[r]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(r)&&r||"":e[r]="",i=i.replace(t,"")}),{v:new c.StartTagToken(t[1],t[0].length,e,n,!!t[3],i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}();if("object"===(void 0===n?"undefined":l(n)))return n.v}}}function a(e){var t=o(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var i=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(i)return new c.AtomicTagToken(t.tagName,i[0].length+t.length,t.attrs,t.booleanAttrs,i[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new c.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.comment=i,t.chars=r,t.startTag=o,t.atomicTag=a,t.endTag=s;var c=n(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=n(5),o=(t.Token=function e(t,n){i(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){i(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"\x3c!--"+this.content},e}(),t.CharsToken=function(){function e(t){i(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,r,o,a){i(this,e),this.type=t,this.length=r,this.text="",this.tagName=n,this.attrs=o,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n="<"+e.tagName;for(var i in e.attrs)if(e.attrs.hasOwnProperty(i)){n+=" "+i;var o=e.attrs[i];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[i]||(n+='="'+(0,r.escapeQuotes)(o)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",void 0!==t&&null!==t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,r,o,a,s){i(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.html5Unary=!1,this.unary=a,this.rest=s}return e.prototype.toString=function(){return o.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,r,o,a){i(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1,this.content=a}return e.prototype.toString=function(){return o.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){i(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function i(e,t){var i=e.stream,r=n(t());return e.stream=i,r}function r(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function o(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function a(e,t,a){function s(){var t=i(e,a);t&&u[t.type]&&u[t.type](t)}var c=o(),u={startTag:function(n){var i=n.tagName;"TR"===i.toUpperCase()&&c.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&l.test(i)&&c.containsTagName(i)?c.lastTagNameEq(i)?r(e,c):(e.prepend("</"+n.tagName+">"),s()):n.unary||c.push(n)},endTag:function(n){c.last()?t.tagSoupFix&&!c.lastTagNameEq(n.tagName)?r(e,c):c.pop():t.tagSoupFix&&(a(),s())}};return function(){return s(),n(a())}}t.__esModule=!0,t.default=a;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(e,t){"use strict";function n(e){return void 0!==e&&null!==e}function i(e){return"function"==typeof e}function r(e,t,n){var i=void 0,r=e&&e.length||0;for(i=0;i<r;i++)t.call(n,e[i],i)}function o(e,t,n){for(var i in e)e.hasOwnProperty(i)&&t.call(n,i,e[i])}function a(e,t){return e=e||{},o(t,function(t,i){n(e[t])||(e[t]=i)}),e}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=function(){var t=[];return r(e,function(e){t.push(e)}),{v:t}}();if("object"===(void 0===t?"undefined":p(t)))return t.v}}function l(e){return e[e.length-1]}function c(e,t){
return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e))&&!!~e.tagName.toLowerCase().indexOf(t)}function u(e){return c(e,"script")}function d(e){return c(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.existy=n,t.isFunction=i,t.each=r,t.eachKey=o,t.defaults=a,t.toArray=s,t.last=l,t.isTag=c,t.isScript=u,t.isStyle=d}])})},{}],8:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=o(s);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,f=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,m=[],g=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],9:[function(e,t,n){(function(t,i){(function(){function r(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;n.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,i=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":8,timers:9}],10:[function(e,t,n){(function(){var e;e=function(){function e(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]}return e}(),t.exports=e}).call(this)},{}],11:[function(e,t,n){(function(){var i,r,o;r=e("./parser"),o=e("./util"),i=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,i){var o,a,s,l;if(a=+new Date,o=n.extend=function(e,t){var n,i;for(n in t)i=t[n],e[n]=i;return e},i||("function"==typeof t&&(i=t),s={}),s=o(this.options,t),this.totalCallsTimeout<a?(this.totalCalls=1,this.totalCallsTimeout=a+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls)return void i(null,new Error("VAST call canceled  FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch));if((l=a-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(l<this.cappingMinimumTimeInterval)return void i(null,new Error("VAST call canceled  ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return r.parse(e,s,function(e){return function(e,t){return i(e,t)}}())},function(){var t,n;n=o.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(i){t(e,i,{get:function(){return n.getItem(i)},set:function(e){return n.setItem(i,e)},configurable:!1,enumerable:!0})}),null==e.lastSuccessfullAd&&(e.lastSuccessfullAd=0),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=i}).call(this)},{"./parser":20,"./util":26}],12:[function(e,t,n){(function(){var e;e=function(){function e(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}}return e}(),t.exports=e}).call(this)},{}],13:[function(e,t,n){(function(){var e,n,i,r,o=function(e,t){function n(){this.constructor=e}for(var i in t)a.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;e=function(){function e(e){null==e&&(e={}),this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}return e}(),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return o(t,e),t}(e),r=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return o(t,e),t}(e),n=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return o(t,e),t}(e),t.exports={VASTCreativeLinear:i,VASTCreativeNonLinear:r,VASTCreativeCompanion:n}}).call(this)},{}],14:[function(e,t,n){(function(){var e;e=function(){function e(){this.attributes={},this.children=[]}return e}(),t.exports=e}).call(this)},{}],15:[function(e,t,n){(function(){var e;e=function(){function e(){this.name=null,this.value=null,this.attributes={}}return e}(),t.exports=e}).call(this)},{}],16:[function(e,t,n){(function(){var e;e=function(){function e(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}return e}(),t.exports=e}).call(this)},{}],17:[function(e,t,n){(function(){t.exports={client:e("./client"),tracker:e("./tracker"),parser:e("./parser"),util:e("./util")}}).call(this)},{"./client":11,"./parser":20,"./tracker":22,"./util":26}],18:[function(e,t,n){(function(){var e;e=function(){function e(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}return e}(),t.exports=e}).call(this)},{}],19:[function(e,t,n){(function(){var e;e=function(){function e(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}return e}(),t.exports=e}).call(this)},{}],20:[function(e,t,n){(function(){var n,i,r,o,a,s,l,c,u,d,p,f,h,m,g,v=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=e("./urlhandler"),m=e("./response"),r=e("./ad"),o=e("./extension"),a=e("./extensionchild"),g=e("./util"),c=e("./creative").VASTCreativeLinear,l=e("./creative").VASTCreativeCompanion,u=e("./creative").VASTCreativeNonLinear,p=e("./mediafile"),d=e("./icon"),s=e("./companionad"),f=e("./nonlinear"),n=e("events").EventEmitter,h=function(){function e(){}var t;return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),this._parse(e,null,t,function(e,t){return n(t,e)})},e.vent=new n,e.track=function(e,t){return this.vent.emit("VAST-error",t),g.track(e,t)},e.on=function(e,t){return this.vent.on(e,t)},e.once=function(e,t){return this.vent.once(e,t)},e._parse=function(e,n,r,o){var a,s,l;for(o||("function"==typeof r&&(o=r),r={}),s=0,l=t.length;s<l;s++)a=t[s],e=a(e);return null==n&&(n=[]),n.push(e),i.get(e,r,function(t){return function(i,a){var s,l,c,u,d,p,f,h,g,y,b;if(null!=i)return o(i);if(b=new m,null==(null!=a?a.documentElement:void 0)||"VAST"!==a.documentElement.nodeName)return o(new Error("Invalid VAST XMLDocument"));for(g=a.documentElement.childNodes,c=0,d=g.length;c<d;c++)h=g[c],"Error"===h.nodeName&&b.errorURLTemplates.push(t.parseNodeText(h));for(y=a.documentElement.childNodes,u=0,p=y.length;u<p;u++)h=y[u],"Ad"===h.nodeName&&(s=t.parseAdElement(h),null!=s?b.ads.push(s):t.track(b.errorURLTemplates,{ERRORCODE:101}));for(l=function(e,n){var i,r,a,l;if(null==e&&(e=null),null==n&&(n=!1),b){for(a=!0,l=b.ads,i=0,r=l.length;i<r;i++){if(s=l[i],null!=s.nextWrapperURL)return;s.creatives.length>0&&(a=!1)}return a&&(n||t.track(b.errorURLTemplates,{ERRORCODE:303})),0===b.ads.length&&(b=null),o(e,b)}},f=b.ads.length;f--;)s=b.ads[f],null!=s.nextWrapperURL&&function(i){var o;n.length>(null!==r.wrapperLimit?r.wrapperLimit:9)||(o=i.nextWrapperURL,v.call(n,o)>=0)?(t.track(i.errorURLTemplates,{ERRORCODE:302}),b.ads.splice(b.ads.indexOf(i),1),l(new Error("Wrapper limit reached, as defined by the video player"))):(i.nextWrapperURL=t.resolveVastAdTagURI(i.nextWrapperURL,e),t._parse(i.nextWrapperURL,n,r,function(e,n){var r,o,a,s,c,u;if(r=!1,null!=e)t.track(i.errorURLTemplates,{ERRORCODE:301}),b.ads.splice(b.ads.indexOf(i),1),r=!0;else if(null==n)t.track(i.errorURLTemplates,{ERRORCODE:303}),b.ads.splice(b.ads.indexOf(i),1),r=!0;else for(b.errorURLTemplates=b.errorURLTemplates.concat(n.errorURLTemplates),o=b.ads.indexOf(i),b.ads.splice(o,1),c=n.ads,a=0,s=c.length;a<s;a++)u=c[a],t.mergeWrapperAdData(u,i),b.ads.splice(++o,0,u);return delete i.nextWrapperURL,l(e,r)}))}(s);return l()}}(this))},e.resolveVastAdTagURI=function(e,t){return 0===e.indexOf("//")?""+location.protocol+e:-1===e.indexOf("://")?t.slice(0,t.lastIndexOf("/"))+"/"+e:e},e.mergeWrapperAdData=function(e,t){var n,i,r,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b,w,_,x;for(e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),f=e.creatives,o=0,c=f.length;o<c;o++)if(i=f[o],null!=(null!=(h=t.trackingEvents)?h[i.type]:void 0)){m=t.trackingEvents[i.type];for(r in m)x=m[r],(n=i.trackingEvents)[r]||(n[r]=[]),i.trackingEvents[r]=i.trackingEvents[r].concat(x)}if(null!=(g=t.videoClickTrackingURLTemplates)?g.length:void 0)for(v=e.creatives,a=0,u=v.length;a<u;a++)i=v[a],"linear"===i.type&&(i.videoClickTrackingURLTemplates=i.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates));if(null!=(y=t.videoCustomClickURLTemplates)?y.length:void 0)for(b=e.creatives,s=0,d=b.length;s<d;s++)i=b[s],"linear"===i.type&&(i.videoCustomClickURLTemplates=i.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates));if(null!=t.videoClickThroughURLTemplate){for(w=e.creatives,_=[],l=0,p=w.length;l<p;l++)i=w[l],"linear"===i.type&&null==i.videoClickThroughURLTemplate?_.push(i.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate):_.push(void 0);return _}},e.childByName=function(e,t){var n,i,r,o;for(o=e.childNodes,i=0,r=o.length;i<r;i++)if(n=o[i],n.nodeName===t)return n},e.childsByName=function(e,t){var n,i,r,o,a;for(i=[],a=e.childNodes,r=0,o=a.length;r<o;r++)n=a[r],n.nodeName===t&&i.push(n);return i},e.parseAdElement=function(e){var t,n,i,r,o;for(r=e.childNodes,n=0,i=r.length;n<i;n++)if(t=r[n],"Wrapper"===(o=t.nodeName)||"InLine"===o){if(this.copyNodeAttribute("id",e,t),this.copyNodeAttribute("sequence",e,t),"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},e.parseWrapperElement=function(e){var t,n,i,r,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b,w,_,x,A;for(t=this.parseInLineElement(e),A=this.childByName(e,"VASTAdTagURI"),null!=A?t.nextWrapperURL=this.parseNodeText(A):null!=(A=this.childByName(e,"VASTAdTagURL"))&&(t.nextWrapperURL=this.parseNodeText(this.childByName(A,"URL"))),m=t.creatives,o=0,u=m.length;o<u;o++)if(x=m[o],"linear"===(g=x.type)||"nonlinear"===g){if(null!=x.trackingEvents){t.trackingEvents||(t.trackingEvents={}),(n=t.trackingEvents)[h=x.type]||(n[h]={}),v=x.trackingEvents;for(r in v)for(_=v[r],(i=t.trackingEvents[x.type])[r]||(i[r]=[]),s=0,d=_.length;s<d;s++)w=_[s],t.trackingEvents[x.type][r].push(w)}if(null!=x.videoClickTrackingURLTemplates)for(t.videoClickTrackingURLTemplates||(t.videoClickTrackingURLTemplates=[]),y=x.videoClickTrackingURLTemplates,l=0,p=y.length;l<p;l++)a=y[l],t.videoClickTrackingURLTemplates.push(a);if(null!=x.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=x.videoClickThroughURLTemplate),null!=x.videoCustomClickURLTemplates)for(t.videoCustomClickURLTemplates||(t.videoCustomClickURLTemplates=[]),b=x.videoCustomClickURLTemplates,c=0,f=b.length;c<f;c++)a=b[c],t.videoCustomClickURLTemplates.push(a)}if(null!=t.nextWrapperURL)return t},e.parseInLineElement=function(e){var t,n,i,o,a,s,l,c,u,d,p,f,h,m,g;for(t=new r,t.id=e.getAttribute("id")||null,t.sequence=e.getAttribute("sequence")||null,h=e.childNodes,s=0,u=h.length;s<u;s++)switch(f=h[s],f.nodeName){case"Error":t.errorURLTemplates.push(this.parseNodeText(f));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(f));break;case"Creatives":for(m=this.childsByName(f,"Creative"),l=0,d=m.length;l<d;l++)for(o=m[l],i={id:o.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(o),sequence:o.getAttribute("sequence")||null,apiFramework:o.getAttribute("apiFramework")||null},g=o.childNodes,c=0,p=g.length;c<p;c++)switch(a=g[c],a.nodeName){case"Linear":n=this.parseCreativeLinearElement(a,i),n&&t.creatives.push(n);break;case"NonLinearAds":n=this.parseNonLinear(a,i),n&&t.creatives.push(n);break;case"CompanionAds":n=this.parseCompanionAd(a,i),n&&t.creatives.push(n)}break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(f,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(f),version:f.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(f);break;case"Description":t.description=this.parseNodeText(f);break;case"Advertiser":t.advertiser=this.parseNodeText(f);break;case"Pricing":t.pricing={value:this.parseNodeText(f),model:f.getAttribute("model")||null,currency:f.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(f)}return t},e.parseExtension=function(e,t){var n,i,r,s,l,c,u,d,p,f,h,m,g,v,y,b,w,_,x;for(_=[],u=0,h=t.length;u<h;u++){if(l=t[u],i=new o,l.attributes)for(y=l.attributes,d=0,m=y.length;d<m;d++)c=y[d],i.attributes[c.nodeName]=c.nodeValue;for(b=l.childNodes,p=0,g=b.length;p<g;p++)if(n=b[p],x=this.parseNodeText(n),"#comment"!==n.nodeName&&""!==x){if(r=new a,r.name=n.nodeName,r.value=x,n.attributes)for(w=n.attributes,f=0,v=w.length;f<v;f++)s=w[f],r.attributes[s.nodeName]=s.nodeValue;i.children.push(r)}_.push(e.push(i))}return _},e.parseCreativeLinearElement=function(e,t){var n,i,r,o,a,s,l,u,f,h,m,g,v,y,b,w,_,x,A,k,T,C,E,S,O,I,N,L,R,P,F,B,M,D,j,V,z,H,U,W,q,G,X,Q,$,Y,J,K,Z,ee,te,ne,ie,re,oe,ae,se,le,ce;if(o=new c(t),o.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===o.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(re=e.getAttribute("skipoffset"),null==re?o.skipDelay=null:"%"===re.charAt(re.length-1)?(H=parseInt(re,10),o.skipDelay=o.duration*(H/100)):o.skipDelay=this.parseDuration(re),null!=(ce=this.childByName(e,"VideoClicks"))){for(o.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(ce,"ClickThrough")),q=this.childsByName(ce,"ClickTracking"),u=0,x=q.length;u<x;u++)r=q[u],o.videoClickTrackingURLTemplates.push(this.parseNodeText(r));for(G=this.childsByName(ce,"CustomClick"),b=0,A=G.length;b<A;b++)a=G[b],o.videoCustomClickURLTemplates.push(this.parseNodeText(a))}for(n=this.childByName(e,"AdParameters"),null!=n&&(o.adParameters=this.parseNodeText(n)),Q=this.childsByName(e,"TrackingEvents"),w=0,T=Q.length;w<T;w++)for(se=Q[w],$=this.childsByName(se,"Tracking"),_=0,C=$.length;_<C;_++)if(ae=$[_],s=ae.getAttribute("event"),le=this.parseNodeText(ae),null!=s&&null!=le){if("progress"===s){if(!(V=ae.getAttribute("offset")))continue;s="%"===V.charAt(V.length-1)?"progress-"+V:"progress-"+Math.round(this.parseDuration(V))}null==(i=o.trackingEvents)[s]&&(i[s]=[]),o.trackingEvents[s].push(le)}for(Y=this.childsByName(e,"MediaFiles"),R=0,E=Y.length;R<E;R++)for(M=Y[R],J=this.childsByName(M,"MediaFile"),D=0,S=J.length;D<S;D++)B=J[D],F=new p,F.id=B.getAttribute("id"),F.fileURL=this.parseNodeText(B),F.deliveryType=B.getAttribute("delivery"),F.codec=B.getAttribute("codec"),F.mimeType=B.getAttribute("type"),F.apiFramework=B.getAttribute("apiFramework"),F.bitrate=parseInt(B.getAttribute("bitrate")||0),F.minBitrate=parseInt(B.getAttribute("minBitrate")||0),F.maxBitrate=parseInt(B.getAttribute("maxBitrate")||0),F.width=parseInt(B.getAttribute("width")||0),F.height=parseInt(B.getAttribute("height")||0),ie=B.getAttribute("scalable"),ie&&"string"==typeof ie&&(ie=ie.toLowerCase(),"true"===ie?F.scalable=!0:"false"===ie&&(F.scalable=!1)),P=B.getAttribute("maintainAspectRatio"),P&&"string"==typeof P&&(P=P.toLowerCase(),"true"===P?F.maintainAspectRatio=!0:"false"===P&&(F.maintainAspectRatio=!1)),o.mediaFiles.push(F);if(null!=(v=this.childByName(e,"Icons")))for(K=this.childsByName(v,"Icon"),j=0,O=K.length;j<O;j++){for(g=K[j],f=new d,f.program=g.getAttribute("program"),f.height=parseInt(g.getAttribute("height")||0),f.width=parseInt(g.getAttribute("width")||0),f.xPosition=this.parseXPosition(g.getAttribute("xPosition")),f.yPosition=this.parseYPosition(g.getAttribute("yPosition")),f.apiFramework=g.getAttribute("apiFramework"),f.offset=this.parseDuration(g.getAttribute("offset")),f.duration=this.parseDuration(g.getAttribute("duration")),Z=this.childsByName(g,"HTMLResource"),z=0,I=Z.length;z<I;z++)l=Z[z],f.type=l.getAttribute("creativeType")||"text/html",f.htmlResource=this.parseNodeText(l);for(ee=this.childsByName(g,"IFrameResource"),U=0,N=ee.length;U<N;U++)y=ee[U],f.type=y.getAttribute("creativeType")||0,f.iframeResource=this.parseNodeText(y);for(te=this.childsByName(g,"StaticResource"),W=0,L=te.length;W<L;W++)oe=te[W],f.type=oe.getAttribute("creativeType")||0,f.staticResource=this.parseNodeText(oe);if(null!=(m=this.childByName(g,"IconClicks")))for(f.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(m,"IconClickThrough")),X=this.childsByName(m,"IconClickTracking"),ne=0,k=X.length;ne<k;ne++)h=X[ne],f.iconClickTrackingURLTemplates.push(this.parseNodeText(h));f.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(g,"IconViewTracking")),o.icons.push(f)}return o},e.parseNonLinear=function(e,t){var n,i,r,o,a,s,l,c,d,p,h,m,g,v,y,b,w,_,x,A,k,T,C,E,S,O,I,N,L,R,P,F,B,M;for(o=new u(t),E=this.childsByName(e,"TrackingEvents"),l=0,m=E.length;l<m;l++)for(B=E[l],S=this.childsByName(B,"Tracking"),d=0,g=S.length;d<g;d++)F=S[d],a=F.getAttribute("event"),M=this.parseNodeText(F),null!=a&&null!=M&&(null==(i=o.trackingEvents)[a]&&(i[a]=[]),o.trackingEvents[a].push(M));for(O=this.childsByName(e,"NonLinear"),p=0,v=O.length;p<v;p++){for(T=O[p],k=new f,k.id=T.getAttribute("id")||null,k.width=T.getAttribute("width"),k.height=T.getAttribute("height"),k.expandedWidth=T.getAttribute("expandedWidth"),k.expandedHeight=T.getAttribute("expandedHeight"),k.scalable=this.parseBoolean(T.getAttribute("scalable")),k.maintainAspectRatio=this.parseBoolean(T.getAttribute("maintainAspectRatio")),k.minSuggestedDuration=this.parseDuration(T.getAttribute("minSuggestedDuration")),k.apiFramework=T.getAttribute("apiFramework"),I=this.childsByName(T,"HTMLResource"),h=0,y=I.length;h<y;h++)s=I[h],k.type=s.getAttribute("creativeType")||"text/html",k.htmlResource=this.parseNodeText(s);for(N=this.childsByName(T,"IFrameResource"),x=0,b=N.length;x<b;x++)c=N[x],k.type=c.getAttribute("creativeType")||0,k.iframeResource=this.parseNodeText(c);for(L=this.childsByName(T,"StaticResource"),A=0,w=L.length;A<w;A++)P=L[A],k.type=P.getAttribute("creativeType")||0,k.staticResource=this.parseNodeText(P);for(n=this.childByName(T,"AdParameters"),null!=n&&(k.adParameters=this.parseNodeText(n)),k.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(T,"NonLinearClickThrough")),R=this.childsByName(T,"NonLinearClickTracking"),C=0,_=R.length;C<_;C++)r=R[C],k.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(r));o.variations.push(k)}return o},e.parseCompanionAd=function(e,t){var n,i,r,o,a,c,u,d,p,f,h,m,g,v,y,b,w,_,x,A,k,T,C,E,S,O,I,N,L,R,P,F,B,M,D,j,V;for(c=new l(t),O=this.childsByName(e,"Companion"),p=0,v=O.length;p<v;p++){for(a=O[p],o=new s,o.id=a.getAttribute("id")||null,o.width=a.getAttribute("width"),o.height=a.getAttribute("height"),o.companionClickTrackingURLTemplates=[],I=this.childsByName(a,"HTMLResource"),h=0,y=I.length;h<y;h++)d=I[h],o.type=d.getAttribute("creativeType")||"text/html",o.htmlResource=this.parseNodeText(d);for(N=this.childsByName(a,"IFrameResource"),m=0,b=N.length;m<b;m++)f=N[m],o.type=f.getAttribute("creativeType")||0,o.iframeResource=this.parseNodeText(f);for(L=this.childsByName(a,"StaticResource"),g=0,w=L.length;g<w;g++){for(M=L[g],o.type=M.getAttribute("creativeType")||0,R=this.childsByName(a,"AltText"),T=0,_=R.length;T<_;T++)i=R[T],o.altText=this.parseNodeText(i);o.staticResource=this.parseNodeText(M)}for(P=this.childsByName(a,"TrackingEvents"),C=0,x=P.length;C<x;C++)for(j=P[C],F=this.childsByName(j,"Tracking"),E=0,A=F.length;E<A;E++)D=F[E],u=D.getAttribute("event"),V=this.parseNodeText(D),null!=u&&null!=V&&(null==(n=o.trackingEvents)[u]&&(n[u]=[]),o.trackingEvents[u].push(V));for(B=this.childsByName(a,"CompanionClickTracking"),S=0,k=B.length;S<k;S++)r=B[S],o.companionClickTrackingURLTemplates.push(this.parseNodeText(r));o.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough")),o.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickTracking")),c.variations.push(o)}return c},e.parseDuration=function(e){var t,n,i,r,o;return null==e?-1:g.isNumeric(e)?parseInt(e):(t=e.split(":"),3!==t.length?-1:(o=t[2].split("."),r=parseInt(o[0]),2===o.length&&(r+=parseFloat("0."+o[1])),i=parseInt(60*t[1]),n=parseInt(60*t[0]*60),isNaN(n||isNaN(i||isNaN(r||i>3600||r>60)))?-1:n+i+r))},e.parseXPosition=function(e){return"left"===e||"right"===e?e:parseInt(e||0)},e.parseYPosition=function(e){return"top"===e||"bottom"===e?e:parseInt(e||0)},e.parseBoolean=function(e){return"true"===e||"TRUE"===e||"1"===e},e.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},e.copyNodeAttribute=function(e,t,n){var i;if(i=t.getAttribute(e))return n.setAttribute(e,i)},e.parseCreativeAdIdAttribute=function(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null},e}(),t.exports=h}).call(this)},{"./ad":10,"./companionad":12,"./creative":13,"./extension":14,"./extensionchild":15,"./icon":16,"./mediafile":18,"./nonlinear":19,"./response":21,"./urlhandler":23,"./util":26,events:2}],21:[function(e,t,n){(function(){var e;e=function(){function e(){this.ads=[],this.errorURLTemplates=[]}return e}(),t.exports=e}).call(this)},{}],22:[function(e,t,n){(function(){var n,i,r,o,a,s,l,c=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;i=e("./client"),l=e("./util"),o=e("./creative").VASTCreativeLinear,a=e("./nonlinear"),r=e("./companionad"),n=e("events").EventEmitter,s=function(e){function t(e,t,n){var s,l,c;this.ad=e,this.creative=t,this.variation=null!=n?n:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],c=this.creative.trackingEvents;for(s in c)l=c[s],this.trackingEvents[s]=l.slice(0);this.creative instanceof o?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof a?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof r&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){i.lastSuccessfullAd=+new Date})}return c(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,n,i,r,o,a,s,l,c;if(l=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===l||this.skipable||(l>e?this.emit("skip-countdown",l-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(n=[],e>0){n.push("start"),o=Math.round(e/this.assetDuration*100),n.push("progress-"+o+"%"),n.push("progress-"+Math.round(e)),s=this.quartiles;for(a in s)(c=s[a])<=e&&e<=c+1&&n.push(a)}for(i=0,r=n.length;i<r;i++)t=n[i],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setExpand=function(e){return this.expanded!==e&&this.track(e?"expand":"collapse"),this.expanded=e},t.prototype.setSkipDelay=function(e){if("number"==typeof e)return this.skipDelay=e},t.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.stop=function(){},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,n;if((null!=(t=this.clickTrackingURLTemplates)?t.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(n={CONTENTPLAYHEAD:this.progressFormated()}),e=l.resolveURLTemplates([this.clickThroughURLTemplate],n)[0],this.emit("clickthrough",e)},t.prototype.track=function(e,t){var n,i;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),i=this.trackingEvents[e],n=this.emitAlwaysEvents.indexOf(e),null!=i?(this.emit(e,""),this.trackURLs(i)):-1!==n&&this.emit(e,""),!0===t&&(delete this.trackingEvents[e],n>-1&&this.emitAlwaysEvents.splice(n,1))},t.prototype.trackURLs=function(e,t){var n;return null==t&&(t={}),this.linear&&(null!=(null!=(n=this.creative.mediaFiles[0])?n.fileURL:void 0)&&(t.ASSETURI=this.creative.mediaFiles[0].fileURL),t.CONTENTPLAYHEAD=this.progressFormated()),l.track(e,t)},t.prototype.progressFormated=function(){var e,t,n,i,r;return r=parseInt(this.progress),e=r/3600,e.length<2&&(e="0"+e),t=r/60%60,t.length<2&&(t="0"+t),i=r%60,i.length<2&&(i="0"+t),n=parseInt(100*(this.progress-r)),e+":"+t+":"+i+"."+n},t}(n),t.exports=s}).call(this)},{"./client":11,"./companionad":12,"./creative":13,"./nonlinear":19,"./util":26,events:2}],23:[function(e,t,n){(function(){var n,i,r;r=e("./urlhandlers/xmlhttprequest"),i=e("./urlhandlers/flash"),n=function(){function t(){}return t.get=function(t,n,o){var a,s;return o||("function"==typeof n&&(o=n),n={}),null!=n.response?(s=n.response,delete n.response,o(null,s)):(null!=(a=n.urlhandler)?a.supported():void 0)?n.urlhandler.get(t,n,o):"undefined"==typeof window||null===window?e("./urlhandlers/node").get(t,n,o):r.supported()?r.get(t,n,o):i.supported()?i.get(t,n,o):o(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},t}(),t.exports=n}).call(this)},{"./urlhandlers/flash":24,"./urlhandlers/xmlhttprequest":25}],24:[function(e,t,n){(function(){var e;e=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,n){var i,r;return(r="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(r.async=!1,i=this.xdr(),i.open("GET",e),i.timeout=t.timeout||0,i.withCredentials=t.withCredentials||!1,i.send(),i.onprogress=function(){},i.onload=function(){return r.loadXML(i.responseText),n(null,r)}):n(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},e}(),t.exports=e}).call(this)},{}],25:[function(e,t,n){(function(){var e;e=function(){function e(){}return e.xhr=function(){var e;if("withCredentials"in(e=new window.XMLHttpRequest))return e},e.supported=function(){return!!this.xhr()},e.get=function(e,t,n){var i;if("https:"===window.location.protocol&&0===e.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return i=this.xhr(),i.open("GET",e),i.timeout=t.timeout||0,i.withCredentials=t.withCredentials||!1,i.overrideMimeType&&i.overrideMimeType("text/xml"),i.onreadystatechange=function(){if(4===i.readyState)return 200===i.status?n(null,i.responseXML):n(new Error("XHRURLHandler: "+i.statusText))},i.send()}catch(e){return n(new Error("XHRURLHandler: Unexpected error"))}},e}(),t.exports=e}).call(this)},{}],26:[function(e,t,n){(function(){var e;e=function(){function e(){}return e.track=function(e,t){var n,i,r,o,a,s;for(i=this.resolveURLTemplates(e,t),s=[],o=0,a=i.length;o<a;o++)n=i[o],"undefined"!=typeof window&&null!==window&&(r=new Image,s.push(r.src=n));return s},e.resolveURLTemplates=function(e,t){var n,i,r,o,a,s,l,c,u;for(null==t&&(t={}),i=[],null!=t.ASSETURI&&(t.ASSETURI=this.encodeURIComponentRFC3986(t.ASSETURI)),
null!=t.CONTENTPLAYHEAD&&(t.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(t.CONTENTPLAYHEAD)),null==t.ERRORCODE||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),t.RANDOM=t.random=t.CACHEBUSTING,r=0,a=e.length;r<a;r++)if(n=e[r],c=n){for(o in t)u=t[o],s="["+o+"]",l="%%"+o+"%%",c=c.replace(s,u),c=c.replace(l,u);i.push(c)}return i},e.encodeURIComponentRFC3986=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e.leftpad=function(e){return e.length<8?function(){var t,n,i;for(i=[],t=0,n=8-e.length;0<=n?t<n:t>n;0<=n?t++:t--)i.push("0");return i}().join("")+e:e},e.storage=function(){var e,t,n;try{n="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){e,n=null}return t=function(e){var t;try{if(t="__VASTUtil__",e.setItem(t,t),e.getItem(t)!==t)return!0}catch(e){return e,!0}return!1},(null==n||t(n))&&(e={},n={length:0,getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),n}(),e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}(),t.exports=e}).call(this)},{}],27:[function(e,t,n){(function(t){(function(){var n=e("./modules/adblockDetector"),i=e("./modules/targeting"),r=e("./modules/applier"),o=e("./modules/InArticle"),a=e("./modules/utilities"),s=e("./modules/cstag"),l=e("./modules/cd"),c=e("./modules/customScripts.js"),u=e("./modules/sticky");t.ProjectAgora={},t.ProjectAgora.ab=!1;var d=r.getSiteData(i.getSiteConfig());i.isMubasherpulse()&&(t.ProjectAgora.inArticleRunOnDemand=o.run.bind(this,d.Magic));var p=function(e){a.loadScript(document,"//static.criteo.net/js/ld/publishertag.js","script","scr-ctag",s.criteoLoaded.bind(this,e))},f=function(){n.IsDetected()&&(t.ProjectAgora.ab=!0,d.AdBlock&&p(d.AdBlock))};n.run(f),d&&d.CustomScript&&c.writeCustomScripts(d.CustomScript,function(){}),d&&d.Taboola&&l.runTaboolaAction(d.Taboola,function(){}),d&&d.Magic&&d.Magic.enabled&&("inarticle"!==d.Magic.format&&"vast"!==d.Magic.format||o.run(d.Magic));var h=r.getValidRulesOfType("PAStickyAd");h.length&&u.run(h)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./modules/InArticle":29,"./modules/adblockDetector":33,"./modules/applier":34,"./modules/cd":37,"./modules/cstag":39,"./modules/customScripts.js":40,"./modules/sticky":46,"./modules/targeting":48,"./modules/utilities":49}],28:[function(e,t,n){"use strict";function i(e,t,n){}function r(e,t,n){Object.defineProperty(e,t,{writable:!1,configurable:!1,value:n})}var o=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],a=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],s=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],l=["setAdVolume"];i.prototype.handshakeVersion=function(e,t){},i.prototype.initAd=function(e,t,n,i,r,o,a){},i.prototype.startAd=function(e){},i.prototype.stopAd=function(e){},i.prototype.skipAd=function(e){},i.prototype.resizeAd=function(e,t,n,i){},i.prototype.pauseAd=function(e){},i.prototype.resumeAd=function(e){},i.prototype.expandAd=function(e){},i.prototype.collapseAd=function(e){},i.prototype.subscribe=function(e,t,n){},i.prototype.unsubscribe=function(e,t){},i.prototype.getAdLinear=function(e){},i.prototype.getAdWidth=function(e){},i.prototype.getAdHeight=function(e){},i.prototype.getAdExpanded=function(e){},i.prototype.getAdSkippableState=function(e){},i.prototype.getAdRemainingTime=function(e){},i.prototype.getAdDuration=function(e){},i.prototype.getAdVolume=function(e){},i.prototype.getAdCompanions=function(e){},i.prototype.getAdIcons=function(e){},i.prototype.setAdVolume=function(e,t){},r(i,"METHODS",o),r(i,"GETTERS",s),r(i,"SETTERS",l),r(i,"EVENTS",a);var c=o.filter(function(e){return-1===["skipAd"].indexOf(e)});r(i,"checkVPAIDInterface",function(e){return c.every(function(t){return"function"==typeof e[t]})}),t.exports=i},{}],29:[function(e,t,n){function i(){A=new Date}function r(){return(k=new Date)-A}function o(e){var t=K(q.siteName)?150:100;if(T=r(),videoad&&ie(videoad)>=t)videoad.style.display="block",videoad.style.visibility="visible",ce(),e&&(e.style.height=e.contentDocument.body.clientHeight+"px");else{if(T>2e3)return;setTimeout(o,50)}}function a(e){var t=q.videoad;if(q.isLight&&(t=$),e){t=(e.contentDocument||e.contentWindow.document).body}var n=N.getCommentsInElement(t),i=n.filter(s);return 0!==i.length}function s(e){var t=/Creative \d+ served by Member \d+ via AppNexus/gm,n=e.textContent;return t.test(n)}function l(){window.addEventListener("resize",function(e){X&&re()}),window.addEventListener("message",function(e){try{magicMsg=JSON.parse(e.data),magicMsg&&"Magic"===magicMsg.type&&"paMagicChromeFix"===magicMsg.msg&&(X=!0,extraDiv=document.getElementById("ebIframeDiv_"+magicMsg.uid),re())}catch(e){}})}function c(e){switch(u(),q.type){case"blank":q.videoad.style.display="none",N.addAdHTPassback(q.passback,q.adMngrPsbk,q.videoad,window,q.adheadLabel,E);break;case"MAGIC":case"SCROLL_REVEAL":break;case"social_cards":q.videoad.style.cssText=q.videoad.style.cssText.replace("height: 0px !important;",""),ProjectAgora.ab?q.videoad.style.display="none":((window.location.host.indexOf("bzi.ro")>-1||"www.bzc.ro"===window.location.host||"www.skai.gr"===window.location.host&&"/mobile/article"===window.location.pathname||"www.turnulsfatului.ro"===window.location.host)&&L.bziPatch(q.videoad,!0),q.videoad.style.display="block");break;case"None":q.videoad.style.textAlign="center",q.videoad.style.maxWidth="450px",q.videoad.style.cssText=q.videoad.style.cssText.replace("height: 0px !important;",""),i(),setTimeout(o.bind(this,e),50)}}function u(){var e=document.getElementById("inarticle_adtype_label");e&&(e.innerHTML=q.type)}function d(e,t){q.type=t,c(e)}function p(e,t){var n=m(e.contentDocument,"321","51");if(1===n.length)return void g(e,n[0].src);q.type="None",c(e)}function f(e){var t=e?e.contentWindow:window;if(q.socialCards){v(t,"message",q.socialCardsCheckTimeout,e).then(d.bind(this,e),p.bind(this,e)).catch(function(e){})}else q.type=se(e),-1===["blank","social_cards","SCROLL_REVEAL","MAGIC"].indexOf(q.type)&&q.isLight&&(q.type="None"),u(),c(e)}function h(e,t){return e.querySelector('iframe[src^="'+decodeURIComponent(t)+'"]')||e.querySelector('iframe[src^="'+t+'"]')}function m(e,t,n){return[].slice.call(e.getElementsByTagName("iframe")).filter(function(e){return e.width===t&&e.height===n})}function g(e,t){var n=e?e.contentDocument||e.contentWindow.document:document;n.body.style.textAlign="center";var i=h(n,t);B.iframeResizer({onResized:function(t){e&&e.setAttribute("height",parseInt(t.height))},checkOrigin:!1,sizeWidth:!0,heightCalculationMethod:"max"},i)}function v(e,t,n,i){return new N.BlueBird(function(r,o){function a(n){try{var o=JSON.parse(n.data);if(o.hasOwnProperty("partner")&&"pa"===o.partner&&o.hasOwnProperty("creative")&&o.creative)return top.ProjectAgora.creative=o.creative,clearTimeout(l),e.removeEventListener(t,a),o.hasOwnProperty("waitForHeightMessage")&&!0===o.waitForHeightMessage&&g(i,o.href),r(o.creative)}catch(e){}}var s=se(i);if(-1!==["blank","social_cards","SCROLL_REVEAL","MAGIC"].indexOf(s))return r(s);var l;e.addEventListener(t,a),l=setTimeout(function(){e.removeEventListener(t,a),o(q.socialCardsTimeoutReached)},n)})}function y(e){var t=document.createElement("div");t.setAttribute("id","clsBtnCont"),le(".pa_button svg { width: 35px; height: 35px; }#closeBtnDiv{ z-index: 10; position: absolute; top: 3%; right: 2%; } div svg#pauseBtn #Oval, div svg#playBtn #Oval { background-color:rgba(0,0,0,0.06); border: 1px solid #FFFFFF; } div svg#pauseBtn #Fill-1, div svg#playBtn #Fill-1 { fill:#fff; } div svg#pauseBtn:hover #Group-3, div svg#playBtn:hover #Fill-1{ cursor: pointer; } div svg#pauseBtn:hover #Oval, div svg#playBtn:hover #Oval { fill-opacity:.2; cursor: pointer; } div svg#closeBtn #Fill-1{ background-color:rgba(0,0,0,0.06); border: 1px solid #FFFFFF; } div svg#closeBtn:hover #Fill-1 { fill-opacity:.2; cursor: pointer; } div svg#closeBtn:hover #Stroke-3, div svg#closeBtn:hover #Fill-6 { cursor: pointer; }"),t.innerHTML='<div id="closeBtnDiv" class="pa_button"><svg id="closeBtn" class="CloseBtn" width="52px" height="52px" viewBox="0 0 52 52" version="1.1"><g id="Page-1" class="CloseBtn" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="In-artical-magic" class="CloseBtn" transform="translate(-1881.000000, -110.000000)" fill="none"><g id="Group" class="CloseBtn" transform="translate(1882.000000, 111.000000)"><g id="Group-5" class="CloseBtn"><path d="M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056" id="Fill-1" class="CloseBtn" fill-opacity="0.06" fill="#000000"></path><path d="M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056 Z" id="Stroke-3" class="CloseBtn" stroke="#FFFFFF"></path></g><path d="M15.3904139,34.6088993 C15.6506898,34.869159 15.9920353,35 16.3326696,35 C16.6740151,35 17.0153605,34.869159 17.2756365,34.6088993 L25,26.8857275 L32.7243635,34.6088993 C32.9846395,34.869159 33.3259849,35 33.6673304,35 C34.0079647,35 34.3493102,34.869159 34.6095861,34.6088993 C35.130138,34.089091 35.130138,33.2443135 34.6095861,32.723794 L26.8859337,24.9999111 L34.6095861,17.2760282 C35.130138,16.7562198 35.130138,15.9114424 34.6095861,15.3909229 C34.0890343,14.8696924 33.2449154,14.8696924 32.7243635,15.3909229 L25,23.1140947 L17.2756365,15.3909229 C16.7543735,14.8696924 15.9109657,14.8696924 15.3904139,15.3909229 C14.869862,15.9114424 14.869862,16.7562198 15.3904139,17.2760282 L23.1147774,24.9999111 L15.3904139,32.723794 C14.869862,33.2443135 14.869862,34.089091 15.3904139,34.6088993" id="Fill-7" class="CloseBtn" fill="#FFFFFF"></path></g></g></g></svg></div>',e.appendChild(t),t.addEventListener("click",function(e){videoad.style.display="none",videoad.style.height="0px !important"})}function b(){return-1!==window.location.href.indexOf("no_vertigo=true")||S.mobileDeviceAny&&-1!==q.siteName.indexOf("iefimerida.gr")}function w(e){var t=window.location.pathname;return N.containsWholeWord(t,e)}function _(){q.selected_format&&q.selected_format.format&&"inarticle"===q.selected_format.format&&K(q.siteName)&&(q.isLight?($=document.getElementById("inner_videoad"))&&(q._magicIiframe=N.createIframe($,null,void 0)):(q._frameContainer=N.createElementInEl(q.videoad,"div"),q._magicIiframe=N.createIframe(q._frameContainer,null,void 0)))}var A,k,T,C,E,S=e("./mobileDetect"),O=e("./articleAvailability"),I=e("./resources"),N=e("./utilities"),L=e("./patches"),R=e("./PAVastPlayer"),P=e("./targeting"),F=P.hasDataSaverEnabled(),B=e("iframe-resizer"),M=N.detectSamsungDevice(),D=N.detectIphoneDevice(),V=N.getChromeVersion(),H=function(){new Image(1,1).src="https://secure.adnxs.com/imptr?id=46825&t=2"},U=!!window.MSInputMethodContext&&!!document.documentMode,W=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),q={},G=!1,X=!1,Q=null,$=null,Y=function(e,t,n,i){var r={video:{enabled:!1,opts:{}},display:{enabled:!1,opts:{}}};return i?(e?e.hasOwnProperty("enabled")&&!0===e.enabled?(r.video.enabled=!0,r.display.enabled=!0,e.hasOwnProperty("querySelectors")&&(r.video.opts.querySelectors=e.querySelectors,r.display.opts.querySelectors=e.querySelectors),e.hasOwnProperty("height")&&(r.video.opts.height=e.height,r.display.opts.height=e.height)):(r.video.enabled=!1,r.display.enabled=!1):(t&&t.hasOwnProperty("enabled")&&!0===t.enabled&&(r.video.enabled=!0,t.hasOwnProperty("querySelectors")&&(r.video.opts.querySelectors=t.querySelectors),t.hasOwnProperty("height")&&(r.video.opts.height=t.height)),n&&n.hasOwnProperty("enabled")&&!0===n.enabled&&(r.display.enabled=!0,n.hasOwnProperty("querySelectors")&&(r.display.opts.querySelectors=n.querySelectors),n.hasOwnProperty("height")&&(r.display.opts.height=n.height))),r):r},J=function(e){var t=!1,n=null,i=["start_from_incorner","detach_to_incorner"],r=["left","right"];if(e&&e.hasOwnProperty("enabled")&&(t=!0===e.enabled&&e.enabled),t){if(n={effect:e.hasOwnProperty("effect")?e.effect:S.mobileDeviceAny?"detach_to_incorner":"start_from_incorner",position:e.hasOwnProperty("position")?e.position:"right",probability:e.hasOwnProperty("incorner_probability")?e.incorner_probability:100},-1===i.indexOf(n.effect))return null;if(S.mobileDeviceAny&&"start_from_incorner"===n.effect)return null;if(-1===r.indexOf(n.position))return null;if(!("number"==typeof n.probability&&n.probability>=0&&n.probability<=100))return null;if(!N.isProbabilityInRange(n.probability))return null}return n},K=function(e){return!0},Z=function(){q.domVideoAd&&(q.visibleOffset=q.selected_format.callVAAfterPx?-1*q.selected_format.callVAAfterPx:q.selected_format.callVAScreensBefore?Number(q.selected_format.callVAScreensBefore)*window.screen.height:null,q.adTriggerMode=q.visibleOffset?"customTrigger":S.mobileDeviceAny?"defaultMobile":"defaultDesktop",C&&"start_from_incorner"===C.effect?de():ee()),"inarticle"===q.TypeAd&&(K(q.siteName)&&window.addEventListener("message",oe),Q=window.addEventListener("message",function(e){if("string"==typeof e.data&&-1!==e.origin.indexOf("ds.serving-sys"))try{var t=JSON.parse(e.data);t&&t.hasOwnProperty("pa_format_type")&&(q.videoad.style.cssText=q.videoad.style.cssText.replace("height: 0px !important;",""),q.videoad.style.display="block","vertigo"===t.pa_format_type?(q.creative_type="SCROLL_REVEAL",window.removeEventListener("message",Q)):"storyboard"===t.pa_format_type&&(q.creative_type="MAGIC",window.removeEventListener("message",Q)))}catch(e){}}),(W||S.apple.Safari||S.apple.isChrome||N.detectSafari())&&l())},ee=function(){q.inArticleScrollTarget.addEventListener?S.mobileDeviceAny?q.inArticleScrollTarget.addEventListener("touchstart",fe):q.inArticleScrollTarget.addEventListener("scroll",fe,!1):q.inArticleScrollTarget.attachEvent&&(S.mobileDeviceAny?(q.inArticleScrollTarget.attachEvent("ontouchstart",fe),q.inArticleScrollTarget.addEventListener("ontouchmove",touchMove)):q.inArticleScrollTarget.attachEvent("onscroll",fe))},te=function(){q.inArticleScrollTarget.removeEventListener?S.mobileDeviceAny?q.inArticleScrollTarget.removeEventListener("touchstart",fe):q.inArticleScrollTarget.removeEventListener("scroll",fe,!1):q.inArticleScrollTarget.detachEvent&&(S.mobileDeviceAny?q.inArticleScrollTarget.detachEvent("ontouchstart",fe):q.inArticleScrollTarget.detachEvent("onscroll",fe))},ne=function(e){return!a(e)||!(!ProjectAgora.isBlank||!0!==ProjectAgora.isBlank)},ie=function(e){var t=window.getComputedStyle(e),n=t.display,i=t.position,r=t.visibility,o=t.maxHeight.replace("px","").replace("%",""),a=0;return"none"!==n&&"0"!==o?e.offsetHeight:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetHeight,e.style.display=n,e.style.position=i,e.style.visibility=r,a)},re=function(){extraDiv.style.width=q.videoad.getBoundingClientRect().width+"px",extraDiv.style.height="auto",extraDiv.style.clip="unset"},oe=function(e){var t;try{t=JSON.parse(e.data)}catch(e){}t&&t.event&&"ready"===t.event&&t.id&&"inArticleIframe"==t.id&&(window.removeEventListener("message",oe),f(q._magicIiframe))},ae=function(e){var t;switch(e){case"PL_HTML5ScrollReveal.js":case"PL_HTML5ScrollReveal_beta_withAndroidFirefoxFix.js":case"PL_HTML5ScrollReveal_CFV_1_2_0__withAndroidFirefoxFix.js":t="SCROLL_REVEAL";break;case"PL_HTML5Pushdown.js":case"PL_ResponsivePushdown_CFV001.js":t="MAGIC";break;case"PL_HTML5ScrollOver.js":t="SCROLL_OVER";break;default:t="None"}return t},se=function(e){if(ne(e))return"blank";var t=null;if(top.ProjectAgora&&top.ProjectAgora.creative)return t=ProjectAgora.creative;if(q.creative_type)return q.creative_type;var n;if(!(n=e?e.contentDocument||e.contentWindow.document:q.doc))return"None";var i=n.scripts,t=null,r=[],o=[],a=null;if(r=Array.prototype.slice.call(i).filter(function(e){if(-1!==e.src.indexOf("ds.serving-sys.com")||-1!==e.src.indexOf("bs.serving-sys.com"))return!0}),n){if(n.getElementsByClassName("vertigo")[0])return"SCROLL_REVEAL";if([].slice.call(n.getElementsByClassName("storyboard")).length)return"MAGIC"}if(0===r.length)return"None";if(o=r.filter(function(e){if(-1!==e.src.indexOf("CustomScripts"))return!0}),o.length>0)for(var s=o.length,l=0;l<s;l++){var c=o[l].src;if(a=c.substring(c.lastIndexOf("/")+1),"None"!==(t=ae(a)))break}return t},le=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},ce=function(){if(U){var e=q.videoad.firstElementChild;le("#paheading{margin:0 auto;font-size:13px!important;height:10px; width:auto;display:block;text-transform:unset!important;background-color:transparent;vertical-align:bottom;font-family:Montserrat!important;font-weight:400;text-align:center;color:#747474!important;margin-top:2px!important;margin-bottom:7px!important}#paheading:hover{color:#d84820!important;padding:unset!important;font-weight:700!important;overflow:unset!important;-webkit-font-smoothing:antialiased;line-height:unset!important;font-size:13px!important;cursor:pointer}");var t=document.createElement("h4");t.id="paheading",t.innerHTML="Project Agora Advertising",N.positionElement(e,t,"before")}else{var n=document.createElement("iframe");n.id="AgoraHead",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.style.height="25px",n.width="100%",n.onload=function(){N.setIframeContent(this,'<!DOCTYPE html> <html lang="en"><head><meta charset="UTF-8"><style>#paheading{margin:0 auto;font-size:13px!important;height:auto;display:block;text-transform:unset!important;background-color:transparent;vertical-align:bottom;font-family:Montserrat!important;font-weight:400;text-align:center;color:#747474!important;margin-top:2px!important;margin-bottom:7px!important}#paheading:hover{color:#d84820!important;padding:unset!important;font-weight:700!important;overflow:unset!important;-webkit-font-smoothing:antialiased;line-height:unset!important;font-size:13px!important;cursor:pointer}</style></head><body style="margin:0;padding:0"><h4 id="paheading">Project Agora Advertising</h4></body></html>'),ue(n.contentDocument)};var e=q.videoad.firstElementChild;N.positionElement(e,n,"before");var i=document.createElement("div");i.style.position="absolute";var r,o;document.documentElement.clientWidth||screen.width,videoad.clientWidth;i.style.right="2%",i.style.width="35px",i.style.height="35px",i.style.top="25px",i.id="bannerWrapper",i.style.marginLeft="auto",i.style.marginTop="2%",y(i),videoad.appendChild(i);var a=null;a=document.getElementById("inner_videoad"),a&&((window.location.host.indexOf("bzi.ro")>-1||"www.bzc.ro"===window.location.host||"www.skai.gr"===window.location.host&&"/mobile/article"===window.location.pathname||"www.turnulsfatului.ro"===window.location.host)&&L.bziPatch(q.videoad),setTimeout(function(){adWidth=videoad.offsetWidth||videoad.clientWidth,elemWidth=(videoad.offsetHeight||videoad.clientHeight)-25,scale_ratio=adWidth/elemWidth,marginDiffer=adWidth-elemWidth,a.style.transform="scale("+scale_ratio+")",a.style.transformOrigin="0 0",a.style.marginBottom=marginDiffer+"px",a.style.width=elemWidth+"px","www.tayyar.org"===window.location.host&&(o=document.getElementById("inArticleLight_container"),r=o.style.cssText,L.tayyarPatch(r,o)),window.addEventListener("resize",function(){newAdWidth=videoad.offsetWidth||videoad.clientWidth,scale_ratio=newAdWidth/elemWidth,a.style.transform="scale("+scale_ratio+")",a.style.transformOrigin="0 0",marginDiffer=newAdWidth-elemWidth,a.style.marginBottom=marginDiffer+"px","www.tayyar.org"===window.location.host&&L.tayyarPatch(r,o)})},0))}window.top.postMessage('{"event": "ready", "id": "pa_light"}',"*")},ue=function(e){var t=e.getElementById("paheading");t.style.display="block",t.addEventListener("click",function(){if(G){window.open("http://www.projectagora.com/?utm_source=Branding&utm_medium=Magic","_blank").focus()}G=!0})},de=function(){"vast"===q.TypeAd?!F||F&&V>=I.MIN_DATASAVER_CHROME_V?(le("div#videoad > #frmPAVast {margin-bottom: 0px!important;margin-top: 0px!important;}"),le(U?"#videoad iframe#frmPAVast {max-width:inherit!important;}":"#videoad iframe#frmPAVast {max-width:unset!important;}"),R.playVastAd(q.domVideoAd,q.adId,q.passback,q.adMngrPsbk,q.adheadLabel,E,N.getSchainInfo(q.sco,q.partnerSco),C,q.inViewThreshold)):H():!F||F&&(M||D)&&V>=I.MIN_DATASAVER_CHROME_V?me():H()},pe=function(){!q.isTriggered&&ge()&&(te(),q.isTriggered=!0,de())},fe=function(){pe()},he=function(){var e,t,n="";e="id="+q.adId,b()&&(e+="&exclude=vertigo"),F&&(q.socialCards=!1),protocol=window.location.protocol,t="https://secure.adnxs.com/ttj?",q.socialCards&&(sizeQueryParam="",screen.width&&(screenW=screen.width,screenW<370?sizeQueryParam="&screensize=small":sizeQueryParam="&screensize=large")),postfix="&cb=[CACHEBUSTER]&PSA=0",prefix="&size=319x49",(q.socialCards||q.isLight)&&(q.isLight&&(n="450x450,400x400,350x350,300x300"),q.socialCards&&(n?n+=",321x51":n="321x51"),q.socialCards&&(n+=sizeQueryParam),prefix="&size=319x49&promo_sizes="+n+"&promo_alignment=center");var i=N.checkIfPreviewDomain()?"&dongle=blue&test=1":"";return t+e+prefix+postfix+i},me=function(){var e,t,n=[],i=P.getOS();if(we(),!S.mobileDeviceAny&&i&&("Linux"===i||"UNIX"===i))return void we();t=he(),N.getVideoPlacementPromise(t,0,n,N.getSchainInfo(q.sco,q.partnerSco)).then(function(){if(t=n[0],e='<script src="'+t+'"><\/script>',K(q.siteName)){q.videoad.style.visibility="visible";var i='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><script type="text/javascript" src="'+t+'"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "inArticleIframe"}\',"*");<\/script><script type="text/javascript">'+N.iframeResizerContentWindowCode+"<\/script></body></html>";q.isLight?q._magicIiframe.id="inArticleLight_container":q._magicIiframe.id="inArticle_iframe_container",B.iframeResizer({onResized:function(e){},log:!1,checkOrigin:!1,sizeWidth:!0},q._magicIiframe),N.setIframeContent(q._magicIiframe,i)}})},ge=function(){if(!q.domVideoAd)return!1;var e=q.domVideoAd.getBoundingClientRect(),t=window.innerHeight||q.doc.documentElement.clientHeight;return visibilityCheck=e.top>=0&&e.left>=0&&e.top<=t+q.visibleOffset,"customTrigger"==q.adTriggerMode?visibilityCheck:"defaultDesktop"==q.adTriggerMode?visibilityCheck:"defaultMobile"==q.adTriggerMode?visibilityCheck||ve():void 0},ve=function(){if(q.siteName.indexOf("kairos.gr")>=0)return!0;var e=q.domVideoAd.getBoundingClientRect(),t=2;return-1!==q.countElementTypes.indexOf("p")?t=(q.valids&&q.valids.length)>5?2:3:-1!==q.countElementTypes.indexOf("br")&&(t=(q.valids&&q.valids.length)>8?2:3),e.top>=0&&e.left>=0&&e.bottom<=t*(window.innerHeight||q.doc.documentElement.clientHeight)},ye=function(){var e=q.selected_format.placementId,t=q.selected_format.passback;return{adId:e,adType:q.selected_format.format,adPassback:t}},be=function(e){var t=RegExp(e+"[^;]+").exec(document.cookie);return unescape(t?t.toString().replace(/^[^=]+./,""):"")},we=function(){return be("DEBUG_PA_COOKIE")},_e=function(e){q.creative_type=null,q.selected_format=e,q.doc=document,q.adMngrPsbk=e.adMngrPsbk,q.adheadLabel=e.adheadLabel,q.rulePsbk=e.rulePsbk,q.isTriggered=!1,q.visibleOffset=null,q.isLight=e.isLight,q.socialCards=e.socialCardsEnabled,q.positionType=e.positionType,q.positionSelector=e.positionSelector,q.serve319x49InIframe=!!e.hasOwnProperty("serve319x49InIframe")&&e.serve319x49InIframe,q.sco=void 0!==e.sco?e.sco:null,q.partnerSco=void 0!==e.partnerSco?e.partnerSco:null,q.viewabilityGeneric=void 0!==e.viewabilityGeneric?e.viewabilityGeneric:null,q.viewabilityVideo=void 0!==e.viewability?e.viewability:void 0!==e.height_video?e.height_video:null,q.viewabilityDisplay=void 0!==e.viewabilityDisplay?e.viewabilityDisplay:null,q.incornerConfig=e.incornerConfig,q.inViewThreshold=e.inViewThreshold,q.inArticleScrollTarget=q.doc,-1===location.hostname.indexOf("www.okaz.com.sa")||S.mobileDeviceAny||(q.inArticleScrollTarget=document.querySelector(".modal-inner")||q.doc),-1===location.hostname.indexOf("bisara7a.com")||S.mobileDeviceAny||(q.inArticleScrollTarget=document.body||q.doc);var t=ye();q.adId=window.testFormatId||t.adId,q.TypeAd=t.adType,q.passback=t.adPassback?t.adPassback:q.rulePsbk?q.rulePsbk:null,we()&&(q.adId="inarticle"==q.TypeAd?"6113670":"11020955"),q.excludedElements=["A"],q.excludeIfInsideTag=void 0!==q.selected_format.getExcludedIfInsideTag?q.selected_format.getExcludedIfInsideTag:null,q.excludeIfInsideClass=void 0!==q.selected_format.getExcludedIfInsideClass?q.selected_format.getExcludedIfInsideClass:null,q.excludeIfInsideParentElement=["div.head"],q.siteName=void 0!==q.selected_format.site_name?q.selected_format.site_name:window.location.hostname,q.siteDomain=window.location.hostname,q.containerName=xe(q.selected_format.selectorType,q.selected_format.selectorName),"www.alaraby.co.uk"===q.siteName&&(q.containerName=S.mobileDeviceAny?"MDP-Body":"DP-MainText"),"www.capital.gr"===q.siteName&&(q.containerName=S.mobileDeviceAny?document.getElementsByClassName("slab")[0]:q.containerName),"www.24news.com.cy"===q.siteName&&""!==q.containerName.className&&(q.containerName=xe(q.selected_format.selectorType,".SectionStandard>tbody > tr:nth-child(5) > td > table > tbody > tr:nth-child(9) > td")),P.isPagenews()&&S.mobileDeviceAny&&null===q.containerName&&(q.containerName=xe(q.selected_format.selectorType,"#top > div.skinshrink > mcms-media > main > div > div > div > div:nth-child(2) > article-view > div > div > div.row.widget.bg-black > div > div.col-xlg-8.col-lg-8.col-md-8.col-sm-12.col-xs-12.main > div > div:nth-child(2)")),q.countElementTypes=void 0!==q.selected_format.tagNames?q.selected_format.tagNames:["p"],q.excludedGalleryName=void 0!==q.selected_format.getExcludedGalleryNames?q.selected_format.getExcludedGalleryNames:null,q.containerType=q.selected_format.selectorType;var n=I.maxSiteTimeOut[q.siteName];n&&(I.MAX_INARTICLE_TIMEOUT=n.to),q.containerName&&q.siteName.indexOf("kairos.gr")<0&&(q.containerElements=q.containerName.getElementsByTagName("*")),q._brCount=0},xe=function(e,t){var n=null;switch(e){case"id":n=q.doc.getElementById(t);break;case"class":n=q.doc.getElementsByClassName(t)[0];break;case"tag":n=q.doc.getElementsByTagName(t)[0];break;case"querySelector":n=q.doc.querySelector(t);break;default:n=null}return n},Ae=function(e){return void 0===q.doc.getElementsByClassName(e)[0]?1:0},ke=function(e){var t="div."+e;return q.doc.querySelector(t)},Te=function(e){var t=e,n=top.document.getElementsByTagName("IFRAME"),i=n.length;if(""===t.name){for(var r=0;r<i;r++)if(n[r].contentWindow===t)return n[r];return null}var o=Array.prototype.filter.call(n,function(e){return e.getAttribute("name")===t.name});return o?o[0]:null},Ce=function(){var e,t=q.selected_format._currentScript;return q.selected_format._isFramed?(topAncestorWindow=N.getTopIframe(q.selected_format._frmWindow),e=Te(topAncestorWindow)):e=t,e},Ee=function(){return"custom"!==q.positionType?"current"===q.positionType?Ce():null:q.positionSelector?document.querySelector(q.positionSelector):void 0},Se=function(){q.all=[],q.all=q.containerName.getElementsByTagName("*"),q.ce=[];for(var e=0;e<q.all.length;e++)-1!==q.countElementTypes.indexOf(q.all[e].tagName.toLowerCase())&&q.ce.push({elem:q.all[e],index:e});q.valids=[];for(var t=0;t<q.ce.length;t++)Ne(q.ce[t].elem,t,q.ce);for(var n=0;n<q.ce.length;n++)q.ce[n].valid&&q.valids.push(q.ce[n]);if(q.valids.length>0){if(q.indexOfValids=Math.floor(q.valids.length/2),q.indexOfValids=0===q.indexOfValids?0:q.indexOfValids-1,q.elemToAppend=q.all[q.valids[q.indexOfValids].index],sitePatch=I.patches[q.siteName],sitePatch)for(var i=q.indexOfValids;L.inArticlePosPatch(q.elemToAppend,sitePatch);){if(!((i+=1)<q.valids.length)){q.elemToAppend=null;break}q.elemToAppend=q.all[q.valids[i].index]}if("www.ziare.com"===q.siteName)q.elemToAppend=L.ziarePatch(q.containerName,q.all,q.valids[q.indexOfValids].index);else if("m.nosalty.hu"===q.siteName){if(el=document.querySelector("#recept-story"),!el)return;if(x=el.previousElementSibling,!x)return;q.elemToAppend=x}else if("mother.gr"===q.siteName||"www.mother.gr"===q.siteName)idm=L.motherPatch(q.valids,q.indexOfValids),q.elemToAppend=q.all[q.valids[idm].index];else if("www.projectagora.com"===q.siteName&&-1!==window.location.pathname.indexOf("/magic/vertigo/vertigo_preview4.html"))q.elemToAppend=q.all[q.valids[q.indexOfValids].index];else if("www.instyle.gr"===q.siteName){var r=L.instylePatchInvalidText(q.elemToAppend),o=L.instylePatchInvalidBetween(q.elemToAppend);r?q.elemToAppend=q.elemToAppend.previousElementSibling.previousElementSibling:o&&(q.elemToAppend=null)}else"www.ant1iwo.com"===q.siteName?q.elemToAppend=q.all[q.valids[3].index]:"www.mediafax.ro"!==q.siteName&&"m.mediafax.ro"!==q.siteName||(idm=L.mediafaxPatch(q.valids),q.elemToAppend=q.all[q.valids[idm].index]);null!==q.elemToAppend&&Fe(q.elemToAppend)}},Oe=function(e){var t=!1,n=!1;return e.previousSibling&&!e.previousSibling.textContent.isEmpty()&&e.previousElementSibling&&"br"===e.previousElementSibling.tagName.toLowerCase()&&(t=!0),e.previousElementSibling&&(t="br"===e.previousElementSibling.tagName.toLowerCase()&&(null===e.previousSibling||e.previousSibling&&e.previousSibling.textContent.isEmpty())?Oe(e.previousElementSibling):!e.previousElementSibling.textContent.isEmpty()&&!Re(e.previousElementSibling)),e.previousSibling&&3===e.previousSibling.nodeType&&!e.previousSibling.textContent.isEmpty()&&(n=!0),t||n},Ie=function(e,t){var n=!1,i=!1;return t?(q._brCount=0,e.nextElementSibling&&"br"!==e.nextElementSibling.tagName.toLowerCase()&&(n=!e.nextElementSibling.textContent.isEmpty()&&!Re(e.nextElementSibling)),e.nextSibling&&3===e.nextSibling.nodeType&&!e.nextSibling.textContent.isEmpty()&&(i=!0)):(e.nextElementSibling&&("br"===e.nextElementSibling.tagName.toLowerCase()&&2!=q._brCount?(n=Ie(e.nextElementSibling,!0),q._brCount=2):(n=!Re(e.nextElementSibling)&&!e.nextElementSibling.textContent.isEmpty(),q._brCount=0)),e.nextSibling&&3===e.nextSibling.nodeType&&!e.nextSibling.textContent.isEmpty()&&(i=!0)),n||i},Ne=function(e,t,n){
if(-1!==q.siteName.indexOf("libertatea.ro")||-1!==q.siteName.indexOf("libertateapentrufemei.ro"))for(var i=["teads-inread","strawberry-ads","featured-video"],r=0;r<i.length;r++)if(e.previousElementSibling&&e.previousElementSibling.classList.contains(i[r])||e.nextElementSibling&&e.nextElementSibling.classList.contains(i[r]))return void(n[t].valid=!1);if("lifenewscy.com"===q.siteName&&e.classList.length>0)for(z=e.classList.length,j=0;j<z;j++)if(-1!==e.classList[j].indexOf("jp-relatedposts"))return void(n[t].valid=!1);if(-1!==q.siteName.indexOf("newsar.ro")){var o=N.getParents(e);if(N.elementHasId(o,"respond"))return void(n[t].valid=!1)}if(temp=I.ancestorPatch,siteAncestorPatch=temp[Object.keys(temp)[Object.getOwnPropertyNames(temp).indexOf(q.siteName)]],siteAncestorPatch){var a=[];a.push(siteAncestorPatch.t);if(O.isInsideInvalid(e,null,a))return void(n[t].valid=!1)}if(S.mobileDeviceAny&&(null===q.excludeIfInsideTag||null===O.findAncestorByTagName(e,q.excludeIfInsideTag,q.selected_format.selectorName)))return void(Re(e)||(n[t].valid=!0));"br"!==e.tagName.toLowerCase()?"www.kfetele.ro"===q.siteName?n[t].valid=!Re(e)&&!Pe(e)&&!Le(e)&&null===O.findAncestor(e,"latestNewsBox","latestNews"):n[t].valid=!(Re(e)||Pe(e)||Le(e)||null!==q.excludeIfInsideTag&&null!==O.findAncestorByTagName(e,q.excludeIfInsideTag,q.selected_format.selectorName)):"www.alaraby.co.uk"===q.siteName?n[t].valid=!Pe(e)&&Oe(e)&&Ie(e):n[t].valid=Oe(e)&&Ie(e)&&!(null!==q.excludeIfInsideClass&&null!==O.findAncestor(e,q.excludeIfInsideClass,q.selected_format.selectorName))},Le=function(e){return e.textContent.isEmpty()},Re=function(e){var t=e.getElementsByTagName("img").length>0||O.isElementVideo(e),n=e.nextElementSibling&&(e.nextElementSibling.getElementsByTagName("img").length>0||O.isElementVideo(e.nextElementSibling));return t||n},Pe=function(e){return"td"===e.parentElement.tagName.toLowerCase()||"th"===e.parentElement.tagName.toLowerCase()||"www.alaraby.co.uk"===q.siteName&&!S.mobileDeviceAny&&"br"===e.tagName.toLowerCase()&&null!==O.findAncestorByTagName(e,"table",q.containerName)},Fe=function(e,t){var n=C?q.videoSliderElement:q.videoad;try{S.other.firefox?e.parentNode.insertBefore(n,e.nextSibling):"444.hu"===q.siteName&&q.positionType&&"custom"===q.positionType?e.parentElement.insertBefore(n,e):e.insertAdjacentElement("afterend",n)}catch(e){}finally{q.domVideoAd=q.doc.getElementById(I.VIDEO_DIV_ID)}},Be=function(){var e=null,t=null;void 0!==I.INLINE_STYLES&&I.INLINE_STYLES.length>0&&(e=I.INLINE_STYLES.join(";")),e+=";"+I.ALIGN_CENTER,S.mobileDeviceAny||-1===I.MAX_DESKTOP_WIDTH||(e+=";max-width:"+I.MAX_DESKTOP_WIDTH+"px"),"www.alaraby.co.uk"===q.siteName&&(e+=";display:block"),-1!==q.countElementTypes.indexOf("br")&&(e+=";margin-top:15px"),P.isPortfolioGroup()&&(e+=";margin-bottom:20px"),t=q.doc.createElement("div"),t.setAttribute("id",I.VIDEO_DIV_ID),t.setAttribute("style",e);var n=null;if(C){n=q.doc.createElement("div"),n.setAttribute("id","pa_videoslider");var i="max-width:"+I.MAX_DESKTOP_WIDTH+"px; margin:0 auto;";n.setAttribute("style",i),n.appendChild(t)}q.videoad=t,q.videoSliderElement=n,q.isLight&&($=document.createElement("div"),$.id="inner_videoad",q.videoad.appendChild($))},Me=function(){return void 0!==q.selected_format.paragraphLimit?q.selected_format.paragraphLimit:null},De=function(e){if(!document.getElementById("videoad")&&N.magicEnabledByMetaTag("paads")&&N.magicEnabledByMetaTag("keywords")&&(q.socialCardsCheckTimeout=window.sc_timeout?parseInt(window.sc_timeout):500,q.socialCardsTimeoutReached="SC_TIMEOUT_REACHED",_e(e),C=J(q.incornerConfig),E=Y(q.viewabilityGeneric,q.viewabilityVideo,q.viewabilityDisplay,S.mobileDeviceAny),C&&S.mobileDeviceAny&&(E.video.enabled=!1),(null!==q.adId||null!==q.TypeAd)&&!("www.bovary.gr"===q.siteName&&q.isDirect&&window.dataLayer&&"Fashion"===window.dataLayer[0].pageMainCategory||S.mobileDeviceAny&&P.isFacebookApp()))){if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),n=navigator.userAgent.match("CriOS"),i=navigator.userAgent.match("FxiOS"),r=(/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&/WebKit/i.test(window.navigator.userAgent)&&/(CriOS|FxiOS|OPiOS|mercury)/i.test(window.navigator.userAgent),/FBAV/i.test(navigator.userAgent)),o=/iPad/i.test(navigator.userAgent);if(t.indexOf("10")>=0&&!o&&r)return;if(t.indexOf("10")>=0&&(i||n&&parseInt((/CriOS\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])<54))return}if("www.filgoal.com"===q.siteName&&null!==(value=ke("scrbbl-embed"))){if(Be(),void 0!==q.videoad)try{q.containerName.insertBefore(q.videoad,value.nextElementSibling),q.domVideoAd=q.doc.getElementById(I.VIDEO_DIV_ID),Z()}catch(e){return}}else{if("www.jenny.gr"===q.siteName&&!L.jennyPatchIsValid())return;if("www.meteorologos.gr"===q.siteName){if(Be(),el=document.querySelector("#component > div.component-bot > div.forcast-days"),!el)return;if(x=el.previousElementSibling,!x)return;q.elemToAppend=x,Fe(q.elemToAppend),Z()}else if(q.siteName.indexOf("kairos.gr")>=0){if(Be(),el=document.querySelector("div.row.weather_block > div:nth-child(5)"),!el)return;if(x=el.previousElementSibling,!x)return;q.elemToAppend=x,Fe(q.elemToAppend),Z()}else if(q.positionType){if(q.positionType){if(-1!==window.location.hostname.indexOf("sport24.gr")){if(void 0===q.containerName||null===q.containerName)return;var a=O.getMedia(q.containerName,q.countElementTypes,q.siteName);if(!(Me()<=a.totalTextElements&&a.totalTextElements>=I.PARGPH_THRESHOLD))return}if(Be(),void 0!==q.videoad){var s=Ee();s&&(q.elemToAppend=s),null!==q.elemToAppend&&Fe(q.elemToAppend),_()}Z()}}else{if(void 0===q.containerName||null===q.containerName)return;var a=O.getMedia(q.containerName,q.countElementTypes,q.siteName);if(a.totalTextElements<=I.PARGPH_THRESHOLD){if(a.totalImages>=I.IMG_THRESHOLD)return;if(a.totalImages>=I.IMG_THRESHOLD_VIDEO&&1===a.totalVideo)return}if(w(I.PATHNAME_STOP_WORDS))return;if(S.mobileDeviceAny&&w(I.INVALID_STOP_WORDS))return;if(q.excludedGalleryName&&!Ae(q.excludedGalleryName))return;if(-1!==q.siteName.indexOf("tajuki"));else if(void 0===q.containerName||null===q.containerName||q.containerName.offsetWidth<I.MIN_WIDTH)return;Me()<=a.totalTextElements&&a.totalTextElements>=I.PARGPH_THRESHOLD&&(Be(),void 0!==q.videoad&&(Se(),_()),Z())}}}},je=function(e){De(e)},Ve=function(e){De(e)},ze=function(e){"interactive"===document.readyState||"complete"===document.readyState?De(e):document.addEventListener("DOMContentLoaded",function(t){De(e)},!1)};t.exports={run:ze,MOrun:je,pgns_agora_run:Ve}},{"./PAVastPlayer":30,"./articleAvailability":36,"./mobileDetect":43,"./patches":44,"./resources":45,"./targeting":48,"./utilities":49,"iframe-resizer":3}],30:[function(e,t,n){function i(e){var t,n,i,r;R=[];var o={};for(d=!1,i=0;i<e.length;i++){t=e[i];var a=t.length;for(r=0;r<a;r++)if((n=t[r])&&"VPAID"===n.apiFramework&&("application/javascript"===n.mimeType||"application/x-javascript"===n.mimeType)){d=!0,R[r]={url:n.fileURL,height:n.height,width:n.width};break}if(o.isVpaid)break}for(r=0;r<a;r++)R[r]&&R.push(R[r]);return R.splice(0,a),{isVpaid:d,urls:R}}function r(e){return new T(function(t,n){e||t({r:!1});var i={withCredentials:!0};performance.mark("AdCall"),b.client.get(e,i,function(e,n){!n&&e&&e.ads?(z(e),B=a(F),t(B.isVPAID&&B.IsJs||B.isVAST?{r:!0,resp:e}:{r:!1})):t({r:!1})})})}function o(e){return r(e).then(function(e){if(e.r)return e.resp;if(D.length>0){return o(D.pop())}return!1})}function a(e){var t=!0,n=!1,i=!1,r=!1;return e.mediafiles.forEach(function(e){e.forEach(function(e){"VPAID"===e.apiFramework&&"application/x-shockwave-flash"===e.mimeType&&(n=!0,i=!0),"VPAID"!==e.apiFramework||"application/javascript"!==e.mimeType&&"application/x-javascript"!==e.mimeType||(n=!0,r=!0)})}),t=!n,{isVAST:t,isVPAID:n,Isflash:i,IsJs:r}}function s(){var e=document.getElementById("frmPAVast");e&&(e.outerHTML="",delete e)}function l(){s(),G()}var c,u,d,p,f,h,m,g,v,y,b=e("vast-client"),w=e("./mobileDetect"),_=e("./cssloader"),x=e("./utilities"),A=e("./vpaid"),k=e("./vast"),T=e("bluebird"),C=null,E=null,S=null,O=null,I=null,N=null,L={},R=[],P=[],F={},B={},M=w.mobileDeviceAny||w.tabletAny,D=[],j=!1,V=function(e){return d=!1,c=i(e.mediafiles),!0===c.isVpaid?c.urls[0].adParameters=F.adParameters:c.isVpaid=!1,c},z=function(e){var t,n,i=[],r=[],o=[],a=[],s=[],l=[],c=[],u=[];i=e.ads,i.forEach(function(e,i){o=e.creatives,u=u.concat(e.impressionURLTemplates),o.forEach(function(e,i){e.mediaFiles&&r.push(e.mediaFiles),e.trackingEvents&&a.push(e.trackingEvents),e.adParameters&&(n=e.adParameters),e.videoClickTrackingURLTemplates&&s.push(e.videoClickTrackingURLTemplates),e.videoCustomClickURLTemplates&&l.push(e.videoCustomClickURLTemplates),e.videoClickThroughURLTemplate&&(t=e.videoClickThroughURLTemplate),x.hasAttr(e,c)&&c.push(e.duration)})}),F={impTrk:u,mediafiles:r,trkEvnts:a,adParameters:n,duration:c,customClickUrls:l,clickTrackingUrls:s,clickThroug:t}},H=function(e){N=this,f=this.contentWindow,I=this.contentDocument||this.document;var t=I.createElement("VIDEO");t.setAttribute("id","VpaidVideo");var n=I.createElement("div");n.setAttribute("id","videoContainer"),I.body.appendChild(n),M&&(n.style.height="0px"),n.appendChild(t),U(O)},U=function(e){if(B.isVPAID){if(B.IsJs&&(L=V(F),d=L.isVpaid)){if(w.apple.device){var t=w.apple,n=x.getVersion(t._IOSVersion);if(n&&n.major<10)return void x.removeAdSlot(x.getVideoadSlot())}x.addCSSSTyle(I,_.getVPAIDCSS()),h=I.createElement("VIDEO"),h.setAttribute("id","backupVideo"),h.setAttribute("style","display:none;width: 100%;height: 100%;");var i=I.getElementById("videoContainer");i.appendChild(h),A.init(L,F,N,f,I,l,m,g,v,y,j)}}else B.isVAST&&(x.addCSSSTyle(I,_.getVASTCSS()),k.callVast(e,x.getVideoadSlot(),N,f,I))},W=function(e,t){if(t&&t.ads)if(j=-1!==e.indexOf("ptv?id="),O=t,m=q(t),p=document.createElement("iframe"),p.id="frmPAVast",p.name="frmPAVAST",p.scrolling="no",p.style.width="100%",p.style.height="0px",p.marginWidth="0",p.marginHeight="0",p.style.overflowX="hidden",p.style.overflowY="hidden",p.style.display="none",p.allowFullscreen="true",p.webkitallowfullscreen="true",p.mozallowfullscreen="true",p.oallowfullscreen="true",p.msallowfullscreen="true",p.setAttribute("allowfullscreen",""),p.frameBorder="0",p.onload=H,M&&g&&!0===g.video.enabled){var n=document.createElement("div");n.id="viewability-expansion",n.appendChild(p),x.getVideoadSlot().appendChild(n)}else x.getVideoadSlot().appendChild(p);else x.getVideoadSlot().style.display="none",x.addAdHTPassback(E,S,x.getVideoadSlot(),window,u,g)},q=function(e){return e.ads[0]&&e.ads[0].system?e.ads[0].system:null},G=function(){if(D&&0===D.length)x.addAdHTPassback(E,S,x.getVideoadSlot(),window,u,g);else{var e=D.pop();o(e).then(W.bind(this,e)),x.isDebug()}},X=function(e,t,n,i,r,o,a,s,l){if(C=t,u=r,E=n,S=i,g=o,v=s,y=l,C){P=C.split(",").reverse();var c=[];P.forEach(function(e,t){c.push(x.getVideoPlacementPromise(e,t,D,a))}),T.all(c.map(function(e){return e.reflect()})).then(function(){return G(),"Ad call is done"})}};t.exports={playVastAd:X}},{"./cssloader":38,"./mobileDetect":43,"./utilities":49,"./vast":51,"./vpaid":52,bluebird:1,"vast-client":17}],31:[function(e,t,n){"use strict";function i(e,t,n,i){this._isValid=u(e),this._isValid&&(this._creative=e,this._el=t,this._videoEl=n,this._iframe=i,this._subscribers=new c,d.setFullSizeStyle(t),r.call(this))}function r(){if(h.forEach(function(e){this._creative.subscribe(a.bind(this,e),e)}.bind(this)),this._creative.subscribe(o.bind(this),f),this._videoEl){var e=this._iframe.contentDocument.documentElement,t=this._videoEl;e.addEventListener("click",function(n){n.target===e&&t.click()})}}function o(e,t,n){this._subscribers.triggerSync(f,{url:e,id:t,playerHandles:n})}function a(e){this._subscribers.trigger(e,Array.prototype.slice(arguments,1))}function s(e,t,n,i){e?e(n,i):n&&t.trigger(p,n)}var l=e("./IVPAIDAdUnit"),c=e("./subscriber"),u=l.checkVPAIDInterface,d=e("./utils"),p=(l.METHODS,"AdError"),f="AdClickThru",h=l.EVENTS.filter(function(e){return e!=f});i.prototype=Object.create(l.prototype),i.prototype.isValidVPAIDAd=function(){return this._isValid},l.METHODS.forEach(function(e){-1===["subscribe","unsubscribe","initAd"].indexOf(e)&&(i.prototype[e]=function(){var t=l.prototype[e].length,n=Array.prototype.slice.call(arguments),i=t===n.length?n.pop():void 0;setTimeout(function(){var t,r=null;try{t=this._creative[e].apply(this._creative,n)}catch(e){r=e}s(i,this._subscribers,r,t)}.bind(this),0)})}),i.prototype.initAd=function(e,t,n,i,r,o,a){r=r||{},o=d.extend({slot:this._el,videoSlot:this._videoEl},o||{}),setTimeout(function(){var l;try{this._creative.initAd(e,t,n,i,r,o)}catch(e){l=e}s(a,this._subscribers,l)}.bind(this),0)},i.prototype.subscribe=function(e,t,n){this._subscribers.subscribe(t,e,n)},i.prototype.unsubscribe=function(e,t){this._subscribers.unsubscribe(t,e)},i.prototype.on=i.prototype.subscribe,i.prototype.off=i.prototype.unsubscribe,l.GETTERS.forEach(function(e){i.prototype[e]=function(t){setTimeout(function(){var n,i=null;try{n=this._creative[e]()}catch(e){i=e}s(t,this._subscribers,i,n)}.bind(this),0)}}),i.prototype.setAdVolume=function(e,t){setTimeout(function(){var n,i=null;try{this._creative.setAdVolume(e),n=this._creative.getAdVolume()}catch(e){i=e}i||(i=d.validate(n===e,"failed to apply volume: "+e)),s(t,this._subscribers,i,n)}.bind(this),0)},i.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},t.exports=i},{"./IVPAIDAdUnit":28,"./subscriber":47,"./utils":50}],32:[function(e,t,n){"use strict";function i(e,t,n,i){n=n||{},this._id=f(),this._destroyed=!1,this._frameContainer=p.createElementInEl(e,"div"),this._videoEl=t,this._vpaidOptions=i||{timeout:1e4},this._templateConfig={template:n.template||m,extraOptions:n.extraOptions||{}}}function r(e){var t=this[e];t&&t.parentNode&&(t.parentNode.removeChild(t),delete this[e])}function o(){s.call(this),delete this._adUnit}function a(){s.call(this),c.call(this)}function s(){r.call(this,"_frame"),l.call(this)}function l(e){this._onLoad&&(e?e.removeEventListener("message",this._onLoad):window.removeEventListener("message",this._onLoad),delete this._onLoad)}function c(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function u(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}function d(e){var t=e||window;return p.detectIE()?window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):"object"==typeof t.location&&t.location.origin&&"null"!==t.location.origin?t.location.origin:"about:"===t.location.protocol?t.parent.location.protocol+"//"+t.parent.location.hostname+(t.parent.location.port?":"+t.parent.location.port:""):t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")}var p=e("./utils"),f=p.unique("paVpaidIframe"),h=e("./VPAIDAdUnit"),m='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.top.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>';i.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,a.call(this))},i.prototype.isDestroyed=function(){return this._destroyed},i.prototype.loadAdUnit=function(e,t,n){function i(t){if(t.origin===d(e)){var i;try{i=JSON.parse(t.data)}catch(e){}if(i){if(i.id!==s.getID())return;var r,a,c;if(s._frame.contentWindow?(c=s._frame.contentWindow.getVPAIDAd,a=p.validate("function"==typeof c,"the ad didn't return a function to create an ad")):a="the iframe is not anymore in the DOM tree",!a){var u=s._frame.contentWindow.document.querySelector(".ad-element");r=new h(c(),u,s._videoEl,s._frame),r.subscribe("AdStopped",o.bind(s)),a=p.validate(r.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return s._adUnit=r,l.call(s,e),n(a,a?null:r),!0}}}function r(){n("timeout",null)}if(!this._onLoad){u.call(this),a.call(this);var s=this,c=p.createIframeWithContent(this._frameContainer,this._templateConfig.template,p.extend({iframeURL_JS:t,iframeID:this.getID(),origin:d(e)},this._templateConfig.extraOptions));this._frame=c,this._onLoad=p.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),r.bind(this)),window.addEventListener("message",this._onLoad)}},i.prototype.unloadAdUnit=function(){a.call(this)},i.prototype.getID=function(){return this._id},t.exports={VPAIDHTML5Client:i}},{"./VPAIDAdUnit":31,"./utils":50}],33:[function(e,t,n){function i(e){if(null===e.offsetParent||0==e.offsetHeight||0==e.offsetLeft||0==e.offsetTop||0==e.offsetWidth||0==e.clientHeight||0==e.clientWidth)return!0;if(void 0!==window.getComputedStyle){var t=window.getComputedStyle(e,null);if(t&&("none"==t.getPropertyValue("display")||"hidden"==t.getPropertyValue("visibility")))return!0}return!1}var r,o=null,a=null,s=function(){},l=function(e,t){var n=document.createElement("div");return n.setAttribute("class",e),n.setAttribute("style",t),document.body?(document.body.appendChild(n),n):(o=new MutationObserver(function(e){document.body&&(document.body.appendChild(n),r=n,o.disconnect(),o=null,c())}),o.observe(document.documentElement,{childList:!0}),null)},c=function(){a=i(r),window.document.body.removeChild(r),s()},u=function(e){s=e,(r=l("pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner adsbox","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"))&&c()},d=function(){return a};t.exports={IsDetected:d,run:u}},{}],34:[function(e,t,n){var r,o=e("./targeting"),a=[],s=[],l=[],c={Magic:0,Taboola:1,LO:2,AdBlock:3,CustomScript:4},u=function(e){return r.rules.filter(function(t){return t.type===e&&o.isRuleValid(t)})},d=function(e){var t=o.pickValidRuleIndex(e);return null===t?null:e[t]},p=function(e){return e.product&&e.product.magic&&e.product.magic.enabled},f=function(e){var t;if((r=e)&&r.rules){t={},t.site_name=r.site_name,t.sco=r.hasOwnProperty("sco")?r.sco:null,t.partnerSco=o.getSitesPartnersSCO(r),t.serve319x49InIframe=r.hasOwnProperty("serve319x49InIframe")?r.serve319x49InIframe:null,validRules={};for(var n in c){var i=u(n);i&&i.length>0&&(validRules[n]=i)}for(var f in validRules){var h=d(validRules[f]);switch(f){case"Magic":if(p(h)){if(m(h),selected_id=g(a),-1!=selected_id){var v=formats[l[selected_id]][s[selected_id]];v.passback=formats[l[selected_id]].passback,t[f]={enabled:!0,type:s[selected_id],format:l[selected_id],positionType:h.product.magic.position?h.product.magic.position.type:null,rulePsbk:h.product.magic.rulePassback,adMngrPsbk:h.product.magic.adMngrPassback,adheadLabel:h.product.magic.adheadLabel,positionSelector:h.product.magic.position?h.product.magic.position.selector:null,sco:t.sco,partnerSco:t.partnerSco,serve319x49InIframe:t.serve319x49InIframe,viewabilityGeneric:h.product.magic.viewability_height,viewabilityDisplay:h.product.magic.height_display,inViewThreshold:formats[l[selected_id]].hasOwnProperty("inViewThreshold")?formats[l[selected_id]].inViewThreshold:50,incornerConfig:formats[l[selected_id]].hasOwnProperty("incorner")?formats[l[selected_id]].incorner:null,_isFramed:r._isFramed,_frmWindow:r._isFramed?r._targetFrameWindow:null,_currentScript:r.currentScript};for(var y in v)t[f][y]=v[y]}}else t[f]={enabled:!1};break;case"Taboola":t[f]=h.product.Taboola;break;case"LO":t[f]=h.product.LO.script;break;case"AdBlock":t[f]=h.product.AdBlock.scripts;break;case"CustomScript":t[f]=h.product.CustomScript.scripts}}}return t},h=o.isEmpty,m=function(e){var t=e.product.magic;t&&!h(t.formats)&&(x=0,formats=e.product.magic.formats,h(formats.inarticle)||(h(formats.inarticle.pmp)||(a[x]=formats.inarticle.pmp.probability,s[x]="pmp",l[x]="inarticle",x++),h(formats.inarticle.direct)||(a[x]=formats.inarticle.direct.probability,s[x]="direct",l[x]="inarticle",x++)),h(formats.vast)||(h(formats.vast.pmp)||(a[x]=formats.vast.pmp.probability,s[x]="pmp",l[x]="vast",x++),h(formats.vast.direct)||(a[x]=formats.vast.direct.probability,s[x]="direct",l[x]="vast")))},g=function(e){len=e.length;var t=Math.floor(100*Math.random()+1),n=null;for(temp=0,i=0;i<len;i++){if(t<=temp+e[i]){n=i;break}temp+=e[i]}return null===n?-1:n};t.exports={getSiteData:f,types:c,getValidRulesOfType:u,getMaxPriorityRule:d}},{"./targeting":48}],35:[function(e,t,n){var i=function(e,t,n){"use strict";function i(e,t,n){a.addMethod(t,n,e.unbindEvent),a.addMethod(t,n,e.unbindEventWithSelectorOrCallback),a.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function r(e){e.arrive=d.bindEvent,i(d,e,"unbindArrive"),e.leave=p.bindEvent,i(p,e,"unbindLeave")}if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var o=0,a=function(){var t=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(e,n){return e instanceof HTMLElement&&t.call(e,n)},addMethod:function(e,t,n){var i=e[t];e[t]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof i?i.apply(this,arguments):void 0}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,i=0;n=e[i];i++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,n,i){for(var r,o=0;r=e[o];o++)n(r,t,i)&&i.push({callback:t.callback,elem:r}),r.childNodes.length>0&&a.checkChildNodesRecursively(r.childNodes,t,n,i)},mergeArrays:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},toElementsArray:function(t){return void 0===t||"number"==typeof t.length&&t!==e||(t=[t]),t}}}(),s=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,n,i){var r={target:e,selector:t,options:n,callback:i,firedElems:[]};return this._beforeAdding&&this._beforeAdding(r),this._eventsBucket.push(r),r},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var i=this._eventsBucket.splice(n,1);i&&i.length&&(i[0].callback=null)}},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),l=function(t,i){var r=new s,o=this,l={fireOnAttributesModification:!1};return r.beforeAdding(function(n){var r,a=n.target;a!==e.document&&a!==e||(a=document.getElementsByTagName("html")[0]),r=new MutationObserver(function(e){i.call(this,e,n)});var s=t(n.options);r.observe(a,s),n.observer=r,n.me=o}),r.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,n){t=a.mergeArrays(l,t);for(var i=a.toElementsArray(this),o=0;o<i.length;o++)r.addEvent(i[o],e,t,n)},this.unbindEvent=function(){var e=a.toElementsArray(this);r.removeEvent(function(t){for(var i=0;i<e.length;i++)if(this===n||t.target===e[i])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(e){var t,i=a.toElementsArray(this),o=e;t="function"==typeof e?function(e){for(var t=0;t<i.length;t++)if((this===n||e.target===i[t])&&e.callback===o)return!0;return!1}:function(t){for(var r=0;r<i.length;r++)if((this===n||t.target===i[r])&&t.selector===e)return!0;return!1},r.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var i=a.toElementsArray(this);r.removeEvent(function(r){for(var o=0;o<i.length;o++)if((this===n||r.target===i[o])&&r.selector===e&&r.callback===t)return!0;return!1})},this},c=function(){function e(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t}function t(e,t){e.forEach(function(e){var n=e.addedNodes,r=e.target,o=[];null!==n&&n.length>0?a.checkChildNodesRecursively(n,t,i,o):"attributes"===e.type&&i(r,t,o)&&o.push({callback:t.callback,elem:r}),a.callCallbacks(o,t)})}function i(e,t,i){return!(!a.matchesSelector(e,t.selector)||(e._id===n&&(e._id=o++),-1!=t.firedElems.indexOf(e._id)))&&(t.firedElems.push(e._id),!0)}var r={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};d=new l(e,t);var s=d.bindEvent;return d.bindEvent=function(e,t,n){void 0===n?(n=t,t=r):t=a.mergeArrays(r,t);var i=a.toElementsArray(this);if(t.existing){for(var o=[],l=0;l<i.length;l++)for(var c=i[l].querySelectorAll(e),u=0;u<c.length;u++)o.push({callback:n,elem:c[u]});if(t.onceOnly&&o.length)return n.call(o[0].elem,o[0].elem);setTimeout(a.callCallbacks,1,o)}s.call(this,e,t,n)},d},u=function(){function e(){return{childList:!0,subtree:!0}}function t(e,t){e.forEach(function(e){var i=e.removedNodes,r=[];null!==i&&i.length>0&&a.checkChildNodesRecursively(i,t,n,r),a.callCallbacks(r,t)})}function n(e,t){return a.matchesSelector(e,t.selector)}var i={};p=new l(e,t);var r=p.bindEvent;return p.bindEvent=function(e,t,n){void 0===n?(n=t,t=i):t=a.mergeArrays(i,t),r.call(this,e,t,n)},p},d=new c,p=new u;t&&r(t.fn),r(HTMLElement.prototype),r(NodeList.prototype),r(HTMLCollection.prototype),r(HTMLDocument.prototype),-1!==document.location.hostname.indexOf("monopoli.gr")?r(e.__proto__):"www.happyparenting.gr"!==document.location.hostname&&r(Window.prototype);var f={};return i(d,f,"unbindAllArrive"),i(p,f,"unbindAllLeave"),f}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);t.exports={arrive:i}},{}],36:[function(e,t,n){function i(e,t,n){for(;(e=e.parentElement)&&!e.classList.contains(t)&&!e.classList.contains(n););return e&&!e.classList.contains(t)?null:e}function r(e,t,n){for(;(e=e.parentElement)&&e.tagName.toLowerCase()!==t&&e.classList.length>0&&!e.classList.contains(n););return e.classList.length>0&&e.classList.contains(n)?null:e}var o=e("./utilities").getElementClosestSelectors,a={context:null,totalImages:0,totalVideo:0,totalTextElements:0,siteName:""},s={protocol:"^https?://",vimeoPlayer:"(player.|www.)?(vimeo.com/video/)(\\d+)$",dailyMotion:"(//)(www.)(dailymotion.com/embed/video/)",youtubePlayer:"(player.|www.)?(youtube.com/embed/)",instagramPlayer:"(www.)(instagram.com/)(./)(.*/)(embed)",dailyMailPlayer:"(www.)(dailymail.co.uk/embed/video/)(\\d+)(.html)$"},l=function(e){var t=null;switch(e){case"vimeo":t=s.protocol+s.vimeoPlayer;break;case"dailyMotion":t=s.dailyMotion;break;case"youtube":t=s.youtubePlayer;break;case"instagram":t=s.protocol+s.instagramPlayer;break;case"dailymail":t=s.protocol+s.dailyMailPlayer}return t},c=function(){return a.context.getElementsByTagName("img").length},u=function(e,t){var e,n,i=0,r=[];n=l(t);for(var o=0;o<e.length;o++)r[o]=e[o].src;for(var a=new RegExp(n),s=0;s<r.length;s++)a.test(r[s])&&i++;return i},d=function(e){for(var e,t=0,n=0;n<e.length;n++)e[n].hasAttribute("data-rem-id")&&t++;return t},p=function(e){return"div"===e.tagName.toLowerCase()&&(e.classList.contains("twitter-video")||e.classList.contains("twitter-video-rendered"))},f=function(e){var t=y(),n=u(e,"vimeo"),i=u(e,"dailyMotion"),r=u(e,"youtube"),o=u(e,"instagram"),a=u(e,"dailymail");return t+n+i+d(e)+r+o+a},h=function(e){var t=e.tagName.toLowerCase();return"www.romaniatv.net"===a.siteName?m(e,t):-1!==a.tagNames.indexOf(t)?m(e,t):void 0},m=function(e,t){if("br"===t){if(e.previousSibling&&!e.previousSibling.textContent.trim().isEmpty())return!0}else if("www.kfetele.ro"===a.siteName){if(null!==i(e,"latestNewsBox","latestNews"))return!1;if(!e.textContent.trim().isEmpty()&&e.textContent!==String.fromCharCode(160))return!0}else if(!e.textContent.trim().isEmpty()&&e.textContent!==String.fromCharCode(160))return!0},g=function(e){var t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}}}},v=function(e){for(var t,n=[],i=g(e.getElementsByTagName("*"));t=i.next().value;)h(t)&&n.push(t);return n},y=function(){return a.context.getElementsByTagName("video").length},b=function(e){return"video"===e.tagName.toLowerCase()||(e.getElementsByTagName("video").length>0||(!!w(e)||!!p(e)))},w=function(e){var t=[];"iframe"===e.tagName.toLowerCase()?t[0]=e:t=e.getElementsByTagName("iframe");var n=u(t,"vimeo"),i=u(t,"dailyMotion"),r=u(t,"youtube"),o=u(t,"instagram"),a=u(t,"dailymail");return n+i+r+o+d(t)+a>0},_=function(e,t,n){return a.context=e,a.tagNames=t,a.siteName=n,a.frames=a.context.getElementsByTagName("iframe"),a.totalImages=c(),a.totalVideo=f(a.frames),a.totalTextElements=v(a.context).length,a},x=function(e,t,n){var i=n.join(",");return null!==o(e,i)};t.exports={getMedia:_,isElementVideo:b,findAncestor:i,findAncestorByTagName:r,isInsideInvalid:x}},{"./utilities":49}],37:[function(e,t,n){var i,r,o=(e("./arrive"),"utm_source=projectagora&utm_medium=contentdiscovery"),a=function(e,t){t.parentNode.insertBefore(e,t.nextElementSibling)},s=function(e,t){window._taboola=window._taboola||[];var n=void 0==r?o:r;!i||i&&""===n?"article"===t?_taboola.push({article:"auto"}):"video"===t?_taboola.push({video:"auto"}):_taboola.push({article:"auto"}):"article"===t?_taboola.push({article:"auto",tracking:n}):"video"===t?_taboola.push({video:"auto",tracking:n}):_taboola.push({article:"auto",tracking:n}),function(e,t,n,i){document.getElementById(i)||(e.async=1,e.src=n,e.id=i,t.parentNode.insertBefore(e,t))}(document.createElement("script"),document.getElementsByTagName("script")[0],l(e),"tb_loader_script"),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic")},l=function(e){return"file:"===document.location.protocol?"http://cdn.taboola.com/libtrc/"+e+"/loader.js":"//cdn.taboola.com/libtrc/"+e+"/loader.js"},c=function(e,t){w(),t&&t()},u=function(e,t){return e.sort(function(e,n){return t.indexOf(e.widgetType)-t.indexOf(n.widgetType)})},d=function(e,t,n){for(var i=e.length,r=0;r<i;r++){var o=e[r],s=m(o.mode,o.placement,o.containerId);switch(n){case"after":a(s.container,t);break;case"before":t.parentElement.insertBefore(s.container,t);break;case"inside-first":t.insertBefore(s.container,t.childNodes[0]);break;case"inside-after":case"inside-last":t.appendChild(s.container);break;default:a(s.container,t)}a(s.script,s.container)}},p=function(e,t){var n=e.length;if(0===n)return void t();for(var i=0;i<n;i++){var r=e[i];!function(e,i){var r=e.position,o=document.querySelector(e.selector);if(o){var a=u(e.widgets,["sponsored","organic","hybrid"]);d(a,o,r),i===n-1&&t()}else document.arrive(e.selector,{onceOnly:!0},function(){var o=document.querySelector(e.selector),a=u(e.widgets,["sponsored","organic","hybrid"]);d(a,o,r),i===n-1&&t()})}(r,i)}},f=function(e,t,n){var a,s=document.createElement("script"),l=r||o;a=i?"":!1===i?', tracking: "'+l+'"':', tracking: "'+o+'"';var c="window._taboola = window._taboola || [];_taboola.push({   mode: '"+e+"',   container: '"+n+"',   placement: '"+t+"',   target_type: 'mix'"+a+"});";return s.text=c,s},h=function(e){var t=document.createElement("div");return t.id=e,t},m=function(e,t,n){return{script:f(e,t,n),container:h(n)}},g=function(e){return e.tags},v=function(e){return e.name},y=function(e){return e.type?e.type:"article"},b=function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.appendChild(document.createTextNode("window._taboola = window._taboola || []; _taboola.push({flush: true});  ")),document.body.appendChild(e)},w=function(){document.body?b():document.arrive(document.body,{onceOnly:!0},function(){b()})},_=function(e,t){i=e.pageLevelTracking?e.pageLevelTracking.enabled:void 0,r=e.pageLevelTracking&&void 0!==e.pageLevelTracking.customUTM?e.pageLevelTracking.customUTM:void 0;var n=v(e);if(n){var o=y(e);s(n,o)}var a=g(e);a?p(a,c.bind(this,a.length,t)):t()};t.exports={runTaboolaAction:_}},{"./arrive":35}],38:[function(e,t,n){function i(){
return"#LBBanner:hover,#LEAVE-BEHIND:hover,#VpaidVideo:hover,#closeButtonContainer,#videoContainer:hover,#videoad:hover,.learn-more-text:hover,.project_agora:hover,div svg#closeBtn:hover #Fill-6,div svg#closeBtn:hover #Stroke-3,div svg#expandBtn:hover #Fill-10,div svg#expandBtn:hover #Fill-12,div svg#expandBtn:hover #Fill-6,div svg#expandBtn:hover #Fill-8,div svg#pauseBtn:hover #Group-3,div svg#playBtn:hover #Fill-1{cursor:pointer}#cancelBtn,#closeBtnDiv,#resize-full,#videoad{z-index:10}#videoContainer{z-index:999;width:100%;-webkit-overflow-scrolling:auto}@font-face{font-family:Montserrat;src:url(https://projectagora.net/libs/fonts/Montserrat-Light.ttf) format('truetype')}@font-face{font-family:ZonaPro;src:url(https://projectagora.net/libs/fonts/ZonaPro-Light.otf) format('opentype')}.project_agora{font-size:12px!important;height:12px;text-transform:unset!important;background-color:transparent;vertical-align:bottom;font-family:Montserrat!important;font-weight:400;text-align:center;color:#747474!important;margin-top:2px!important;margin-bottom:7px!important}.left-group,.sound-group,.timer{width:35px;height:35px;position:absolute}.project_agora:hover{color:#d84820!important;padding:unset!important;font-weight:700!important;overflow:unset!important;-webkit-font-smoothing:antialiased;line-height:unset!important;font-size:12px!important}.learn-more-text,.timer{font-size:18px;font-family:ZonaPro;color:#fff}#VpaidVideo{position:absolute;-webkit-overflow-scrolling:auto}.sound-group{float:right;bottom:3%}.floatLeft{left:5%}.floatRight{right:5%}.timer{left:0;bottom:0}.left-group{bottom:2%;left:.8%}#LBBanner{position:fixed;left:0;width:100%;height:100%;text-align:right}#loading{position:absolute;display:none}.lds-spinner{width:100px!important;height:100px!important}@media only screen and (min-width:420px){#loading{top:35%;right:40%}}@media only screen and (max-width:420px){#loading{top:25%;right:35%}}.learn-more-group{padding:5px;border-radius:5px;position:fixed;width:100%}#LBBanner #closeBtnDiv,#closeBtnDiv,#closeButtonContainer,#grayOverLay,.down-group,.learn-more-text,.right-down-group,.right-group,progress{position:absolute}@media only screen and (min-width:600px){.learn-more-group{right:19%;top:85%}}@media only screen and (max-width:600px) and (min-width:420px){.learn-more-group{right:25%;top:85%}}@media only screen and (max-width:420px) and (min-width:350px){.learn-more-group{right:40%;top:80%}}@media only screen and (max-width:350px){.learn-more-group{right:45%;top:75%}}#grayOverLay{background:gray;opacity:1;width:100%;height:94%}.learn-more-text{top:8px;margin:2px;bottom:6px;font-weight:700;width:130px;text-align:left}.learn-more-group,.learn-more-text{display:inline}.refresh{top:-4.8vh!important}.refresh_ring{width:4.6vw!important}#LEAVE-BEHIND{fill:#fff}.button svg{width:35px;height:35px}#learnMoreBtn svg{width:40px!important;height:40px!important}#closeBtnDiv{top:3%;right:2%}div svg#closeBtn #Fill-1,div svg#pauseBtn #Oval,div svg#playBtn #Oval{background-color:rgba(0,0,0,.06);border:1px solid #FFF}div svg#pauseBtn #Fill-1,div svg#playBtn #Fill-1{fill:#fff}circle #Oval pauseBtn,circle #Oval playBtn,div svg#closeBtn:hover #Fill-1,div svg#expandBtn:hover #Fill-1,div svg#pauseBtn:hover #Oval,div svg#playBtn:hover #Oval{fill-opacity:.2;cursor:pointer}#LBBanner #closeBtnDiv{top:4.2%;z-index:10;right:3%}#mute{right:5vw;bottom:0}#bannerFooter>a#expandBtn{color:#b2b2b2;font-family:Arial,sans-serif;font-size:12px;direction:ltr!important}.IIV::-webkit-media-controls-play-button,.IIV::-webkit-media-controls-start-playback-button,video::-webkit-media-controls-play-button,video::-webkit-media-controls-start-playback-button{opacity:0;pointer-events:none;width:5px}#volume-off{position:absolute;bottom:10px;right:40px;height:33px;width:33px;z-index:5;direction:ltr!important}@media (max-width:420px){#mute{right:0}#volume-off{height:28px;width:26px;right:16vh;padding-right:5px;z-index:5;direction:ltr!important}}#closeButtonContainer{height:100%;width:100%;top:0;cursor:hand}.down-group{width:80px;height:35px;bottom:2%;right:.6%}#cancel,#resize-full{height:33px;width:33px;direction:ltr!important}.right-group{float:right;margin-top:unset!important;line-height:unset;right:1%;top:1.5%}.right-down-group{float:right;bottom:3%;right:3%}#cancel,#cancelBtn,#resize-full,#volume-offBtn{position:relative}.no-select{-webkit-touch-callout:none!important;-webkit-user-drag:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;user-select:none!important;-webkit-tap-highlight-color:transparent!important}#volume-offBtn{z-index:4}#resize-full{bottom:10px;right:2vw}#cancel{display:inline-block}@media (max-width:420px){#resize-full{height:28px;width:26px;direction:ltr!important}#cancel{height:26px;width:26px;direction:ltr!important}}#progress-bar{direction:ltr!important}progress,progress[role]{appearance:none;-moz-appearance:none;-webkit-appearance:none;border:none;background-size:auto}progress{width:100%;height:3px;border:none;bottom:0;left:0;color:#f15a29}progress,progress[role][aria-valuenow]{background:#1DACEE!important}progress::-webkit-progress-bar{background:#1DACEE}progress::-moz-progress-bar{background:#f15a29}progress::-webkit-progress-value{background:#f15a29}progress[aria-valuenow]:before{background:#f15a29}.fs{height:100%!important;width:100%!important}.cancelSvg{z-index:10!important;height:14px!important;width:14px!important}.cancelSvg:hover{z-index:10!important;cursor:pointer}.newLMBtn{width:35px!important;height:30px!important}.newLMBtn:hover{cursor:pointer}"}function r(){return"#loading,#videoContainer{position:absolute}#volume-offBtn,.icon-ccw,.tip{z-index:99}body{margin:0}.animate-spin{-moz-animation:spin 2s infinite linear;-o-animation:spin 2s infinite linear;-webkit-animation:spin 2s infinite linear;animation:spin 2s infinite linear;display:inline-block}@-moz-keyframes spin{0%{-moz-transform:rotate(0);-o-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes spin{0%{-moz-transform:rotate(0);-o-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-o-keyframes spin{0%{-moz-transform:rotate(0);-o-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-ms-keyframes spin{0%{-moz-transform:rotate(0);-o-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-moz-transform:rotate(0);-o-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes ani{0%{-webkit-transform:scale(.01);opacity:0}1%{-webkit-transform:scale(.01);opacity:.8}95%{-webkit-transform:scale(1);opacity:.8}100%{-webkit-transform:scale(1);opacity:0}}@keyframes ani{0%{transform:scale(.01);opacity:0}1%{transform:scale(.01);opacity:.8}95%{transform:scale(1);opacity:.8}100%{transform:scale(1);opacity:0}}@font-face{font-family:magic;src:url(//projectagora.net/libs/fonts/magic.eot?63056309);src:url(//projectagora.net/libs/fonts/magic.eot?63056309#iefix) format('embedded-opentype'),url(//projectagora.net/libs/fonts/magic.woff?63056309) format('woff'),url(//projectagora.net/libs/fonts/magic.ttf?63056309) format('truetype'),url(//projectagora.net/libs/fonts/magic.svg?63056309#magic) format('svg');font-weight:400;font-style:normal}@font-face{font-family:Montserrat;src:url(//projectagora.net/libs/fonts/Montserrat-Light.ttf) format('truetype')}.project_agora{margin:0 auto;width:100%;font-size:12px;height:12px;line-height:13px}#videoad{direction:ltr!important;position:relative;margin:0 auto;padding:0;max-width:600px;overflow:hidden}video{max-width:100%}@media screen {#videoContainer{position:relative;cursor:initial}}#loading{display:none}.lds-spinner{width:100px!important;height:100px!important}@media only screen and (min-width:420px){#loading{top:35%;right:40%}}@media only screen and (max-width:420px){#loading{top:25%;right:35%}}#closeButtonContainer{height:100%;width:100%;position:absolute;top:0;cursor:pointer;cursor:hand}.right-group{position:relative;float:right}.right-down-group{position:fixed;float:right;bottom:0;right:0}.PA_line,.ring,.tip{position:absolute}.project_agora{background-color:#fff;vertical-align:bottom;font-family:Montserrat!important;text-align:center;color:#747474;margin-top:2px;margin-bottom:7px;font-weight:400}.project_agora:hover{cursor:pointer;color:#d84820;font-weight:700;-webkit-font-smoothing:antialiased}.PA_icon,.demo-icon{font-style:normal;font-weight:400;text-align:center;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.PA_icon{font-size:26px;width:33px;font-family:magic;display:inline-block;text-decoration:inherit;margin-right:.2em;line-height:1.2em;color:#D2D2D2;background-color:#000;opacity:.6;border-radius:4px}@media (max-width:420px){.PA_icon{font-family:magic;font-size:22px;line-height:1.34em;height:100%;vertical-align:middle;color:#D2D2D2;background-color:#000;opacity:.6;border-radius:4px;width:26px;text-align:center}}.icon-ccw{font-size:16px}.PAicon-cancel:hover,.PAicon-resize-full:hover,.PAicon-volume-off:hover{color:#fff;background-color:#F59100;opacity:1}.icon-twitter:hover{color:#fff;background-color:#1da1f2;opacity:1}.icon-facebook:hover{color:#fff;background-color:#4c66a4;opacity:1}.left-social{margin-right:2vw;margin-top:15px}@media (max-width:440px){.left-social{margin-top:5px}}.tip{display:none;font-size:10px;font-family:Lucida Sans Unicode,Helvetica,sans-serif;background-color:#000;color:#fff;opacity:.6;padding-left:5px;padding-right:5px}#cancel,#facebook,#twitter,.PA_animate{display:inline-block}.icon-ccw,.icon-ccw:hover{color:#b2b2b2;background-color:transparent}.icon-ccw{margin-right:5px;margin-left:0;margin-bottom:1px;opacity:1}.ring{width:4.6vw;line-height:24px;border-radius:50%;background-color:transparent;-webkit-animation-name:ani;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear;-webkit-animation-duration:3s;-webkit-animation-direction:normal;animation-name:ani;animation-iteration-count:infinite;animation-timing-function:linear;animation-duration:3s;animation-direction:normal;border-top:.5vw solid transparent;border-right:.5vw solid #D2D2D2;border-bottom:.5vw solid transparent;opacity:.6;top:2px;left:8px;height:24px}@media (orientation :landscape){.ring{width:4.6vw;line-height:24px;border-radius:50%;position:absolute;background-color:transparent;-webkit-animation-name:ani;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear;-webkit-animation-duration:3s;-webkit-animation-direction:normal;animation-name:ani;animation-iteration-count:infinite;animation-timing-function:linear;animation-duration:3s;animation-direction:normal;border-top:.5vw solid transparent;border-right:.5vw solid #D2D2D2;border-bottom:.5vw solid transparent;opacity:.6;top:2px;left:5px;height:24px}}.PA_line{width:69%;height:100%;border-bottom:3px solid #D2D2D2;-webkit-transform:rotate(-47deg);transform:rotate(-47deg);bottom:1.5vh;right:3vw;z-index:2;opacity:.9}@media (orientation:landscape){.PA_line{width:69%;height:100%;border-bottom:3px solid #D2D2D2;-webkit-transform:rotate(-47deg);transform:rotate(-47deg);position:absolute;top:-3.8vh;left:-4px;z-index:5}}#banner,#cancel,#facebook,#twitter{position:relative}@media(min-device-width:700px) and (max-device-width:1024px) and (orientation:portrait){.line{bottom:1.1vh;right:2vw}.ring{width:3.2vw;height:25px;z-index:10}}#resize-full,#volume-off{bottom:10px;position:absolute}@media(min-device-width:700px) and (max-device-width:1024px) and (orientation:landscape){.line{top:-1.8vh;left:-6px}.ring{width:2.7vw;height:25px;z-index:10}}#mute{position:absolute;right:5vw;bottom:0;height:33px;width:33px}@media (max-width:420px){#mute{right:8vw;height:28px;width:26px}}#r1{-webkit-animation-delay:-1s;animation-delay:-1s}#r2{-webkit-animation-delay:-2s;animation-delay:-2s}#r3{-webkit-animation-delay:-3s;animation-delay:-3s}.PA_animate{animation:2s linear 0s normal none infinite spin;vertical-align:middle;font-size:11vw;color:#fff;padding:20px}#cancelBtn,#ccwBtn,#facebookBtn,#twitterBtn{line-height:1.3em}.IIV::-webkit-media-controls-play-button,.IIV::-webkit-media-controls-start-playback-button,video::-webkit-media-controls-play-button,video::-webkit-media-controls-start-playback-button{opacity:0;pointer-events:none;width:5px}#cancel,#facebook,#resize-full,#twitter,#volume-off{height:33px;width:33px}.no-select{-webkit-touch-callout:none!important;-webkit-user-drag:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;user-select:none!important;-webkit-tap-highlight-color:transparent!important}#banner{padding:10px;max-height:100%;max-width:500px;clear:both;overflow:hidden;transition:background .3s linear;-webkit-transition:background .3s linear;background-color:#fff;margin:0 auto}#banner h3{font-size:16px;padding-bottom:10px;text-decoration:none}#banner p{font-size:1.167em}#bannerFooter:hover{cursor:pointer}.refresh{font-size:12}#resize-full{right:2vw}#volume-off{right:40px}@media (max-width:420px){#cancelBtn,#ccwBtn,#facebookBtn,#twitterBtn{line-height:1.2em}#cancel,#facebook,#twitter{height:26px;width:26px}#resize-full{height:28px;width:26px}#volume-off{height:28px;width:26px;right:6vh}}progress,progress[role]{appearance:none;-moz-appearance:none;-webkit-appearance:none;border:none;background-size:auto}progress{width:100%;height:3px;border:none;position:absolute;bottom:1px;left:0;color:#f15a29}progress,progress[role][aria-valuenow]{background:#1DACEE!important}#progress-bar{position:relative}progress::-webkit-progress-bar{background:#1DACEE}progress::-moz-progress-bar{background:#f15a29}progress::-webkit-progress-value{background:#f15a29}progress[aria-valuenow]:before{background:#f15a29}#bannerFooter>a#expandBtn{color:#b2b2b2;font-family:Arial,sans-serif;font-size:12px;direction:ltr!important}.see-again{background-size:26px 26px;text-decoration:none;display:table-cell;vertical-align:middle;color:#b2b2b2}.see-again:hover span{text-decoration:none;-moz-text-decoration-color:#b2b2b2;box-decoration-break:#b2b2b2;border-bottom:1px solid #b2b2b2}.demo-icon{font-family:magic;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;line-height:1em;margin-left:.2em}#PA-circle{padding-left:20px}#PA-circle .PA-outside{display:block;margin:0 auto;position:relative}#PA-circle .PA-click,#PA-circle .PA-text{cursor:pointer;position:absolute;width:100%;display:block}#PA-circle .PA-text{transition:.3s ease all;-moz-transition:.3s ease all;-webkit-transition:.3s ease all;font-size:20px;font-weight:700;z-index:9999}#PA-circle .PA-click{transition:.2s ease all;-moz-transition:.2s ease all;-webkit-transition:.2s ease all;z-index:8888}#PA-3{height:37px;width:37px}#PA-3 .PA-text{background:#d84820;font-size:60px;height:100%;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;margin-left:-54px;margin-top:2px;transform:rotate(-360deg);-moz-transform:rotate(-360deg);-webkit-transform:rotate(-360deg)}#PA-3 .PA-click{background:#0090d2;opacity:1;padding:8px 10px 4px 30px;margin-top:5px;margin-left:-40px;width:69px;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}#PA-3.PA-click{opacity:1;margin-left:-39px}.icon-cw{padding:9px 5px 10px;display:block;font-size:20px;color:#fff;-ms-transform:rotate(20deg);-webkit-transform:rotate(20deg);transform:rotate(20deg)}.rotating{-webkit-animation:rotating 6s linear infinite;-moz-animation:rotating 6s linear infinite;-ms-animation:rotating 6s linear infinite;animation:rotating 6s linear infinite;-o-animation:rotating 6s linear infinite}@-webkit-keyframes rotating{from{-ms-transform:rotate(0);-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}to{-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotating{from{-ms-transform:rotate(0);-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}to{-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.replay_btn{padding:3px 12px;display:block;text-decoration:none;font-family:Montserrat!important;border-radius:4px;color:#fff!important;margin-top:-4px;opacity:.8;font-size:14px;background:rgba(29,172,238,1)!important}.see_again{opacity:1}.my_orange{background:#f2623d!important}.my_blue{background:#00b0f1!important}.my_blue_dark{background:rgba(0,144,210,1)!important}"}t.exports={getVPAIDCSS:i,getVASTCSS:r}},{}],39:[function(e,t,n){function i(e,t){var n=t||"below-article-thumbnails";return"<div id='taboola-"+n+"'></div> <script type=\"text/javascript\">  window._taboola = window._taboola || [];  var realURL = top.location.href;  var realReferrer;  if (top.document.referrer) {      realReferrer = top.document.referrer;      _taboola.push({article:'auto', url: realURL, referrer: realReferrer});  } else {  _taboola.push({article:'auto', url: realURL});  }   _taboola.push({mode:'thumbnails-a', container:'taboola-"+n+"', placement:'"+n+"', target_type: 'mix'});   !function (e, f, u, i) { if (!document.getElementById(i)){ e.async = 1; e.src = u; e.id = i; f.parentNode.insertBefore(e, f); } }(document.createElement('script'),  document.getElementsByTagName('script')[0], '//cdn.taboola.com/libtrc/"+e+"/loader.js', 'tb_loader_script'); <\/script>"}var r=e("postscribe"),o=e("./utilities"),a=(e("./arrive"),function(e){}),s=function(e){},l=function(e){},c=function(e){},u=function(e){if("object"!=typeof e.data&&-1!==e.data.indexOf("pa_passbck_adblck")){var t=JSON.parse(e.data);if(t&&"pa_passbck_adblck"===t.type){o.isDebug();var n=i(t.wgt_id,t.container),a="#"+t.criteo_id,s=document.getElementById(t.criteo_id+"_cto_iframe");s&&(s.style.display="none"),r(a,n,{done:l,error:c})}}},d=function(e){for(var t=!1,n=e.length,i=0;i<n;i++)if(e[i].hasOwnProperty("breakpoints")){t=!0;break}return t},p=function(e){for(var t=[],n=e.length,i=0;i<n;i++){var r=e[i].breakpoints;r&&t.push(r)}return t},f=function(e){for(var t=-1,n=screen.width,i=0;i<e.length;i++)(e[i].hasOwnProperty("minWidth")&&e[i].hasOwnProperty("maxWidth")&&n>=e[i].minWidth&&n<=e[i].maxWidth||e[i].hasOwnProperty("minWidth")&&!e[i].hasOwnProperty("maxWidth")&&n>=e[i].minWidth||!e[i].hasOwnProperty("minWidth")&&e[i].hasOwnProperty("maxWidth")&&n<=e[i].maxWidth)&&(t=i);return t},h=function(e){if(e){if(d(e)){var t=p(e);return t.length>0?(index=f(t),-1!==index?e[index].tags:void 0):void 0}return e}},m=function(e){var t=h(e);if(t){var n=t.length;window.addEventListener("message",u);for(var i=0;i<n;i++){var l=t[i];!function(e){var t=document.querySelector(e.selector);o.isDebug(),t?(o.isDebug(),r(t,e.code,{done:a,error:s})):(o.isDebug(),document.arrive(e.selector,function(){o.isDebug(),r(this,e.code,{done:a,error:s})}))}(l)}}},g=function(e){Criteo&&"function"==typeof Criteo.DisplayAcceptableAdIfAdblocked?(o.isDebug(),m(e)):o.isDebug()};t.exports={criteoLoaded:g}},{"./arrive":35,"./utilities":49,postscribe:7}],40:[function(e,t,n){var i=e("./utilities"),r=(e("./arrive"),function(e){}),o=function(e){return e.selector},a=function(e){return e.position},s=function(e,t){for(var n=0;n<e.length;n++){var s=o(e[n]);s?function(e){var t=a(e),o=document.querySelector(e.selector);o?i.write_script(o,t,i.parseElementTags(e.code),r.bind(this,n))():document.arrive(e.selector,function(){i.write_script(this,t,i.parseElementTags(e.code),r.bind(this,n))()})}(e[n]):i.write_script(document.head,null,i.parseElementTags(e[n].code),r.bind(this,n))()}t()};t.exports={writeCustomScripts:s}},{"./arrive":35,"./utilities":49}],41:[function(e,t,n){function i(e){return new u(function(t,n){if("1.1"===e.version){(window.__cmp||window.top.__cmp)("getConsentData",null,function(e){t({cmp:!0,cmpApi:d,gdpr:{applies:e.gdprApplies,consent:e.consentData}})})}else"2"===e.version&&e.apiMethod(e.command,e.version,function(e,n){n&&t({cmp:!0,cmpApi:d,gdpr:{applies:e.gdprApplies,consent:e.tcString}})});setTimeout(function(){n(Error("Consent data are not ready."))},p)})}function r(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}var n=t.__tcfapiReturn;n&&"function"==typeof f[n.callId]&&(f[n.callId](n.returnValue,n.success),f[n.callId]=null)}function o(){return window.__tcfapi?window.__tcfapi:(h=a())?(window.__tcfapi=function(e,t,n,i){if(h){var r=Math.random()+"",o={__tcfapiCall:{command:e,parameter:i,version:t,callId:r}};f[r]=n,h.postMessage(o,"*")}else n({msg:"CMP not found"},!1)},window.addEventListener("message",r,!1),window.__tcfapi):null}function a(){for(var e,t=window;t;){try{if(t.frames.__tcfapiLocator){e=t;break}}catch(e){}if(t===window.top)break;t=t.parent}return e}function s(){return c=o(),c?{version:"2",apiMethod:c,command:"getTCData"}:window.__cmp||window.top.__cmp?{version:"1.1",apiMethod:window.__cmp||window.top.__cmp,command:"getConsentData"}:null}function l(){return new u(function(e,t){var n=s();null==n?e({cmp:!1}):(void 0!==n.apiMethod&&"function"==typeof n.apiMethod||e({cmp:!1}),i(n).then(function(t){e(t)}).catch(function(t){e({cmp:!0,cmpApi:d})}))})}var c,u=e("bluebird"),d="iab",p=1e3,f={},h=null;t.exports={getConsentData:l}},{bluebird:1}],42:[function(e,t,n){var i=function(){"use strict";function e(e){function t(r){n=requestAnimationFrame(t),e(r-(i||r)),i=r}var n,i;this.start=function(){n||t(0)},this.stop=function(){cancelAnimationFrame(n),n=null,i=0}}function t(e,t,n,i){function r(t){Boolean(e[n])===Boolean(i)&&t.stopImmediatePropagation(),delete e[n]}return e.addEventListener(t,r,!1),r}function n(e,t,n,i){function r(){return(n.call?n():n)[t]}function o(e){(n.call?n():n)[t]=e}i&&o(e[t]),Object.defineProperty(e,t,{get:r,set:o})}function i(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function r(e){var t=new Audio;return t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function o(e,t,n){(m||0)+200<Date.now()&&(e[b]=!0,m=Date.now()),n||(e.currentTime=t),x[++A%3]=100*t|0}function a(e){return e.driver.currentTime>=e.video.duration}function s(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.mutedDriver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&a(t)&&(t.mutedDriver.currentTime=0),o(t.video,t.mutedDriver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.muted&&t.audio&&(t.audio.currentTime=t.driver.currentTime+1/16),t.video.ended&&!t.video.loop&&(delete t.video[b],t.video.pause(!0))}function l(){var e=this,t=e[y];return e.webkitDisplayingFullscreen?void e[w]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(o(e,0,!0),t.driver.src=e.src),void(e.paused&&(t.paused=!1,e.buffered.length||e.load(),t.driver.play(),t.updater.start(),i(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&i(e,"playing"))))}function c(e){var t=this,n=t[y];n.driver.pause(),n.updater.stop(),t.webkitDisplayingFullscreen&&t[_](),n.paused&&!e||(n.paused=!0,i(t,"pause"),t.ended&&(t[b]=!0,i(t,"ended")))}function u(e){e.muted&&(e.muted=!1,e.audio?e.audio.src!==e.mutedDriver.src&&(e.audio.src=e.mutedDriver.src):(e.audio=r(e.video),e.video.audio=e.audio),e.audio.loop=e.mutedDriver.loop,e.audio.playbackRate=e.mutedDriver.playbackRate,e.mutedDriver.paused||(e.audio.play(),e.audio.paused&&e.video.pause(!0)))}function d(e){e.muted||(e.muted=!0,e.mutedDriver.src=e.audio.src,e.mutedDriver.paused=e.audio.paused,e.mutedDriver.currentTime=e.audio.currentTime,e.mutedDriver.loop=e.audio.loop,e.mutedDriver.playbackRate=e.audio.playbackRate,e.audio.pause())}function p(t){var n=t[y]={get driver(){return n.muted?n.mutedDriver:n.audio}};n.muted=t.hasAttribute("muted"),n.paused=!0,n.video=t,n.updater=new e(s.bind(n)),n.mutedDriver={src:t.src||t.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,a(n)&&o(t,0)},get ended(){return a(n)}},n.muted||(n.audio=r(t),n.video.audio=n.audio),t.addEventListener("canplay",function(){t.paused||i(t,"playing")}),t.addEventListener("emptied",function(){var e=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==t.src&&(o(t,0,!0),n.driver.src=t.src,e?n.driver.play():n.updater.stop())},!1),t.addEventListener("webkitbeginfullscreen",function(){t.paused?n.muted||n.driver.buffered.length||n.driver.load():(t.pause(),t[w]())}),t.addEventListener("webkitendfullscreen",function(){n.muted||(n.driver.currentTime=t.currentTime)}),t.addEventListener("seeking",function(){!n.muted&&x.indexOf(100*t.currentTime|0)<0&&(n.driver.currentTime=t.currentTime)})}function f(e){var i=e[y];e[w]=e.play,e[_]=e.pause,e.play=l,e.pause=c,n(e,"paused",function(){return i.driver}),n(e,"ended",function(){return i.driver}),n(e,"playbackRate",function(){return i.driver},!0),n(e,"loop",function(){return i.driver},!0),t(e,"seeking"),t(e,"seeked"),t(e,"timeupdate",b,!1),t(e,"ended",b,!1),Object.defineProperty(e,"muted",{set:function(e){return(e?d(i):u(i))||e},get:function(){return i.muted}})}function h(e,t){void 0===t&&(t={}),e[y]||!t.everywhere&&!v||(p(e),f(e),e.classList.add("IIV"),e.muted&&e.autoplay&&e.play(),"MacIntel"!==navigator.platform&&navigator.platform)}var m,g="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol,v=/iPhone|iPod/i.test(navigator.userAgent)&&!matchMedia("(-webkit-video-playable-inline)").matches,y=g(),b=g(),w=g("nativeplay"),_=g("nativepause"),x=[],A=0;return h.isWhitelisted=v,h}();t.exports={makeVideoPlayableInline:i}},{}],43:[function(e,t,n){!function(e){var n=/iPhone/i,i=/iPod/i,r=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,s=/IEMobile/i,l=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,c=/BlackBerry/i,u=/BB10/i,d=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,f=/(CriOS|Chrome)/i,h=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)/i,g=function(e,t){return t.match(e)},v=function(e){var t=e||navigator.userAgent;if(this.apple={phone:g(n,t),ipod:g(i,t),tablet:!g(n,t)&&g(r,t),device:g(n,t)||g(i,t)||g(r,t),_IOSVersion:(g(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/,t)||[""])[0].replace(/_/g,"."),Chrome:g(f,t),chromeVersion:(/Chrome\/([0-9]+)/.exec(t)||[,0])[1],CriOSVersion:parseInt((/CriOS\/([0-9]+)/.exec(t)||[,0])[1]),Firefox:g("FxiOS",t),Safari:g(/iP(ad|od|hone)/i,t)&&g(/WebKit/i,t)&&!g(/(CriOS|FxiOS|OPiOS|mercury)/i,t),isChrome:t.match("CriOS"),isFirefox:t.match("FxiOS"),firefoxVersion:parseFloat((/FxiOS\/([0-9]\.[0-9])/.exec(t)||[,0])[1])},this.android={phone:g(o,t),tablet:!g(o,t)&&g(a,t),device:g(o,t)||g(a,t)},this.windows={phone:g(s,t),tablet:g(l,t),device:g(s,t)||g(l,t)},this.other={blackberry:g(c,t),blackberry10:g(u,t),opera:g(d,t),firefox_mobile:g(h,t),firefox:g(m,t),chrome:g(f,t),chrome_mobile:g(p,t),device:g(c,t)||g(u,t)||g(d,t)||g(h,t)||g(p,t)},this.mobileDeviceAny=this.apple.device||this.android.device||this.windows.device||this.other.device,this.tabletAny=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},y=function(){var e=new v;return e.Class=v,e};void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=v:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=y()):e.isMobile=y()}(this)},{}],44:[function(e,t,n){function r(e){e="string"==typeof e?document.querySelector(e):e;var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+n)}function o(e){e="string"==typeof e?document.querySelector(e):e;var t=window.getComputedStyle(e),n=parseFloat(t.marginTop);return Math.ceil(l.getOffsetTop(e)-n)}function a(e,t){function n(){r++;for(var t=e.getElementsByTagName("iframe"),n=0;n<t.length;n++)if((t[n].id.indexOf("polar")>-1||"AgoraHead"===t[n].id||"frmPAVast"===t[n].id)&&t[n].style.height){x=t[n].style.height;var s=t[n].style;s.setProperty("height",x,"important"),s.maxHeight="none",s.maxWidth="none",o=!0}i&&(r>10||o)&&clearInterval(a)}var i=!!t,r=0,o=!1;if(e)if(i)var a=window.setInterval(n,1e3);else n()}function s(e){LightCont=document.getElementById("inArticleLight_container");var t;t=window.innerHeight>window.innerWidth?"portrait":"landscape";var n=window.innerWidth>0?window.innerWidth:screen.width,i="left: "+n/2.5+"px!important;";LightCont.style.cssText=i;var r=e+i;LightCont&&isMobile.Mobile()&&"portrait"===t?LightCont.style.cssText=r:LightCont.style.cssText=e}var l=e("./utilities"),c=document,u=function(e,t){if(t.skipNode)for(;e.nodeName===t.skipNoden;)e=null===e.nextElementSibling?e.nextSibling:e.nextElementSibling;if(t.checkNodeType)return e.tagName.toLowerCase()===t.checkNodeType||3!==e.previousSibling.nodeType&&e.previousSibling.tagName.toLowerCase()===t.checkNodeType;if(t.skipElemText&&-1!==e.innerText.indexOf(t.skipElemText))return!0;var n,i,a,s,c,u,d,p;if(Array.isArray(t.t)&&Array.isArray(t.n)&&t.t.length===t.n.length){n=[];for(var f=0;f<t.n.length;f++)n.push(g(t.t[f],t.n[f]))}else n=g(t.t,t.n);if(n&&Array.isArray(n)){AdsInArticle=[];for(var h,m=0;m<n.length;m++)n[m]&&(adSpaces={selectedAd:n[m],start:o(n[m]),end:o(n[m])+(r(n[m])>(t.heightTH?t.heightTH[m]:0)?r(n[m]):t.heightTH?t.heightTH[m]:0)},AdsInArticle.push(adSpaces));for(var v=0;v<AdsInArticle.length;v++)l.getOffsetTop(e)<=AdsInArticle[v].end&&l.getOffsetTop(e)>=AdsInArticle[v].start&&(h=AdsInArticle[v]);return p=l.getOffsetTop(e)+e.clientHeight,!!h&&(!(p<o(h.selectedAd))&&h.end>p)}return n?(a=getComputedStyle(n),s=parseInt(a.getPropertyValue("margin-top"),10),c=parseInt(a.getPropertyValue("margin-bottom"),10),u=parseInt(a.getPropertyValue("border-top"),10),d=parseInt(a.getPropertyValue("border-bottom"),10),t.heightTH&&2===t.heightTH.length&&n.clientHeight<t.heightTH[0]&&(n.clientHeight=t.heightTH[1]),i=l.getOffsetTop(n)+(t.heightTH?300:0)+n.clientHeight+(isNaN(s)?0:s)+(isNaN(c)?0:c)+(isNaN(u)?0:u)+(isNaN(d)?0:d),!((p=l.getOffsetTop(e)+e.clientHeight)<l.getOffsetTop(n))&&i>p):void 0},d=function(e,t,n){var i,r;if(void 0!==(r=c.getElementsByClassName("banner fleft")[0])){var o=t[n-1].viewportOffset().top;if(r.viewportOffset().top+r.clientHeight>o)for(var a,s=c.createNodeIterator(e,NodeFilter.SHOW_TEXT);a=s.nextNode();)if(getTextNodeHeight(a).bottom>getTextNodeHeight(r).bottom){i=a;break}}return i},p=function(e,t){var n=e[t].elem.previousElementSibling;if(n&&"img"===n.tagName.toLowerCase()&&n.align){var i=0,r=e[t].elem.getBoundingClientRect().top,o=n.height;for(i=r;r-i<=o;)t++,r=e[t].elem.getBoundingClientRect().top}return t},f=function(e){vals=[];var t=e.length;for(i=0;i<t;i++)e[i].elem.parentElement.classList.contains("containedArticle")||vals.push(e[i]);return Math.floor(vals.length/2)},h=function(){var e=!0,t=["J Wedding","Jenny Cares","","Today I Love","Scrapbook mou","Jenny's Shoes","My Weekend Diaries","#ItsAmaliaK","Cooking Stories","Tsoulo","Staying in with"];return v("story-")?e=!1:g("class","gallery-slideshow")?e=!1:-1!==t.indexOf(m())&&(e=!1),e},m=function(){var e=c.querySelector('meta[property="article:section"]');return e&&e.getAttribute("content")},g=function(e,t){var n;switch(e){case"id":n=c.getElementById(t);break;case"class":n=c.getElementsByClassName(t)[0];break;case"tag":n=c.getElementsByTagName(t)[0];break;case"querySelector":n=c.querySelector(t);break;default:n=void 0}return n},v=function(e){var t=window.location.pathname
;return t&&-1!==t.indexOf(e)},y=function(e){return-1!==[" :"," :"," :"].indexOf(e.innerText)},b=function(e){var t=e.childNodes;return 1===t.length&&1===t[0].nodeType&&"a"===t[0].tagName.toLowerCase()&&"rgb(206, 30, 38)"===getComputedStyle(e.childNodes[0]).getPropertyValue("color")};t.exports={inArticlePosPatch:u,ziarePatch:d,jennyPatchIsValid:h,motherPatch:p,mediafaxPatch:f,instylePatchInvalidText:y,instylePatchInvalidBetween:b,bziPatch:a,tayyarPatch:s}},{"./utilities":49}],45:[function(e,t,n){var i=e("./mobileDetect"),r={"www.mothersblog.gr":{t:"class",n:"ad-unit in-article",heightTH:[300,321]},"www.elwatannews.com":{t:"class",n:"related-articles"},"sport.elwatannews.com":{t:"class",n:"related-articles"},"www.ramnicuvalceaweek.ro":{t:"class",n:"alignleft"},"www.cnn.gr":{t:"class",n:"ad-unit",heightTH:[300,321]},"www.onsports.gr":{t:"class",n:"ad-unit in-article",heightTH:[300,321]},"lyla.ro":{t:"id",n:"article_side"},"www.romania-insider.com":{t:["querySelector","querySelector"],n:[".clearfix > .field--name-field-read-next",".clearfix > .field--name-field-advert"]},"www.ant1news.gr":{t:"id",n:"relatives"},"www.tothemaonline.com":{t:"class",n:"related-box hidden-xs pull-right"},"www.culturenow.gr":{t:"class",n:"articlePhoto",skipNode:"BR"},"www.newsauto.gr":{t:"class",n:"related"},"ladytimes.com.cy":{t:"class",n:"code-block code-block-1",heightTH:[200,250]},"showbiz.com.cy":{t:"class",n:"code-block code-block-1"},"protathlima.com":{t:"class",n:"code-block code-block-1"},"lifenewscy.com":{t:"class",n:"td-a-rec td-a-rec-id-content_inlineleft"},"www.themasports.com":{t:"class",n:"td-a-rec td-a-rec-id-content_inlineleft"},"24news.com.cy":{t:"id",n:"TextAdIframe"},"www.mediafax.ro":{t:"class",n:"CategoryNews"},"www.one.ro":{t:"class",n:"a-Thumb"},"www.queen.gr":{t:"querySelector",n:".ad-unit.in-article",heightTH:[200,250]},"teen.queen.gr":{t:"querySelector",n:".ad-unit.in-article",heightTH:[200,250]},"www.cnn.gr":{t:["class","class"],n:["fulltext-banner","story-highlights"],heightTH:[600,600]},"www.marketingweek.gr":{t:"querySelector",n:"#articleBody > div.image",skipNode:"BR",checkNodeType:"strong"},"www.capital.ro":{t:"id",n:"div-gpt-ad-1487859615731-11",skipNode:"BR"},"www.eurohoops.net":{t:"class",n:"banner",skipElemText:"info@eurohoops.net"},"www.themamagers.gr":{t:"class",n:"td-a-rec td-a-rec-id-content_inlineright"},"www.topnews.gr":{t:"class",n:"code-block code-block-6 ai-viewport-1"},"www.tvlive.gr":{t:"class",n:"code-block code-block-2 ai-viewport-1"},"www.womentalk.gr":{t:"class",n:"code-block code-block-4 ai-viewport-1"},"www.thebest.gr":{t:"class",n:"ad text-center float-none float-sm-left mb-3 mr-3",heightTH:[300,265]},"www.finances.gr":{t:"class",n:"code-block code-block-3 ai-viewport-1"},"www.corfupost.gr":{t:"class",n:"code-block code-block-8 ai-viewport-1"},"www.cretaday.gr":{t:"class",n:"code-block code-block-8 ai-viewport-1"},"dailystarscy.com":{t:"class",n:"inside-bannerR"},"www.radiounirea.ro":{t:"class",n:"alignleft size-medium"},"www.campeniinfo.ro":{t:"class",n:"alignleft size-medium"},"www.blajinfo.ro":{t:"class",n:"alignleft size-medium"},"www.cugirinfo.ro":{t:"class",n:"alignleft size-medium"},"www.sebesinfo.ro":{t:"class",n:"alignleft size-medium"},"www.aiudinfo.ro":{t:"class",n:"alignleft size-medium"},"www.libertatea.ro":{t:"class",n:"sirc"},"www.ebihoreanul.ro":{t:"class",n:"fr pl10",heightTH:[600,0]},"www.alfavita.gr":{t:"id",n:"ros_inline_a",heightTH:[350,350]},"www.mubasherpulse.com":{t:"class",n:"pl-related"},"www.espressonews.gr":{t:"class",n:"field field-name-banner-000-300x250-start-of-arti field-type-ds field-label-hidden"},"shootandgoal.cyprustimes.com":{t:"class",n:"code-block code-block-1",heightTH:[200,290]},"cyprustimes.com":{t:"class",n:"code-block code-block-2",heightTH:[200,290]},"newpost.gr":{t:"class",n:"float-left mr-4 mb-2"},"www.jurnaldevrancea.ro":{t:"class",n:"td-featured-image-rec"},"www.gustarte.ro":{t:"class",n:"col-1-third ingred"},"www.tayyar.org":{t:"class",n:"advertiseRelocateID"},"www.gds.ro":{t:"querySelector",n:"#td-outer-wrap > div.td-main-content-wrap.td-container-wrap > div > article > div:nth-child(2) > div.td-pb-span8.td-main-content > div > div.td-post-content > div.td-a-rec.td-a-rec-id-content_inlineleft",heightTH:[330,330]},"dailyausaf.com":{t:"querySelector",n:".singleNewsCon .row.article_text > div:first-child"},"www.pentapostagma.gr":{t:["class","class"],n:["penta-content-3","penta-content-4"]},"olaprasina1908.gr":{t:"querySelector",n:"#main > article > div > div.inpostcontentwrap"}};r["www.lyla.ro"]=r["lyla.ro"]=r["lyla.ro"],r["www.newpost.gr"]=r["newpost.gr"];var o={"stirescu.ro":{t:".banner-rel.clearfix"},"www.elwatannews.com":{t:".related-articles"},"sport.elwatannews.com":{t:".related-articles"},"www.arabnews.com":{t:".injected-block"},"ziarulunirea.ro":{t:"#cab-author"},"www.cnn.gr":{t:".story-content > div > div > blockquote"},"www.elle.ro":{t:".single-latest-video"},"promotions.hu":{t:"blockquote, .container-dynamic-content"},"web.gazetakorrekte.com":{t:"#comments"},"gazetakorrekte.com":{t:"#comments"},"blajinfo.ro":{t:"#cab-author"},"nuus.hu":{t:"#taboola-alternating-below-article , .socialShare.clearfix , .interestBox , .likeBoxes.clearfix ,#mc4wp-form-1 ,.commentTop"},"sebesinfo.ro":{t:"#cab-author"},"radiounirea.ro":{t:"#cab-author"},"cugirinfo.ro":{t:"#cab-author"},"aiudinfo.ro":{t:"#cab-author"},"campeniinfo.ro":{t:"#cab-author"},"mercedesblog.com":{t:"blockquote.wp-embedded-content"},"www.botosaninews.ro":{t:".wdca_ad_item.wdca_custom_ad"},"airlinestravel.ro":{t:".bs-irp.right.bs-irp-thumbnail-1"},"www.vrancea24.ro":{t:"#jp-relatedposts"},"www.go4it.ro":{t:".subscribe"},"spynews.ro":{t:"#__content > div.pateneri_new"},"www.wowbiz.ro":{t:"div.text-center"},"www.vasiledale.ro":{t:"div.td-post-content > div.td-a-rec.td-a-rec-id-content_bottom.td_block_template_1"},"www.almowaten.net":{t:"div.post-content-bd > center"},"varosikurir.hu":{t:"blockquote"},"dailyausaf.com":{t:"#taboola-sponsored-below-article"},"www.skai.gr":{t:"#article, div[id^='vid_']"},"mfor.hu":{t:"div.article > blockquote"},"abunawaf.com":{t:"#content > div > div > div.col-sm-8.content-column > div.single-container > article > div.entry-content.clearfix.single-post-content > div.bs-irp.right.bs-irp-thumbnail-2-full"},"www.zeromedia.al":{t:".advert-in"},"www.elconsolto.com":{t:".inBodyRelated, #InterScroller, .allItems"},"www.shift-eg.com":{t:".interScrollerAsync"},"www.yallakora.com":{t:"#InterScroller, .pattern01, section.showcaseDiv"},"www.masrawy.com":{t:"#InterScroller, .interScrollerAsync, .pattern01, section.showcaseDiv"},"m.jurnalul.antena3.ro":{t:"table"},"www.daynight.gr":{t:"blockquote"},"www.zurnal24.si":{t:"blockquote, twitter-widget"},"njena.svet24.si":{t:".instagram-embed"},"www.romania-insider.com":{t:".node--view-mode-read-next"},"starity.hu":{t:"blockquote, .instagram-media-registered"},"motorxpert.ro":{t:"[class='post-nav clearfix']"},"www.turnulsfatului.ro":{t:"[class='col-12 col-sm-6'], .latest-comments, .comment"},"raseef22.com":{t:"blockquote, .relatedArticles, .trending"},"www.t-voice.net":{t:".listing-thumbnail"},"www.marca.com":{t:".aside-comments"},"alba24.ro":{t:"#comments"}},a=["promotions.hu","roxx.gr"],s={"www.portfolio.hu":{to:15e3},"m.portfolio.hu":{to:15e3}},l=["www.peoplegreece.com","www.travelstories.gr","www.alphatv.gr","www.sport-fm.gr","www.fortunegreece.com","www.instyle.gr","lifenewscy.com","www.kfetele.ro","www.rocking.gr","www.kanald.ro","www.comisarul.ro","www.stirilekanald.ro","www.wowbiz.ro","www.portfolio.hu","m.portfolio.hu","www.savoirville.gr","www.evianews.com","www.tayyar.org","www.romaniatv.net","www.allyou.gr","www.newsbomb.gr","www.sport24.gr","m.sport24.gr","www.alfavita.gr","www.faysbook.gr","www.queen.gr","www.cnn.gr","www.iefimerida.gr","www.fthis.gr"],c=["www.filgoal.com","www.superkora.football","akhbarak.net","akhbaar24.argaam.com","el-ahly.com","www.alsumaria.tv","www.arabiaweather.com","www.filfan.com","www.unlimit-tech.com"],u=[{name:"pubmatic",urls:["vpaid.pubmatic.com","vid.pubmatic.com"],gdpr:!0,replace:!0,add:!0,default_schain:"&schain=SUPPLYCHAIN_GOES_HERE"},{name:"appNexus",urls:["adnxs.com/ptv","secure.adnxs.com/ttj"],gdpr:!0,replace:!0,add:!0},{name:"freewheel",urls:["ads.stickyadstv.com"],gdpr:!0,replace:!0,add:!0},{name:"union",urls:["www8.smartadserver.com"],gdpr:!0,replace:!0,add:!0},{name:"adform",urls:["adx.adform.net/adx"],gdpr:!0,replace:!0,add:!0},{name:"rubicon",urls:["video-ads.rubiconproject.com"],gdpr:!1,replace:!1,add:!1},{name:"openx",urls:["projectagora-d.openx.net"],gdpr:!0,replace:!0,add:!0}],d=["PA_width","PA_height","PA_timestamp"],p={fadeInAnimationStr:"@keyframes fadeInAnimation {0% {opacity:0;} 100% {opacity:1}}",fadeOutAnimationStr:"@keyframes fadeOutAnimation {0% {opacity:1;} 100% {opacity:0}}",fadeInClassStr:".fade_in {animation: fadeInAnimation 0.4s ease-in; }",fadeOutClassStr:".fade_out {animation: fadeOutAnimation 0.4s ease-in 0s 1 normal forwards;}",videoSliderGreyClassStr:".grey_in {background-color: #f1f1f1;} .grey_out {background-color:unset}",incornerLeft:".incornerLeft {z-index: 999;position: fixed !important; top: initial !important;right: initial !important; left: 0 !important; bottom: 0 !important;}",incornerRight:".incornerRight {z-index: 999; position: fixed !important; top: initial !important;right: 0 !important;left: initial !important; bottom: 0 !important;}",incornerButtons:".incornerButtons {width: 20px!important;height: 20px!important; bottom:5%!important;} .incornerButtons .floatRight {width: 20px!important;height: 20px!important;}  .incornerButtons svg {width: 20px!important;height: 20px!important;} .incornerButtons .button svg {width: 100%!important; height: 100%!important;} .incornerButtons .floatRight .button svg {width: 100%!important; height: 100%!important;}",incornerHeading:".incornerHeading {display: none !important;}"};t.exports={MIN_DATASAVER_CHROME_V:72,ADMANAGER_ACC_IDS:["1025510","54807669"],PA_AD_TAG_DOMAIN:"//ads.projectagoraservices.com",MAX_INARTICLE_TIMEOUT:7e3,VIDEO_DIV_ID:"videoad",MIN_WIDTH:null!==i.mobileDeviceAny?200:400,MAX_DESKTOP_WIDTH:800,PASSBACK_FIXED_HEIGHT:250,ADTAG_FIXED_WIDTH:300,INLINE_STYLES:["padding-top:0px","border:none","position:relative","z-index:0","line-height:0"],INARTICLE_IFRAME_STYLES:[{prop:"frameborder",value:0},{prop:"scrolling",value:"no"},{prop:"position",value:"relative"},{prop:"float",value:"left"},{prop:"width",value:0},{prop:"height",value:0},{prop:"id",value:"iFrameMagicInArticle"}],ALIGN_CENTER:"margin:0 auto",IMG_THRESHOLD:3,IMG_THRESHOLD_VIDEO:2,PARGPH_THRESHOLD:null!==i.mobileDeviceAny?1:2,PATHNAME_STOP_WORDS:["pantelidis","pantelidi","padelidi","padelidi","dolofonia","fonos","nekros","nekrous","opla","narkotika","thanato","viastis","distihima","skotothike","friki","kokkino-limanaki","kaikan","pyrkagies","pyrosvestiki","pyrkagia","mati","pyrosvestes","gkremo","fotia","rafina","kineta"],INVALID_STOP_WORDS:["","","thanatos","death","accident","troxaio","troxeo","atixima","atyxhma","8anatos","paidaki","koritsaki","agoraki","agori","koritsi","nearos","neari","died","car accident","plane crush","drugs","drug","overdose","carcrush","crush","overdoze","thanatiforo","","8anatiforo","8anathforo","koritsi","drugcocktail","heroin","methadone","ketamine","","","adolescent","youngster",""," ","plane accident"],patches:r,maxSiteTimeOut:s,ancestorPatch:o,iframeList:l,fixSmallSizeVideo:a,platforms:u,placeholderUrl:"%%PA_PAGE_URL%%",risedVisibillitySiteList:c,paParameters:d,videoSliderAssets:p}},{"./mobileDetect":43}],46:[function(e,t,n){(function(n){(function(){function i(){return new s(function(e,t){function i(){n.ProjectAgora.ab?e(!0):Date.now()>r+200?e(!1):window.setTimeout(i,50)}var r=Date.now();i()})}var r=e("./mobileDetect"),o=e("./utilities"),a=e("iframe-resizer"),s=e("bluebird"),l=e("./applier"),c=null,u=null,d=null,p=null,f=!1,h=!1,m=!1,g=!1,v=!1,y=!1,b=!1,w=["AdTag","GAM","NativeDisplay"],_=["bottom_left","bottom_right","bottom_center","middle_left","middle_right"],x=null,A=function(){var e=null;switch(d.type){case"GAM":case"NativeDisplay":e=d.code}return e},k=function(){return x.filter(function(e){return e.hasOwnProperty("targeting")&&e.targeting.hasOwnProperty("adblock")&&!0===e.targeting.adblock})},T=function(){return x.filter(function(e){return e.hasOwnProperty("targeting")&&e.targeting.hasOwnProperty("adblock")&&!1===e.targeting.adblock||e.hasOwnProperty("targeting")&&!e.targeting.hasOwnProperty("adblock")||!e.hasOwnProperty("targeting")})},C=function(){var e=!1,t=["charlie-bets","bet-corner","live-bet-chat"],n=window.targettingValues.keywords||null;return n&&n.forEach(function(n){if(-1!==t.indexOf(n))return e=!0}),e},E=function(e){if(-1===location.hostname.indexOf("sport24.gr")||!C()){x=e;var t=null,r=k(),o=T();r.length>0?i().then(function(){t=n.ProjectAgora.ab?r:o,S(t)}):(t=o,S(t))}},S=function(e){var t=O(e);(d=F(t))&&M(P)},O=function(e){var t={},n=null;return e=I(e),n=l.getMaxPriorityRule(e),n&&n.product&&n.product.sticky?(stickyRule=n.product.sticky,t={type:stickyRule.hasOwnProperty("type")?stickyRule.type:null,enabled:stickyRule.hasOwnProperty("enabled")?stickyRule.enabled:null,code:stickyRule.hasOwnProperty("code")?stickyRule.code:null,position:stickyRule.hasOwnProperty("position")?stickyRule.position:null,elapse_time:stickyRule.hasOwnProperty("elapse_time")?stickyRule.elapse_time:null}):t={enabled:!1},t},I=function(e){return e.filter(function(e){return!0===e.product.sticky.enabled})},N=function(e){var t=d.stickyIframe.contentWindow,n=t.document,i=document.createElement("script");i.innerHTML=o.iframeResizerContentWindowCode,n.head.appendChild(i);var r=document.createElement("script");r.src="https://ads.projectagoraservices.com?id="+e,n.body.appendChild(r)},L=function(e,t){var n={},i=d.stickyIframe.contentWindow;try{n=JSON.parse(t.data),n.hasOwnProperty("id")&&n.id===e&&(i.removeEventListener("message",p),n.hasOwnProperty("adTagHB")&&!0===n.adTagHB?v=!0:n.hasOwnProperty("adTagPassback")&&!0===n.adTagPassback&&(y=!0),q())}catch(e){}},R=function(e){var t=d.stickyIframe.contentWindow;p=L.bind(this,e),t.addEventListener("message",p)},P=function(){d.stickyIframe=B(),d.stickyIframe.addEventListener("load",function(){switch(d.type){case"AdTag":var e=o.extractAdTagId(d.code);U(),R(e),N(e);break;case"GAM":Q(),W();break;case"NativeDisplay":V(),U(),W()&&(J(d.stickyIframe.contentDocument,o.iframeResizerContentWindowCode),X())}}),D()},F=function(e){return!0===e.enabled&&j(e)},B=function(){return o.createGenericIframe({id:"pa_sticky_ad_container",name:"pa_sticky_ad_container",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",style:""})},M=function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",function(t){e()},!1)},D=function(){try{return document.body.appendChild(d.stickyIframe),!0}catch(e){return!1}},j=function(e){if(!e)return!1;if(e.hasOwnProperty("type")&&-1===w.indexOf(e.type))return!1;if(!e.hasOwnProperty("code")||!e.code)return!1;if(r.mobileDeviceAny){if("bottom_center"!==e.position||null!==e.elapse_time)return!1}else if(-1===_.indexOf(e.position))return!1;return e},V=function(){var e=d.code;-1!==e.indexOf("300x250")?(d.stickyIframe.width=300,d.stickyIframe.height=250):-1!==e.indexOf("728x90")?(d.stickyIframe.width=728,d.stickyIframe.height=90):-1!==e.indexOf("300x600")&&(d.stickyIframe.width=300,d.stickyIframe.height=600)},z=function(){var e="",t="",n="";if(r.mobileDeviceAny)t="position:fixed;box-shadow: -2px 36px 23px #0000005e;",positionCSS="bottom:0;right:50%;left:50%;transform:translate(-50%,0%);z-index:9999999;}";else switch(t="position:fixed;box-shadow: -2px 10px 23px #0000005e;",d.position){case"bottom_center":positionCSS="right:50%;left:50%;transform:translate(-50%,0%);z-index:9999999;animation-name:margin;animation-duration:2s;animation-fill-mode:forwards;}",e="@keyframes margin {from{bottom:-100%} to{bottom:0%;};";break;case"bottom_right":positionCSS="position:fixed;bottom:0;z-index:9999999;animation-name:margin;animation-duration:2s;animation-fill-mode:forwards;}",e="@keyframes margin {from{right:-100%} to{right:0};";break;case"bottom_left":positionCSS="position:fixed;bottom:0;z-index:9999999;animation-name:margin;animation-duration:2s;animation-fill-mode:forwards;}",e="@keyframes margin {from{left:-100%} to{left:0};";break;case"middle_left":positionCSS="position:fixed;bottom:50%;transform:translate(0%,50%);z-index:9999999;animation-name:margin;animation-duration:2s;animation-fill-mode:forwards;}",e="@keyframes margin {from{left:-100%} to{left:0};";break;case"middle_right":positionCSS="position:fixed;bottom:50%;transform:translate(0%,50%);z-index:9999999;animation-name:margin;animation-duration:2s;animation-fill-mode:forwards;}",e="@keyframes margin {from{right:-100%} to{right:0};"}n=".stickyPACSS {"+t+positionCSS+"}",e&&o.addStylesheet(e),o.addStylesheet(n),d.stickyIframe.classList.add("stickyPACSS")},H=function(){var e=d.stickyIframe,t=e.contentWindow.document,n=t.createElement("span"),i="undefined"!=typeof InstallTrigger,o=i?"24px":"27px",a=i?"22px":"25px";n.innerHTML="&times;",n.setAttribute("id","closeBtn"),r.mobileDeviceAny?(n.setAttribute("style","display: inline-block;background: #ffffff;color: black;height: 25px!important;width: 30px!important;text-align: center;cursor: pointer;font-size:"+a+";font-weight: bold;border-color: #0000002e;border-width: 1px 1px 0px 1px;border-style: solid;box-shadow: 1px 0 10px 0 rgb(0 0 0 / 21%);border-radius: 0% 50% 0% 0% / 0% 50% 0% 0%;"),t.body.insertBefore(n,t.body.childNodes[0])):(n.setAttribute("style","display: inline-block;position:fixed;top:0;left:0;background:rgba(128,128,128,0.5);color:white;height:30px;width:30px;text-align:center;cursor:pointer;border-radius:20px;font-size:"+o+";font-weight:bold;margin:3px;"),t.body.appendChild(n)),n.addEventListener("click",$)},U=function(){var e="GAM"!==d.type?"taggedElement":"bodyOffset";a.iframeResizer({log:!1,checkOrigin:!1,heightCalculationMethod:e,sizeWidth:!0,warningTimeout:0},d.stickyIframe)},W=function(){try{var e=A(),t=d.stickyIframe.contentWindow,n=t.document;return n.open(),n.write(e),n.close(),!0}catch(e){return!1}},q=function(){d.stickyIframe.contentWindow.document.querySelector("[id^='postbid_if_']").setAttribute("data-iframe-height",""),v?(z(),setTimeout(function(){H()},5e3),r.mobileDeviceAny||Y(d.elapse_time)):y&&G()},G=function(){var e=d.stickyIframe,t=e.contentWindow.document.querySelector("[id^='postbid_if_']"),n=t.contentWindow.document,i={attributes:!0,childList:!0,subtree:!0},o=function(i,o){i.forEach(function(i){if("attributes"===i.type)"none"===t.style.display&&(b=!0,o.disconnect(),g&&$(),e.style.display="none");else if("childList"===i.type){var a=t.contentWindow.document.querySelector("[name='google_osd_static_frame']"),s=t.contentWindow.document.querySelector("#google_esf");m||b||!s||"none"!==s.style.display||null!==a?(!g&&!b&&m&&a&&s||!g&&!b&&!m&&a)&&(g=!0,e.style.display="block",z(),setTimeout(function(){H()},5e3),r.mobileDeviceAny||Y(d.elapse_time)):(m=!0,e.style.display="none"),n.querySelector('[id^="taboola-"]')&&(f||(f=!0,m&&(e.style.display="block"),o.disconnect(),X()))}})};c=new MutationObserver(o),c.observe(n,i)},X=function(){var e={attributes:!0,childList:!0,subtree:!0},t=d.stickyIframe,n=t.contentWindow.document,i=n.querySelector('[id^="taboola-"]')||n.querySelector("[id^='postbid_if_']").contentWindow.document.querySelector('[id^="taboola-"]');window.addEventListener("taboolaServe",function e(n){t&&!n.detail.serve?t.style.display="none":(K(),g||(t.style.display="block",z(),setTimeout(function(){H()},5e3)),r.mobileDeviceAny||Y(d.elapse_time)),window.removeEventListener("taboolaServeEvent",e,!1)},!1);taboolaServe={observeId:!1,trcContainer:!1,trcWrapper:!1,serve:function(){var e=!1;return this.trcWrapper||this.trcContainer||(e=!0),e}};var o=function(e,t){if(e.forEach(function(e){"attributes"===e.type&&(h||("observeid"===e.attributeName&&(h=!0,taboolaServe.observeId=!0),-1!==e.target.className.indexOf("trc_rbox_container")?"none"===i.querySelector(".trc_rbox_container").style.display&&(taboolaServe.trcContainer="none"):-1!==e.target.id.indexOf("trc_wrapper_")&&"none"===i.querySelector("[id^='trc_wrapper_']").style.display&&(taboolaServe.trcWrapper="none")),taboolaServe.trcContainer&&taboolaServe.trcWrapper&&(h=!0))}),taboolaServe.observeId||taboolaServe.trcContainer&&taboolaServe.trcWrapper){i.setAttribute("data-iframe-height",""),h=!0,t.disconnect();var n=new CustomEvent("taboolaServe",{detail:{serve:taboolaServe.serve()}});window.dispatchEvent(n)}};new MutationObserver(o).observe(i,e)},Q=function(){var e=d.stickyIframe,t=e.contentWindow;t.googletag=t.googletag||{cmd:[]},t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRenderEnded",function(t){if(!0===t.isEmpty)e&&(e.style.display="none");else{var n=t.size[0],i=t.size[1];z(),o.setIframeDim(e,n,i),setTimeout(function(){H(),r.mobileDeviceAny&&o.setIframeDim(e,n,i+26)},5e3),r.mobileDeviceAny||Y(d.elapse_time)}})})},$=function(){d.stickyIframe.style.display="none",u&&clearTimeout(u),c&&c.disconnect()},Y=function(e){e||(e=25e3),u=setTimeout(function(){$()},e)},J=function(e,t){var n=e.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.innerHTML=t;try{n.appendChild(i)}catch(e){}},K=function(){var e=d.stickyIframe,t=e.contentWindow.document,n=t.querySelector("[id^='postbid_if_']");(n||(t.querySelector('[id^="taboola-"]')?t.querySelector('[id^="taboola-"]'):e)).style.backgroundColor="white"};t.exports={run:E}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./applier":34,"./mobileDetect":43,"./utilities":49,bluebird:1,"iframe-resizer":3}],47:[function(e,t,n){"use strict";function i(){this._subscribers={}}i.prototype.subscribe=function(e,t,n){this.isHandlerAttached(e,t)||this.get(t).push({handler:e,context:n,eventName:t})},i.prototype.unsubscribe=function(e,t){this._subscribers[t]=this.get(t).filter(function(t){return e!==t.handler})},i.prototype.unsubscribeAll=function(){this._subscribers={}},i.prototype.trigger=function(e,t){var n=this;this.get(e).concat(this.get("*")).forEach(function(e){setTimeout(function(){n.isHandlerAttached(e.handler,e.eventName)&&e.handler.call(e.context,t)},0)})},i.prototype.triggerSync=function(e,t){this.get(e).concat(this.get("*")).forEach(function(e){e.handler.call(e.context,t)})},i.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},i.prototype.isHandlerAttached=function(e,t){return this.get(t).some(function(t){return e===t.handler})},t.exports=i},{}],48:[function(e,t,n){function r(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function o(){return"connection"in navigator&&!0===navigator.connection.saveData}function a(){return"http:"===window.location.protocol}var s=function(){var e=window.location.pathname;return"/"===e||"/default.aspx"===e||"/meteoplus/index.cfm"===e||"www.travelstories.gr"===location.hostname&&"/community/"===e||"www.eurohoops.net"===location.hostname&&-1!==["/el/","/en/","/es/","/de/","/ru/","/tr/"].indexOf(e)},l=function(){return check=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)),check?"mobile":"desktop"},c=function(){var e=["www.cnn.gr","www.newsbomb.gr","www.gossip-tv.gr","www.queen.gr","www.mothersblog.gr","www.astrology.gr","www.ratpack.gr","www.onmed.gr","www.culturenow.gr","www.onsports.gr","www.leoforos.gr"],t=document.location.hostname;return t&&e.indexOf(t)>-1},u=function(){return"www.arpaktiko.gr"===document.location.hostname},d=function(e,t){var n=e[t],i="pathname"===t?decodeURI(document.location.pathname):decodeURI(document.location.href),r=!(!n.equals||0===n.equals.length)||void 0,o=!(!n.notEquals||0===n.notEquals.length)||void 0,a=!(!n.contains||0===n.contains.length)||void 0,s=!(!n.notContains||0===n.notContains.length)||void 0,l=[];n.equals&&(r=-1!==n.equals.indexOf(i),l.push(r)),n.notEquals&&(o=-1===n.notEquals.indexOf(i),l.push(o)),n.contains&&(a=!!p(n.contains,i),l.push(a)),n.notContains&&(s=!p(n.notContains,i),l.push(s));var c=!0;return l.forEach(function(e){c=c&&e},this),c},p=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(-1!==t.indexOf(i))return!0}return!1},f=function(e){if(e&&e>=0&&e<=100)return!0},h=function(e){return x=Math.floor(101*Math.random()),x<=e},m=function(e){max_priority=-1;var t=null,n=e.length,r=null;for(i=0;i<n;i++)max_priority<e[i].priority&&(max_priority=e[i].priority,t=i),0==e[i].priority&&f(e[i].testing_probabillity)&&(r=i);return null!=r&&(t=h(e[r].testing_probabillity)?r:t),-1===max_priority?null:t},g=function(){return hasCStags},v=function(){return"www.sport-fm.gr"===document.location.hostname},y=function(e){return document.location.href===e},b=function(e){return document.location.href===e},w=function(){return"www.capital.gr"===document.location.hostname},_=function(){return"www.rocking.gr"===document.location.hostname},A=function(){return"www.pagenews.gr"===document.location.hostname||"dev.pagenews.gr"===document.location.hostname},k=function(){var e=["www.meteo.gr","meteo.gr","sorokos.meteo.gr","taygetus.meteo.gr"],t=document.location.hostname;return-1!==e.indexOf(t)},T=function(){if("www.gazzetta.gr"===document.location.hostname){var e=document.location.pathname;if(e){var t=e.split("/");if(t.length>=2&&"volleyball"!==t[1])return!0}return!1}return!0},C=function(){return"www.yupiii.gr"===document.location.hostname},E=function(){return document.location.hostname.indexOf("mubasherpulse")>-1},S=function(){return"www.eurohoops.net"===document.location.hostname},O=function(){return document.location.hostname.indexOf("projectagora.com")>-1},I=function(){var e=document.location.hostname;return e.indexOf("portfolio.hu")>-1||e.indexOf("infostart.hu")>-1||e.indexOf("agrarszektor.hu")>-1||e.indexOf("penzcentrum.hu")>-1},N=function(){var e="Unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(e="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(e="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(e="Linux"),e},L=function(e){if(!e.targeting)return!0;var t=e.targeting;if(t.device_targeting){var n=t.device_targeting;if(l()!==n)return!1}if(t.url_targeting){var i=t.url_targeting;if(i.pathname&&i.url?validURL=d(i,"pathname")&&d(i,"url"):i.pathname&&!i.url?validURL=d(i,"pathname"):!i.pathname&&i.url?validURL=d(i,"url"):validURL=!0,!validURL)return!1}if(t.breakpoints){var r=t.breakpoints,o=R(r);if(!o)return!1}return!0},R=function(e){var t=window.innerWidth,n=e.hasOwnProperty("minWidth")&&e.hasOwnProperty("maxWidth")&&t>=e.minWidth&&t<=e.maxWidth,i=e.hasOwnProperty("minWidth")&&!e.hasOwnProperty("maxWidth")&&t>=e.minWidth,r=!e.hasOwnProperty("minWidth")&&e.hasOwnProperty("maxWidth")&&t<=e.maxWidth;return n||i||r},P=function(){return"undefined"!=typeof TWAGORAINARTICLE&&"function"==typeof TWAGORAINARTICLE.getConfig?TWAGORAINARTICLE.getConfig():null},F=function(e){return"undefined"!=typeof TWAGORAINARTICLE&&"function"==typeof TWAGORAINARTICLE.getPartnersSCO?TWAGORAINARTICLE.getPartnersSCO():e&&e.currentScript?D(e.currentScript):null},B=function(e){return"?"+e.src.replace(/^[^\?]+\??/,"")},M=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);if(!i)return null;if(!i[2])return"";try{return decodeURIComponent(i[2].replace(/\+/g," "))}catch(e){return null}},D=function(e){var t=null,n=e,i=B(n);return i&&(t=M("schain",i)),t},j=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1};t.exports={isHomePage:s,isMobileDevice:l,hasCSTag:g,isSportFm:v,isSportFmWithUrl:y,isMeteo:k,isRocking:_,isDPG:c,isRockingWithUrl:b,isPagenews:A,isEurohoops:S,isProjectAgora:O,getOS:N,isEmpty:r,isYupiii:C,isMubasherpulse:E,isArpaktiko:u,isCapital:w,canPlayCSTags:T,getSiteConfig:P,isRuleValid:L,pickValidRuleIndex:m,isFacebookApp:j,hasDataSaverEnabled:o,protocolIsHttp:a,isPortfolioGroup:I,getSitesPartnersSCO:F}},{}],49:[function(t,n,i){function r(e){for(var t,n=U.platforms.length,i=0;i<n;i++){t=U.platforms[i].urls.length;for(var r=0;r<t;r++)if(-1!=e.indexOf(U.platforms[i].urls[r]))return U.platforms[i]}return null}function o(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function a(e,t,n){var i=document.createElement(t);return n&&(i.id=n),e.appendChild(i),i}function s(e,t,n){var i=document.createElement("iframe");return i.src=t||"about:blank",i.marginWidth="0",i.marginHeight="0",i.frameBorder="0",i.width="100%",i.height="0",i.id="agora_frame",l(i),n&&(i.style.zIndex=n),i.setAttribute("SCROLLING","NO"),e.innerHTML="",e.appendChild(i),i}function l(e){e&&(e.style.position="relative",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%")}function c(e,t){var n=e.contentWindow&&e.contentWindow.document;return!!n&&(n.open(),n.write(t),n.close(),!0)}function a(e,t,n){var i=document.createElement(t);return n&&(i.id=n),e.appendChild(i),i}function u(e){var t=window.getComputedStyle(e),n=t.display,i=t.position,r=t.visibility,o=t.maxHeight.replace("px","").replace("%",""),a=0;return"none"!==n&&"0"!==o?e.offsetTop:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetTop,e.style.display=n,e.style.position=i,e.style.visibility=r,a)}function d(e){var t=null,n=[];return location.search.substr(1).split("&").forEach(function(i){n=i.split("="),n[0]===e&&(t=decodeURIComponent(n[1]))}),t}function p(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t)
;if(!i)return null;if(!i[2])return"";try{return decodeURIComponent(i[2].replace(/\+/g," "))}catch(e){return null}}function f(e,t){return e&&(t(e)?e:f(e.parentNode,t))}function h(e){var t=e;return t.parentNode.removeChild(t),!1}function m(e,t,n,i,r,o,a,s){a=void 0===a?function(){}:a;var l,s=s||0;clearInterval($);var c=parseInt(n.clientHeight),u=(new Date).getTime(),d=e-parseInt(n.clientHeight);$=setInterval(function(){var p=(new Date).getTime()-u;if(p<t){var f=Math.floor(d*p/t);l=c+f+s,n.style.height=l+"px",i.style.height=l+"px"}else n.style.height=e+s+"px",i.style.height=e+s+"px",i&&"none"===i.style.display&&Ae(i)&&(i.style.display="block"),Ae(i)&&r&&o&&(r.style.display="block",o.style.display="block"),clearInterval($),a()},1)}function g(e){if(e){var t=e.split(".");return{major:t[0]||0,minor:t[1]||0,patch:t[2]||0}}}function v(e,t,n,i){var r=H.mobileDeviceAny||H.tabletAny,o=i.createElement("div");if(e.appendChild(o),o.setAttribute("class","social-button no-select"),"volume-off"===t){var a=i.createElement("span");a.setAttribute("id","mute"),o.appendChild(a),o=a}var s=i.createElement("span");"resize-full"!==t&&s.setAttribute("class","left-social"),s.setAttribute("id",t),o.appendChild(s);var l=i.createElement("span");if(l.setAttribute("class","tip"),l.setAttribute("id",t+"_tip"),"volume-off"===t){var c=i.createElement("div");c.setAttribute("id","r1"),c.setAttribute("class","ring");var u=i.createElement("div");u.setAttribute("id","r2"),u.setAttribute("class","ring");var d=i.createElement("div");d.setAttribute("id","r3"),d.setAttribute("class","ring"),r||(c.setAttribute("style","width:2vw;top:4%;left:40%;"),u.setAttribute("style","width:2vw;top:4%;left:40%;"),d.setAttribute("style","width:2vw;top:4%;left:40%;"))}var p=i.createElement("i");if(p.setAttribute("class","PAicon-"+t+" PA_icon"),p.setAttribute("id",t+"Btn"),p.innerHTML=n,"volume-off"===t){var f=i.createElement("div");f.setAttribute("id","crossout"),f.setAttribute("class","PA_line"),r||f.setAttribute("style","top: -3.2vh;"),s.appendChild(f)}s.appendChild(l),s.appendChild(p),"volume-off"===t&&(s.appendChild(c),s.appendChild(u),s.appendChild(d))}function y(e){for(var t=0;t<e.length;t++){e[t].style.borderRightColor="#D2D2D2"}}function b(e){for(var t=0;t<e.length;t++){e[t].style.borderRightColor="#F15A29"}}function w(e,t){if(e.apple.device){var n=e.apple,i=g(n._IOSVersion);i&&i.major>=10&&(n.Safari||n.isChrome&&n.CriOSVersion>=54||n.isFirefox)?(t.setAttribute("playsinline","playsinline"),t.setAttribute("autoplay","")):(t.setAttribute("webkit-playsinline","webkit-playsinline"),t.setAttribute("autoplay",""))}t.setAttribute("muted","muted")}function _(e,t){e.exitFullscreen?e.exitFullscreen():e.cancelFullScreen?e.cancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():doc.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen(),t()}function x(e,t){preFullScreenMuted=e.muted,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullScreen?e.webkitEnterFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),t&&t()}function A(e){var t='meta[name="'+e+'"]',n=document.querySelector(t);if(n){return n.getAttribute("content")}return null}function k(e){var t=!0;if(e){var n=A(e);switch(e){case"keywords":t=!n||-1===n.toLowerCase().indexOf("nopaads");break;case"paads":t=!n||"no"!==n}}return t}function T(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(n=!!e&&parseInt(e[2],10))return n;if(navigator.userAgent.match("CriOS")){var t=parseInt((/CriOS\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]),n=t||!1;return n}return!1}function C(e){try{if(e.parent!=e)return z=e,C(e.parent)}catch(e){return null}return z}function E(e,t){return 0===e.lastIndexOf(t,0)}function S(){return document.getElementById(U.VIDEO_DIV_ID)}function O(e){return"Owned & Operated"===e?1:"Operated Only"===e?0:void 0}function I(e){var t={},n=e.split("!");if(n.length<=1)return!1;var i=n[0].split(",");if(""===i[0]||!N(i[0]))return!1;if(t.version=i[0],-1===["1","0"].indexOf(i[1]))return!1;t.complete=i[1],t.partners=[];for(var r=n.length,o=1;o<r;o++){var a=n[o].split(","),s=R(a);if(!1===s)return!1;t.partners.push(s)}return t}function N(e){return/^-?[\d]*(\.[\d]+)$/g.test(e)}function L(e){return/^\d+$/.test(e)}function R(e){if(e.length<3)return!1;var t={asi:null,sid:null,hp:null,rid:null,name:null,domain:null,ext:null};return!!new RegExp("^((?!://)([a-zA-Z0-9-_]+.)*[a-zA-Z0-9][a-zA-Z0-9-_]+.[a-zA-Z]{2,11}?)$").test(e[0])&&(t.asi=e[0],!!L(e[1])&&(t.sid=e[1],"1"===e[2]&&(t.hp=e[2],""!==e[3]&&(t.rid=e[3]),""!==e[4]&&(t.name=e[4]),""!==e[5]&&(t.domain=e[5]),""!==e[6]&&(t.ext=e[6]),t)))}function P(e,t){e?e.hasOwnProperty("paSellerId")||(e.paSellerId=1e5):e=t?{paSellerId:1e5,paOwns:"Operated Only"}:{paSellerId:1e5,paOwns:"Owned & Operated"};var n=O(e.paOwns),i="1.0,"+n,r="!projectagora.com,"+e.paSellerId+",1",o=i+r;if(!n&&Boolean(t)){var a=I(t);o=Boolean(a)?t+r:"1.0,0!projectagora.com,"+e.paSellerId+",1"}return o}function F(e){switch(e.name){case"rubicon":return"rp_schain";default:return"schain"}}function B(e,t,n,i){return new W(function(o,a){try{if(e=Qe(e),e=e.replace(U.placeholderUrl,encodeURI(location.href)),K(U.paParameters,e))for(var s=S().getBoundingClientRect().width,l=Xe(s),c=0;c<U.paParameters.length;c++)e=e.replace(U.paParameters[c],l[c]);var u=r(e);if(u){u.default_schain&&(e=$e(e,u.default_schain));var d=F(u),p=p=-1===e.indexOf("?")?"?":"&";e=e+p+d+"="+i}if(u&&u.gdpr){var f=M(u),h=f.gdpr,m=f.gdprCons;q.getConsentData().then(function(i){i.gdpr&&void 0!==i.gdpr.applies&&(u.replace&&-1!=e.indexOf(h)?(e=e.replace(h,h+Number(i.gdpr.applies)),i.gdpr.consent&&-1!=e.indexOf(m)&&(e=e.replace(m,m+i.gdpr.consent))):u.add&&-1==e.indexOf(h)&&(e+="&"+h+Number(i.gdpr.applies),i.gdpr.consent&&-1==e.indexOf(m)&&(e+="&"+m+i.gdpr.consent))),n[t]=e,o("The final url is : "+e+" "+u.name)}).catch(function(t){return a("Problem with GDPR promise on url: "+e)})}else n[t]=e,o("The final url is : "+e)}catch(t){return a("Failed url: "+e+" error message: "+t)}})}function M(e){switch(e.name){case"freewheel":return{gdpr:"_fw_gdpr=",gdprCons:"_fw_gdpr_consent="};default:return{gdpr:"gdpr=",gdprCons:"gdpr_consent="}}}function D(e){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.appendChild(n)}function j(e,t,n){n&&e.classList.remove(n),t&&e.classList.add(t)}function V(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&!(e.indexOf("chrome")>-1)}var z,H=t("./mobileDetect"),U=t("./resources"),W=t("bluebird"),q=t("./gdpr"),G=-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode,X=!1,Q=!1,$=null,Y={adx:"adx",pahb:"pahb",adaptive:"adaptive"},J=function(e){return"function"==typeof e},K=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(-1!==t.indexOf(i))return!0}return!1},Z=function(e,t){for(var n=0;n<t.length;n++){var i=new RegExp("\\b"+t[n]+"\\b");if(e.match(i))return!0}return!1},ee=function(e){var t=RegExp(e+"[^;]+").exec(document.cookie);return unescape(t?t.toString().replace(/^[^=]+./,""):"")},te=function(){return!(null===H.apple.device||"iPhone"!==H.apple.device[0]&&!H.apple.tablet)},ne=function(){return!!navigator.userAgent.match(/SAMSUNG|Samsung|SGH-[I|N|T]|GT-[I|N]|SM-[A|N|P|T|Z|G|J]|SHV-E|SCH-[I|J|R|S]|SPH-L/i)},ie=function(){if(ee("DEBUG_PA_COOKIE"))return!0},re=function(){return ie()},oe=function(t){var n=null;return t&&("string"==typeof t?(t=t.trim().replace(/,/g," "),n=t):Array.isArray(t)&&(t.forEach(function(t){e=t.trim(),n+=e+" "}),n.trim())),n},ae=function(e){return noBreaksText=e.replace(/(\r\n|\n|\r)/gm,"<1br />"),re1=/<1br \/><1br \/>/gi,re1a=/<1br \/><1br \/><1br \/>/gi,noBreaksText=noBreaksText.replace(re1," "),re2=/\<1br \/>/gi,noBreaksText=noBreaksText.replace(re2," "),re3=/\s+/g,noBreaksText=noBreaksText.replace(re3," "),re4=/<2br \/>/gi,noBreaksText=noBreaksText.replace(re4,"\n\n"),noBreaksText},se=function(e){var t={ClickThrough:{open:"<ClickThrough>",close:"</ClickThrough>",exists:!1},ClickTracking:{open:"<ClickTracking>",close:"</ClickTracking>",exists:!1},CustomClick:{open:"<CustomClick>",close:"</CustomClick>",exists:!1}};for(var n in t)t[n].exists=-1!==e.indexOf(t[n].open);return t},le=function(e,t){var n,i,r,o,a;return n=t.indexOf(e.open),i=t.indexOf(e.close),r=n+e.open.length,o=i,a=t.slice(r,o),a.replace("<![CDATA[","").replace("]]>","")},ce=function(e){var t,n,i,r,o={},a=/<MediaFiles>([^]+)<\/MediaFiles>/g;if(a.test(e)){var s=e.match(a),l=/http([^"]+).(mp4)/g,c=l.test(s);if(c)var u=s[0].match(l)}var d=/<VideoClicks>([^"]+)<\/VideoClicks>/g;if(d.test(e)){t=e.match(d),n=ae(t[0]).replace(/\s/g,""),r=se(n);for(var p in r)r[p].exists&&(o[p]=le(r[p],n))}return i=e?/MediaMind/.test(e)?"Sizmek":/DCM/.test(e)?"DCM":/<AdSystem>gDE<\/AdSystem>|adocean|gemius/.test(e)?"Gemius":/talos\.adman|ADMAN/.test(e)?"Adman":/stickyadstv|STICKY ?ADS/.test(e)?"StickyAds":/<AdSystem>DBM<\/AdSystem>/.test(e)?"DBM":"Unknown":null,{ThrirdPartyClickThrough:o.ClickThrough,ThrirdPartyClickTracking:o.ClickTracking,ThrirdPartyCustomClick:o.CustomClick,ThrirdPartyMP4:u,ThrdPartyProvider:i}},ue=function(e,t){var n=e.XMLHttpRequest.prototype.open;e.XMLHttpRequest.prototype.open=function(e,i){this.addEventListener("load",function(){t(this.responseText,i)}),n.apply(this,arguments)}},de=function(e,t){if(t=t||"jpeg",!e||"png"!==t&&"jpeg"!==t)return!1;var n=document.createElement("CANVAS");n.width=e.videoWidth||e.clientWidth,n.height=e.videoHeight||e.clientHeight,n.getContext("2d").drawImage(e,0,0);for(var i=n.toDataURL(),r=i.split(",")[1],o=i.split(";")[0].slice(5),a=window.atob(r),s=new ArrayBuffer(a.length),l=new Uint8Array(s),c=0;c<a.length;c++)l[c]=a.charCodeAt(c);return{blob:new Blob([l],{type:o}),dataUri:i,format:t}},pe=function(e){var t=document.createElement("div");t.innerHTML="A<div>"+e+"</div>",t=t.lastChild;for(var n=[];t.firstChild;)n.push(t.removeChild(t.firstChild));return n},fe=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},he=function(e,t,n){switch(n){case"after":fe(t,e);break;case"before":e.parentElement.insertBefore(t,e);break;case"inside-first":e.insertBefore(t,e.childNodes[0]);break;case"inside-after":e.appendChild(t);break;default:e.insertBefore(t,null)}},me=function(e,t,n,i){return function(){try{if(0<n.length){var r=n.shift(),o=me(e,t,n,i);if("SCRIPT"==String(r.nodeName).toUpperCase()){var a=document.createElement("script");a.async=r.async||!1,a.type="text/javascript",r.id&&(a.id=r.id),r.className&&(a.className=r.className),a.text=r.text||r.textContent||r.innerHTML||"",r.charset&&(a.charset=r.charset);var s=r.getAttribute("src");s&&(a.src=s,ge(a,o)),he(e,a,t),s||o()}else he(e,r,t),o()}else i()}catch(e){}}},ge=function(e,t){e.onload=e.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(done=!0,t(),e.onload=e.onreadystatechange=null)}},ve=function(e,t,n){if(!document.getElementById(t)){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");t&&(r.id=t),r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!=js.readyState&&"complete"!=js.readyState||(js.onreadystatechange=null,n())}:r.onload=function(){n()},r.src=e,i.appendChild(r)}},ye=function(e){for(var t=[],n=e&&e.parentElement;n;n=n.parentElement)t.push(n);return t},be=function(e,t){if(!e)return!1;if(0===e.length)return!1;for(var n=!1,i=e.length,r=0;r<i;r++)if(e[r].id&&e[r].id===t){n=!0;break}return n},we=function(e,t,n,i,r,o){var a,s=e.getElementsByTagName(n)[0];e.getElementById(i)||(a=e.createElement(n),a.id=i,a.async=!0,a.type="text/javascript",o&&(a.className=oe(o)),a.src=t,a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,r())}:a.onload=function(){r()},s.parentNode.insertBefore(a,s))},_e=function(e,t){var n=document.createElement("script");n.src=e;var i=document.getElementsByTagName("head")[0],r=!1;n.onload=n.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,t(),n.onload=n.onreadystatechange=null,i.removeChild(n))},i.appendChild(n)};String.prototype.isEmpty=function(){return 0===this.length||!this.trim()};var xe=function(e,t){return"function"==typeof Element.closest?e.closest(t):("function"!=typeof window.Element.prototype.matches&&(window.Element.prototype.matches=window.Element.prototype.msMatchesSelector||window.Element.prototype.mozMatchesSelector||window.Element.prototype.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),i=0;n[i]&&n[i]!==t;)++i;return Boolean(n[i])}),"function"!=typeof window.Element.prototype.closest&&(window.Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),e.closest(t))},Ae=function(e){var t=document.getElementById("videoContainer");return null===t&&(doc=e.contentDocument,null===(t=doc?doc.getElementById("videoContainer"):null)&&(t=document.getElementById("videoad"))),"0px"!==t.style.height&&""!==t.style.height},ke=function(e,t){return"string"==typeof t?void 0!==e[t]:void 0!==e.Attrib},Te=function(e){if(!e)return[];for(var t=e.childNodes,n=[],i=0,r=t.length;i<r;i++)t[i].nodeType==Node.COMMENT_NODE&&n.push(t[i]);return n},Ce=function(e,t){var n="IFRAME"===e.nodeName?e.contentWindow.document.head:e.getElementsByTagName("head")[0],i=document.createElement("style");i.setAttribute("type","text/css"),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),n.appendChild(i)},Ee=function(e){window._taboola=window._taboola||[],_taboola.push({article:"auto"}),function(e,t,n,i){document.getElementById(i)||(e.async=1,e.src=n,e.id=i,t.parentNode.insertBefore(e,t))}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/"+e.name+"/loader.js","tb_loader_script"),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic")},Se=function(e){return e?e.indexOf("ibb_data.passbackIds.impressionUnsold()")>-1?Y.adaptive:e.indexOf("googletag.cmd.push")>-1?Y.adx:e.indexOf("projectagora.net/hb/")>-1?Y.pahb:void 0:null},Oe=function(e){var t=Se(e);return!(!t||t!==Y.adx&&t!==Y.pahb&&t!==Y.adaptive)},Ie=function(){return!!(window.top&&window.top.ProjectAgora&&window.top.ProjectAgora.isPsbk)||!!(window.top&&window.top.ProjectAgoraVideo&&window.top.ProjectAgoraVideo.isPsbk)},Ne=function(e){var t=/googletag.display\(\'(.*)\'\)/m;return found=e.match(t),found?found[1]:null},Le=function(e){var t=/[ads.projectagoraservices.com|paadserver.projectagora.info]\/\?id=(\d+)/m;return found=e.match(t),found?found[1]:null},Re=function(e,t,n){var i='<!DOCTYPE html> <html><head><meta charset="UTF-8"><style>#adheading{margin:0 auto;font-size:14px!important;height:auto;display:block;text-transform:unset!important;background-color:transparent;vertical-align:bottom;font-family:Montserrat!important;font-weight:400;text-align:center;color:#747474!important;margin-top:2px!important;margin-bottom:7px!important}#paheading:hover{color:#d84820!important;padding:unset!important;font-weight:700!important;overflow:unset!important;-webkit-font-smoothing:antialiased;line-height:unset!important;font-size:14px!important;cursor:pointer}</style></head><body style="margin:0;padding:0"><h4 id="adheading">'+e+"</h4></body></html>";if(!G){var r=document.createElement("iframe");r.id="AgoraHead",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.style.height="25px",r.width="100%",r.onload=function(){c(this,i)};var o=t.firstElementChild;Je(n)&&(o=o.firstElementChild),he(o,r,"before")}},Pe=function(e,t,n,i,r){var o;try{o=JSON.parse(r.data),e&&o&&o.id&&o.id===e&&(window.removeEventListener("message",Pe),Je(i)&&qe(U.PASSBACK_FIXED_HEIGHT,U.ADTAG_FIXED_WIDTH,i,"adTag"),t&&Re(t,n,i))}catch(e){}},Fe=function(e,t,n,i){var r=t,o=pe(e),a=Le(e);if(window.addEventListener("message",Pe.bind(this,a,n,t,i)),Je(i)){var s=document.createElement("div");s.id="pa_inArticleAdTagWrapper",he(document.getElementById("viewability-expansion-display"),s,"inside-first"),r=s}me(r,"inside-first",o,function(){})()},Be=function(e,t,n,i,r,o){var a=i.contentWindow;a.googletag=a.googletag||{cmd:[]},a.googletag.cmd.push(function(){a.googletag.pubads().addEventListener("slotRenderEnded",function(a){var s=a.slot.getSlotElementId(),l=a.slot.getAdUnitPath().split("/")[1];s==t&&-1!=U.ADMANAGER_ACC_IDS.indexOf(l)&&(!0===a.isEmpty?(document.getElementById("pa_googleAdManager")&&(document.getElementById("pa_googleAdManager").style.display="none"),e&&!Q&&(Q=!0,Fe(e,n,r,o))):(Je(o)&&qe(U.PASSBACK_FIXED_HEIGHT,a.size[0],o,"adManager"),He(i,a.size[0],a.size[1]),r&&!Q&&(Q=!0,Re(r,n))))})})},Me=function(e,t,n,i,r,o){var a=null,s=e?Ne(e):null,l=n,c=document.getElementById("pa_videoslider"),u=c||n;if(!G&&e&&!X){var d=De();he(u,d,"after"),Je(o)&&(l=document.createElement("div"),l.id="viewability-expansion-display",he(d,l,"inside-first")),X=!0,s?(a=je(),Je(o)?he(l,a,"inside-first"):he(d,a,"inside-first"),Be(t,s,d,a,r,o),ze(e,a,function(){},function(){})):Fe(e,d,r,o)}},De=function(){var e=(new Date).getTime(),t=document.createElement("div");return t.id="pa_1x1_psbk_"+e,t.setAttribute("style","position:relative;text-align:center!important;"),t},je=function(){var e=document.createElement("iframe");return e.setAttribute("id","pa_googleAdManager"),e.setAttribute("frameborder",0),e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("scrolling","no"),e},Ve=function(){var e=document.createElement("iframe"),t=arguments[0];return"object"!=typeof t||o(t)?null:(Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])}),e)},ze=function(e,t,n,i){try{c(t,e)||i(),n()}catch(e){i()}},He=function(e,t,n){e.style.height=n+"px",e.style.width=t+"px",e.contentWindow.document.body.style.margin=0},Ue=function(){return site_name=window.location.hostname,U.fixSmallSizeVideo.indexOf(site_name)>-1},We=function(){videoad=document.getElementById("videoad"),ye(videoad).forEach(function(e){var t=getComputedStyle(e).overflow;-1==t.indexOf("auto")&&-1==t.indexOf("hidden")&&-1==t.indexOf("scroll")||(e.style="overflow: visible!important")})},qe=function(e,t,n,i){var r,o,a,s,l,c,u,d=0;switch(i){case"adTag":r=document.getElementById("viewability-expansion-display"),r.style.position="relative",r.style.textAlign="center",o=document.getElementById("pa_inArticleAdTagWrapper"),a=o.style.cssText,s=n.display.enabled,l=n.display.opts.hasOwnProperty("querySelectors")?n.display.opts.querySelectors:null,c=n.display.opts.hasOwnProperty("height")?n.display.opts.height:null;break;case"adManager":r=document.getElementById("viewability-expansion-display"),o=document.getElementById("pa_googleAdManager"),a=o.style.cssText,s=n.display.enabled,l=n.display.opts.hasOwnProperty("querySelectors")?n.display.opts.querySelectors:null,c=n.display.opts.hasOwnProperty("height")?n.display.opts.height:null;break;case"videoad":r=document.getElementById("viewability-expansion"),o=document.getElementById("frmPAVast"),a=o.style.cssText,s=n.video.enabled,l=n.video.opts.hasOwnProperty("querySelectors")?n.video.opts.querySelectors:null,c=n.video.opts.hasOwnProperty("height")?n.video.opts.height:null}r.style="height:"+2*e+"px;width:"+t+"px;background-color: #f6f6f6;margin:0 auto;",s&&!0===s&&(l&&(u=Ge(l)),Array.isArray(u)&&u.length>0?u.forEach(function(e){d=document.querySelector(e)?d+document.querySelector(e).offsetHeight:d}):d=c&&"number"==typeof c?c||0:0),o.style=a+"position:sticky!important;position:-webkit-sticky;top:"+d+"px!important;",We()},Ge=function(e){var t=[];return e.forEach(function(e){try{document.querySelector(e)&&t.push(e)}catch(e){}}),t},Xe=function(e){var t,n,i;return e>0?(t=Math.round(e),n=Math.round(9*e/16),i=Math.floor(9999999999*Math.random()+1)):(t="",n="",i=""),[t,n,i]},Qe=function(e){var t;if(e=e.replace(/\s+/g,""),E(e,"http://"))t=e.slice(7);else if(E(e,"https://"))t=e.slice(8);else if(E(e,"//"))t=e.slice(2);else{var n=Ke()?"&dongle=blue&test=1":"";t="secure",t+=".adnxs.com/ptv?id="+e+n}return t="https://"+t},$e=function(e,t){return-1!==e.indexOf(t)?e.replace(t,""):e},Ye=function(e){var t=Math.floor(101*Math.random()),n=!0;return t>e&&(n=!1),n},Je=function(e){return!(!e||!e.display.enabled)},Te=function(e){if(!e)return[];for(var t=e.childNodes,n=[],i=0,r=t.length;i<r;i++)t[i].nodeType==Node.COMMENT_NODE&&n.push(t[i]);return n},Ke=function(){try{var e=window.top.location.hostname;return-1!==e.indexOf("projectagora.com")||-1!==e.indexOf("pamagicassets.s3.eu-central-1.amazonaws.com")||-1!==e.indexOf("localhost")}catch(e){return!1}};n.exports={getScript:_e,isFunction:J,isDebug:re,TaboolaRun:Ee,createElementInEl:a,createIframe:s,setFullSizeStyle:l,setIframeContent:c,findGetParameter:d,closest:f,transition:m,createBtns:v,isExpanded:Ae,getChromeVersion:T,captureVideoFrame:de,mobileDevice_init:w,hasAttr:ke,exitFullscreen:_,requestFullScreen:x,playBars:b,parseResp:ce,getVersion:g,ajaxListener:ue,isEmpty:o,pauseBars:y,loadScript:we,removeAdSlot:h,magicEnabledByMetaTag:k,parseElementTags:pe,write_script:me,addCSSSTyle:Ce,positionElement:he,writePsbkAsync:Oe,has319x49Passback:Ie,loadScriptUrlInHead:ve,getOffsetTop:u,getParents:ye,elementHasId:be,getElementClosestSelectors:xe,getTopIframe:C,detectSamsungDevice:ne,detectIphoneDevice:te,addAdHTPassback:Me,hasSmallVideoSize:Ue,placeCSStoVideoViewabilityEls:qe,containsAny:K,paMacros:Xe,containsWholeWord:Z,getVideoPlacementPromise:B,getVideoadSlot:S,getSchainInfo:P,addStylesheet:D,addRemoveCssClass:j,isProbabilityInRange:Ye,getCommentsInElement:Te,createGenericIframe:Ve,
iframeResizerContentWindowCode:'!function(d){if("undefined"!=typeof window){var n=!0,o=10,i="",r=0,a="",t=null,u="",c=!1,s={resize:1,click:1},l=128,f=!0,m=1,h="bodyOffset",g=h,p=!0,v="",y={},b=32,w=null,T=!1,E="[iFrameSizer]",O=E.length,S="",M={max:1,min:1,bodyScroll:1,documentElementScroll:1},I="child",N=!0,A=window.parent,C="*",z=0,k=!1,e=null,R=16,x=1,L="scroll",F=L,P=window,D=function(){re("onMessage function not defined")},j=function(){},q=function(){},H={height:function(){return re("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return re("Custom width calculation function not defined"),document.body.scrollWidth}},W={},B=!1;try{var J=Object.create({},{passive:{get:function(){B=!0}}});window.addEventListener("test",ee,J),window.removeEventListener("test",ee,J)}catch(e){}var U,V,K,Q,X,Y,G=Date.now||function(){return(new Date).getTime()},Z={bodyOffset:function(){return document.body.offsetHeight+pe("marginTop")+pe("marginBottom")},offset:function(){return Z.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return H.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ye(Z))},min:function(){return Math.min.apply(null,ye(Z))},grow:function(){return Z.max()},lowestElement:function(){return Math.max(Z.bodyOffset()||Z.documentElementOffset(),ve("bottom",we()))},taggedElement:function(){return be("bottom","data-iframe-height")}},$={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return H.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max($.bodyScroll(),$.documentElementScroll())},max:function(){return Math.max.apply(null,ye($))},min:function(){return Math.min.apply(null,ye($))},rightMostElement:function(){return ve("right",we())},taggedElement:function(){return be("right","data-iframe-width")}},_=(U=Te,X=null,Y=0,function(){var e=G(),t=R-(e-(Y=Y||e));return V=this,K=arguments,t<=0||R<t?(X&&(clearTimeout(X),X=null),Y=e,Q=U.apply(V,K),X||(V=K=null)):X=X||setTimeout(Ee,t),Q});te(window,"message",function(t){var n={init:function(){v=t.data,A=t.source,ae(),f=!1,setTimeout(function(){p=!1},l)},reset:function(){p?ie("Page reset ignored by init"):(ie("Page size reset by host page"),Me("resetPage"))},resize:function(){Oe("resizeParent","Parent window requested size check")},moveToAnchor:function(){y.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=i();ie("PageInfoFromParent called from parent: "+e),q(JSON.parse(e)),ie(" --")},message:function(){var e=i();ie("onMessage called from parent: "+e),D(JSON.parse(e)),ie(" --")}};function o(){return t.data.split("]")[1].split(":")[0]}function i(){return t.data.substr(t.data.indexOf(":")+1)}function r(){return t.data.split(":")[2]in{true:1,false:1}}function e(){var e=o();e in n?n[e]():("undefined"==typeof module||!module.exports)&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||r()||re("Unexpected message ("+t.data+")")}E===(""+t.data).substr(0,O)&&(!1===f?e():r()?n.init():ie(\'Ignored message of type "\'+o()+\'". Received before initialization.\'))}),te(window,"readystatechange",Ae),Ae()}function ee(){}function te(e,t,n,o){e.addEventListener(t,n,!!B&&(o||{}))}function ne(e){return e.charAt(0).toUpperCase()+e.slice(1)}function oe(e){return E+"["+S+"] "+e}function ie(e){T&&"object"==typeof window.console&&console.log(oe(e))}function re(e){"object"==typeof window.console&&console.warn(oe(e))}function ae(){!function(){function e(e){return"true"===e}var t=v.substr(O).split(":");S=t[0],r=d!==t[1]?Number(t[1]):r,c=d!==t[2]?e(t[2]):c,T=d!==t[3]?e(t[3]):T,b=d!==t[4]?Number(t[4]):b,n=d!==t[6]?e(t[6]):n,a=t[7],g=d!==t[8]?t[8]:g,i=t[9],u=t[10],z=d!==t[11]?Number(t[11]):z,y.enable=d!==t[12]&&e(t[12]),I=d!==t[13]?t[13]:I,F=d!==t[14]?t[14]:F}(),ie("Initialising iFrame ("+location.href+")"),function(){function e(e,t){return"function"==typeof e&&(ie("Setup custom "+t+"CalcMethod"),H[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(function(){var e=window.iFrameResizer;ie("Reading data from page: "+JSON.stringify(e)),Object.keys(e).forEach(ue,e),D="onMessage"in e?e.onMessage:D,j="onReady"in e?e.onReady:j,C="targetOrigin"in e?e.targetOrigin:C,g="heightCalculationMethod"in e?e.heightCalculationMethod:g,F="widthCalculationMethod"in e?e.widthCalculationMethod:F}(),g=e(g,"height"),F=e(F,"width"));ie("TargetOrigin for parent set to: "+C)}(),function(){d===a&&(a=r+"px");ce("margin",function(e,t){-1!==t.indexOf("-")&&(re("Negative CSS value ignored for "+e),t="");return t}("margin",a))}(),ce("background",i),ce("padding",u),function(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.appendChild(e)}(),fe(),me(),document.documentElement.style.height="",document.body.style.height="",ie(\'HTML & body height set to "auto"\'),ie("Enable public methods"),P.parentIFrame={autoResize:function(e){return!0===e&&!1===n?(n=!0,he()):!1===e&&!0===n&&(n=!1,de("remove"),null!==t&&t.disconnect(),clearInterval(w)),Ne(0,0,"autoResize",JSON.stringify(n)),n},close:function(){Ne(0,0,"close")},getId:function(){return S},getPageInfo:function(e){"function"==typeof e?(q=e,Ne(0,0,"pageInfo")):(q=function(){},Ne(0,0,"pageInfoStop"))},moveToAnchor:function(e){y.findTarget(e)},reset:function(){Ie("parentIFrame.reset")},scrollTo:function(e,t){Ne(t,e,"scrollTo")},scrollToOffset:function(e,t){Ne(t,e,"scrollToOffset")},sendMessage:function(e,t){Ne(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){g=e,fe()},setWidthCalculationMethod:function(e){F=e,me()},setTargetOrigin:function(e){ie("Set targetOrigin: "+e),C=e},size:function(e,t){Oe("size","parentIFrame.size("+((e||"")+(t?","+t:""))+")",e,t)}},he(),y=function(){function r(e){var t=e.getBoundingClientRect(),n={x:window.pageXOffset!==d?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==d?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(t.left,10)+parseInt(n.x,10),y:parseInt(t.top,10)+parseInt(n.y,10)}}function t(e){var t,n=e.split("#")[1]||e,o=decodeURIComponent(n),i=document.getElementById(o)||document.getElementsByName(o)[0];d!==i?(t=r(i),ie("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),Ne(t.y,t.x,"scrollToOffset")):(ie("In page link (#"+n+") not found in iFrame, so sending to parent"),Ne(0,0,"inPageLink","#"+n))}function e(){""!==location.hash&&"#"!==location.hash&&t(location.href)}function n(){Array.prototype.forEach.call(document.querySelectorAll(\'a[href^="#"]\'),function(e){"#"!==e.getAttribute("href")&&te(e,"click",function(e){e.preventDefault(),t(this.getAttribute("href"))})})}y.enable?Array.prototype.forEach&&document.querySelectorAll?(ie("Setting up location.hash handlers"),n(),te(window,"hashchange",e),setTimeout(e,l)):re("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):ie("In page linking not enabled");return{findTarget:t}}(),Oe("init","Init message from host page"),j()}function ue(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],re("Deprecated: \'"+e+"\' has been renamed \'"+n+"\'. The old method will be removed in the next major version.")}}function ce(e,t){d!==t&&""!==t&&"null"!==t&&ie("Body "+e+\' set to "\'+(document.body.style[e]=t)+\'"\')}function se(n){var e={add:function(e){function t(){Oe(n.eventName,n.eventType)}W[e]=t,te(window,e,t,{passive:!0})},remove:function(e){var t=W[e];delete W[e],function(e,t,n){e.removeEventListener(t,n,!1)}(window,e,t)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(e[n.method])):e[n.method](n.eventName),ie(ne(n.method)+" event listener: "+n.eventType)}function de(e){se({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),se({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),se({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),se({method:e,eventType:"Input",eventName:"input"}),se({method:e,eventType:"Mouse Up",eventName:"mouseup"}),se({method:e,eventType:"Mouse Down",eventName:"mousedown"}),se({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),se({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),se({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),se({method:e,eventType:"Touch Start",eventName:"touchstart"}),se({method:e,eventType:"Touch End",eventName:"touchend"}),se({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),se({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),se({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),se({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===I&&se({method:e,eventType:"IFrame Resized",eventName:"resize"})}function le(e,t,n,o){return t!==e&&(e in n||(re(e+" is not a valid option for "+o+"CalculationMethod."),e=t),ie(o+\' calculation method set to "\'+e+\'"\')),e}function fe(){g=le(g,h,Z,"height")}function me(){F=le(F,L,$,"width")}function he(){!0===n?(de("add"),function(){var e=b<0;window.MutationObserver||window.WebKitMutationObserver?e?ge():t=function(){function t(e){function t(e){!1===e.complete&&(ie("Attach listeners to "+e.src),e.addEventListener("load",i,!1),e.addEventListener("error",r,!1),u.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function o(e){ie("Remove listeners from "+e.src),e.removeEventListener("load",i,!1),e.removeEventListener("error",r,!1),function(e){u.splice(u.indexOf(e),1)}(e)}function n(e,t,n){o(e.target),Oe(t,n+": "+e.target.src,d,d)}function i(e){n(e,"imageLoad","Image loaded")}function r(e){n(e,"imageLoadFailed","Image load failed")}function a(e){Oe("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var u=[],c=window.MutationObserver||window.WebKitMutationObserver,s=function(){var e=document.querySelector("body");return s=new c(a),ie("Create body MutationObserver"),s.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),s}();return{disconnect:function(){"disconnect"in s&&(ie("Disconnect body MutationObserver"),s.disconnect(),u.forEach(o))}}}():(ie("MutationObserver not supported in this browser!"),ge())}()):ie("Auto Resize disabled")}function ge(){0!==b&&(ie("setInterval: "+b+"ms"),w=setInterval(function(){Oe("interval","setInterval: "+b)},Math.abs(b)))}function pe(e,t){var n=0;return t=t||document.body,n=null!==(n=document.defaultView.getComputedStyle(t,null))?n[e]:0,parseInt(n,o)}function ve(e,t){for(var n=t.length,o=0,i=0,r=ne(e),a=G(),u=0;u<n;u++)i<(o=t[u].getBoundingClientRect()[e]+pe("margin"+r,t[u]))&&(i=o);return a=G()-a,ie("Parsed "+n+" HTML elements"),ie("Element position calculated in "+a+"ms"),function(e){R/2<e&&ie("Event throttle increased to "+(R=2*e)+"ms")}(a),i}function ye(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function be(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(re("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),ve(e,n)}function we(){return document.querySelectorAll("body *")}function Te(e,t,n,o){var i,r;function a(e,t){return!(Math.abs(e-t)<=z)}i=d!==n?n:Z[g](),r=d!==o?o:$[F](),a(m,i)||c&&a(x,r)||"init"===e?(Se(),Ne(m=i,x=r,e)):e in{init:1,interval:1,size:1}||!(g in M||c&&F in M)?e in{interval:1}||ie("No change in size detected"):Ie(t)}function Ee(){Y=G(),X=null,Q=U.apply(V,K),X||(V=K=null)}function Oe(e,t,n,o){k&&e in s?ie("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||ie("Trigger event: "+t),"init"===e?Te(e,t,n,o):_(e,t,n,o))}function Se(){k||(k=!0,ie("Trigger event lock on")),clearTimeout(e),e=setTimeout(function(){k=!1,ie("Trigger event lock off"),ie("--")},l)}function Me(e){m=Z[g](),x=$[F](),Ne(m,x,e)}function Ie(e){var t=g;g=h,ie("Reset trigger event: "+e),Se(),Me("reset"),g=t}function Ne(e,t,n,o,i){var r;!0===N&&(d===i?i=C:ie("Message targetOrigin: "+i),ie("Sending message to host page ("+(r=S+":"+(e+":"+t)+":"+n+(d!==o?":"+o:""))+")"),A.postMessage(E+r,i))}function Ae(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}();',setIframeDim:He,BlueBird:W,extractAdTagId:Le,checkIfPreviewDomain:Ke,getUrlParameterByName:p,detectSafari:V}},{"./gdpr":41,"./mobileDetect":43,"./resources":45,bluebird:1}],50:[function(e,t,n){"use strict";function i(){}function r(){return!!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)}function o(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&!(e.indexOf("chrome")>-1)}function a(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10),!0;if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10),!0}var i=e.indexOf("Edge/");return i>0&&(parseInt(e.substring(i+5,e.indexOf(".",i)),10),!0)}function s(e,t){return e?null:new Error(t)}function l(e,t,n){var r;return r=setTimeout(function(){t=i,n()},e),function(){t.apply(this,arguments)&&clearTimeout(r)}}function c(e,t,n){var i=document.createElement(t);return n&&(i.id=n),e.appendChild(i),i}function u(e,t,n){var i=d(e,null,n.zIndex);if(h(i,f(t,n)))return i}function d(e,t,n){var i=document.createElement("iframe");return i.src=t||"about:blank",i.name="pa_vpaid_iframe",i.marginWidth="0",i.marginHeight="0",i.frameBorder="0",i.width="100%",i.height="100%",p(i),n&&(i.style.zIndex=n),i.setAttribute("SCROLLING","NO"),i.setAttribute("allowfullscreen","true"),e.innerHTML="",e.appendChild(i),i}function p(e){e&&(e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%",e.style.height="100%")}function f(e,t){return Object.keys(t).forEach(function(n){var i="object"==typeof i?JSON.stringify(t[n]):t[n];e=e.replace(new RegExp("{{"+n+"}}","g"),i)}),e}function h(e,t){var n=e.contentWindow&&e.contentWindow.document;return!!n&&(n.open(),n.write(t),n.close(),!0)}function m(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function g(e){var t=-1;return function(){return e+"_"+ ++t}}t.exports={noop:i,detectIE:a,detectFFX:r,validate:s,callbackTimeout:l,createElementInEl:c,createIframeWithContent:u,createIframe:d,setFullSizeStyle:p,simpleTemplate:f,setIframeContent:h,detectSafari:o,extend:m,unique:g}},{}],51:[function(e,t,n){function i(e,t,n,i,o){var a=null,s=null,l=e.ads[0].creatives.length;for(ne=t,ie=oe=n,re=b=o,B=b.getElementById("VpaidVideo"),ee=new A.tracker(e.ads[0],e.ads[0].creatives[0]);l--;)"linear"===e.ads[0].creatives[l].type?a=e.ads[0].creatives[l]:"companion"===e.ads[0].creatives[l].type&&(s=e.ads[0].creatives[l]);var c=null;if(a)for(var u=a.mediaFiles,p=u.length;p--&&null===c;)"video/mp4"===u[p].mimeType&&(c=u[p]);if(s&&Q&&r(Q),null===c){return void ee.errorWithCode("403")}V=c.fileURL,z=c.height,H=c.width,U=a.duration,B.muted=!0,B.controls=!1,B.src=V,B.load(),B.ondurationchange=function(){U=B.duration},B.addEventListener("loadedmetadata",function(e){if(!N){H=this.videoWidth,z=this.videoHeight,H<800&&(ne.style.maxWidth=H+"px",ne.style.margin="0 auto"),ce(ie);var t=C.detectSafari();(k.other.firefox_mobile||k.other.firefox||!I&&t)&&(B.muted=!0,m(B))}}),B.addEventListener("error",function(e){var t="900";switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:case e.target.error.MEDIA_ERR_NETWORK:case e.target.error.MEDIA_ERR_DECODE:t="400";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t="401"}ee.errorWithCode(t)}),window.addEventListener("resize",function(){d(H)},!0)}function r(e){var t={},n=function(e){var t=e;t=t.split("#")[0];var n=t.split("?")[1];return n||!1!==t.search("=")&&(n=t),n}(e);if(n)for(var i=n.split("&"),r=0;r<i.length;r++){var o=i[r].split("="),a=o[0],s=o[1]||"";t[a]=decodeURIComponent(s.replace(/\+/g," "))}return t}function o(e){w=document.createElement("div"),w.setAttribute("id","banner"),e.appendChild(w);var t=document.createElement("div");t.setAttribute("id","PA-circle"),t.setAttribute("class","row"),_=document.createElement("div"),_.setAttribute("id","PA-3"),_.setAttribute("class","PA-outside"),t.appendChild(_);var n=document.createElement("div");n.setAttribute("class","PA-text my_orange");var i=document.createElement("i");i.innerHTML="&#xe804;",i.setAttribute("class","demo-icon icon-cw rotating"),n.appendChild(i);var r=document.createElement("div");r.setAttribute("class","PA-click my_blue");var o=document.createElement("a");if(o.setAttribute("class","replay_btn my_blue_dark"),o.innerHTML="Replay",o.setAttribute("data-show-count","false"),r.appendChild(o),_.appendChild(n),_.appendChild(r),t.appendChild(_),w.appendChild(t),k.apple.device){var s=k.apple,l=T.getVersion(s._IOSVersion);l&&l.major<10&&a(t,_,n,i,r,D,w)}}function a(e,t,n,i,r,o,a){e.style.cssText="cursor:pointer;display:block; position:relative; width:100px;padding:2px; height: auto; transition:0.3s ease all; -moz-transition:0.3s ease all;-webkit-transition:0.3s ease all;";t.style.cssText="display: block;margin: 0 auto;height: 37px;width: 37px;";n.style.cssText="font-size: 60px;height: 100%;border-radius: 50%;-moz-border-radius: 50%;-webkit-border-radius: 50%;margin-top: 2px;transform: rotate(-360deg);-moz-transform: rotate(-360deg);-webkit-transform: rotate(-360deg);";i.style.cssText="animation: rotating 6s linear infinite;";r.style.cssText="background: rgb(0, 144, 210);opacity: 1;padding: 8px 10px 4px;margin-top: -34px;margin-left: 10px;padding-left: 30px;width: 69px;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;";o.style.cssText="height: 100%;width: 100%;position: absolute;top: 0;cursor: pointer;";a.style.cssText="position: relative; overflow:unset; width: 200px; display: block;"}function s(e,t){t.parentNode.insertBefore(e,t)}function l(e){var t=document.createElement("div");t.setAttribute("id","loading"),t.setAttribute("class","button"),t.innerHTML='<svg class="lds-spinner" width="200px"  height="200px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;"><g transform="rotate(0 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(30 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(60 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(90 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(120 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(150 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(210 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(240 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(270 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(300 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(330 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g></svg>',e.appendChild(t)}function c(e,t,n,i){var r=re.body;return F=b.getElementById("videoContainer"),y=document.createElement("h4"),y.setAttribute("class","project_agora"),y.innerHTML="Project Agora Advertising",s(y,F),Y=re.getElementsByClassName("project_agora")[0],r.style.height=null,M=document.createElement("progress"),M.setAttribute("id","progress-bar"),M.setAttribute("min","0"),M.setAttribute("value","0"),M.setAttribute("max",t),F.appendChild(M),q=re.getElementById("progress-bar"),D=document.createElement("div"),D.setAttribute("id","closeButtonContainer"),D.setAttribute("class","no-select"),F.appendChild(D),R||O||(l(D),loading=re.getElementById("loading"),loading.setAttribute("style","display:none")),j=document.createElement("div"),j.setAttribute("class","right-group"),D.appendChild(j),T.createBtns(j,"cancel","&#xe800;",re),G=re.createElement("div"),G.setAttribute("class","right-down-group"),D.appendChild(G),T.createBtns(G,"resize-full","&#xe802;",re),T.createBtns(G,"volume-off","&#xe803;",re),I||re.getElementById("volume-off").setAttribute("style","right:10%;"),X=re.getElementsByClassName("ring"),o(r),g(re,"banner"),n}function u(){loading.style.display="block"}function d(e){var t=ne.getBoundingClientRect().width;W=e>t?t*P+17+7:e*P+17+7;var n=re.getElementById("videoContainer");n&&("none"===n.style.display?(ne.style.height="80px",oe.style.height="80px"):(ne.style.height=W+"px",oe.style.height=W+"px"))}function p(e){h()&&T.exitFullscreen(b),Z=!0,T.transition(80,L,ne,oe,j,G),g(re,"videoContainer"),v(re,"banner");var t=k.apple;t&&t._IOSVersion.indexOf("9")>=0&&(T.pauseBars(X),v(re,"crossout"))}function f(e){if(d(H),e&&(W=e>W?e:W),T.transition(W,L,ne,oe,j,G),g(re,"banner"),v(re,"videoContainer"),navigator.userAgent.indexOf(!1)){var t=re.getElementsByClassName("right-group"),n=re.getElementsByClassName("right-down-group");setTimeout(function(){t[0].classList.toggle("refresh"),n[0].classList.toggle("refresh")},L)}Z=!1,m(B)}function h(){return b.webkitIsFullScreen||b.mozFullScreen||b.fullScreen||b.msFullscreenElement}function m(e){var t=k.apple,n=t._IOSVersion;t.device?t.device&&n.indexOf("10")>=0&&(t.Safari||t.isChrome&&t.CriOSVersion>=54)?e.play():se(e):(e.play(),k.other.firefox)}function g(e,t){e.getElementById(t).style.display="none"}function v(e,t){e.getElementById(t).style.display="block"}var y,b,w,_,x=e("./iphone-inline-video.browser"),A=e("vast-client"),k=e("./mobileDetect"),T=e("./utilities"),C=e("./utils"),E=!!window.MSInputMethodContext&&!!document.documentMode,S=window.innerHeight,O=/Edge/.test(navigator.userAgent),I=k.mobileDeviceAny||k.tabletAny,N=!1,L=500,R=C.detectIE(),P=null,F=null,B=null,M=null,D=null,j=null,V=null,z=null,H=null,U=null,W=null,q=null,G=null,X=null,Q=null,$=!1,Y=null,J=null,K=null,Z=!1,ee=null,te=!1,ne=null,ie=null,re=null,oe=null,ae=!1,se=function(e){x.makeVideoPlayableInline(e,{everywhere:!0}),e.muted=!1,e.audio.load(),e.muted=!0,e.play()},le=function(){!B||R||O||(B.onstalled=function(){u()},k.other.firefox||(B.onwaiting=function(){u()}),B.onprogress=function(){loading.style.display="none"}),B.addEventListener("canplay",function(){if(ee.load(),navigator.userAgent.indexOf(!1)){var e=re.getElementsByClassName("right-group"),t=re.getElementsByClassName("right-down-group");setTimeout(function(){e[0].classList.toggle("refresh"),t[0].classList.toggle("refresh")},L)}m(B)}),Y.addEventListener("click",function(){if(ae){window.open("http://www.projectagora.com/?utm_source=Branding&utm_medium=Magic","_blank").focus()}ae=!0}),B.addEventListener("timeupdate",function(){q.value=this.currentTime,ee.setProgress(this.currentTime),q.value>=U&&setTimeout(function(){!1===B.muted&&(B.muted=!0,T.pauseBars(X),v(re,"crossout"))},L)}),I?window.addEventListener("touchmove",de,!0):(window.addEventListener("scroll",de,!0),window.addEventListener("resize",function(){S=window.innerHeight})),B.addEventListener("ended",function(){ee.complete(),p(ie)}),B.addEventListener("pause",function(){ee.setPaused(!0)}),D.addEventListener("click",function(e){e.target===e.currentTarget?ee.click():"PAicon-cancel PA_icon"===e.target.className?(B.pause(),p()):"PAicon-resize-full PA_icon"===e.target.className?(T.requestFullScreen(B),B.muted=!1,e.stopPropagation()):(e.target.id,B.muted=!B.muted,B.muted?(T.pauseBars(X),v(re,"crossout")):(T.playBars(X),g(re,"crossout")),ee.setMuted(B.muted),e.stopPropagation())},!1),document.addEventListener&&(B.addEventListener("webkitfullscreenchange",ue,!0),B.addEventListener("webkitendfullscreen",ue,!0),document.addEventListener("mozfullscreenchange",ue,!1),document.addEventListener("MSFullscreenChange",ue,!1)),B.addEventListener("webkitbeginfullscreen",function(e){B.play()}),B.addEventListener("webkitendfullscreen",function(e){T.pauseBars(X),v(re,"crossout"),B.muted=!0,B.play()}),_.addEventListener("click",function(e){f(),ee.setPaused(!1)}),ee.on("clickthrough",function(e){window.open(e),window.focus()}),ee.on("firstQuartile",function(){}),ee.on("midpoint",function(){}),ee.on("thirdQuartile",function(){}),ee.on("complete",function(){}),ee.on("paused",function(){}),ee.on("fullscreen",function(){}),ee.on("exitFullscreen",function(){})},ce=function(e){N=!0,P=z/H,d(H),c(V,U,B,e),I&&T.mobileDevice_init(k,B),T.pauseBars(X),le(),ne.style.height="0px",e.style.height="0px",F.style.height="auto",T.transition(W,L,ne,oe,j,G)},ue=function(e){g(re,"crossout"),T.playBars(X),$=!$,$?ee.setFullscreen(!0):ee.setFullscreen(!1),this.muted=!1,B&&(k.other.firefox||O||E)&&(B.muted=!1)},de=function(e){var t=ne.getBoundingClientRect();J=t.top,K=t.bottom;var n=K-J,i=null;J>=0&&K>=0?i=S>K?100:100-(K-S)/n*100:J<0&&(i=100*(J+n)/n),i=Math.floor(i),D.addEventListener("click",function(e){"PAicon-resize-full PA_icon"===e.target.className&&(te=!0),e.stopPropagation()}),te||(i<15||Z?B.pause():B.play()),te=!1};t.exports={callVast:i}},{"./iphone-inline-video.browser":42,"./mobileDetect":43,"./utilities":49,"./utils":50,"vast-client":17}],52:[function(e,t,n){function i(e,t,n,i,r,o){var a=document.createElement("script"),s=[],l={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:n,url:r},dispatchEvent:function(e){l.sendEvent?(s&&(s.push(e),e=s,s=!1),l.sendEvent(e)):s&&s.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());var c,u;try{c=e.ownerDocument,u=c.defaultView||c.parentWindow}catch(e){c=document,u=window}return u[t]=l,a.type="text/javascript",e&&e.insertBefore(a,e.childNodes[0]||null),a.src="https://z.moatads.com/"+i+"/moatvideo.js#"+t,l}function r(e,t,n,i,r,a,s,l,c,u,d){yt=d,Me=l,Be=s,Ne=a,ue=r,oe=i,pe=t,de=n,fe=e,De=c,He=u,je=document.getElementById("pa_videoslider"),De&&(Qe.addStylesheet(Je.videoSliderAssets.fadeInAnimationStr),Qe.addStylesheet(Je.videoSliderAssets.fadeOutAnimationStr),Qe.addStylesheet(Je.videoSliderAssets.fadeInClassStr),Qe.addStylesheet(Je.videoSliderAssets.fadeOutClassStr),Qe.addStylesheet(Je.videoSliderAssets.videoSliderGreyClassStr),"left"===De.position?Qe.addStylesheet(Je.videoSliderAssets.incornerLeft):Qe.addStylesheet(Je.videoSliderAssets.incornerRight),wt&&Qe.addCSSSTyle(ue,Je.videoSliderAssets.incornerButtons),Qe.addCSSSTyle(frmPAVast,Je.videoSliderAssets.incornerHeading)),he=document.getElementById("videoad"),he.setAttribute("style","background-color: unset!important"),Qe.ajaxListener(i,function(e,t){t&&yt&&(bt=o(t)),lt.ThrdPartyProvider||(lt=Qe.parseResp(e))}),Ze=pe.trkEvnts[0],et=pe.clickTrackingUrls[0],customClickTrackers=pe.customClickUrls[0],clickThrough=pe.clickThrough,le=pe.duration[0],Ke=fe.urls,$=ue.getElementById("videoContainer"),Y=ue.getElementById("VpaidVideo"),Pe=ue.getElementById("backupVideo"),Qe.mobileDevice_init(Ge,Y),Y.muted=!0,Y.style.width="100%",Y.setAttribute("allowfullscreen","true"),Y.setAttribute("data-reembed",'{ "no_replace": 1 }'),U=new Xe.VPAIDHTML5Client($,Y,{}),T(oe)}function o(e){var t={},n={advertiser_id:"level1",campaign_id:"level2",lineitem_id:"level3",creative_id:"level4",deal_id:"slicer1"};return Object.keys(n).forEach(function(i){t[n[i]]=Qe.getUrlParameterByName(i,e)}),t}function a(e){Le=e;Pe.muted=!0,Pe.crossOrigin="anonymous",Pe.setAttribute("src",lt.CacheVideoSrc),Pe.addEventListener("error",function(t){e(" ")}),Pe.addEventListener("loadedmetadata",function(){var e=Pe.duration;Pe.currentTime=e-.7}),Pe.addEventListener("canplaythrough",xt)}function s(e,t,n){Q.style.display="block",te=!1,ot!==te&&(b(),ot=te,Q.style.width=t+"px",ge.style.width=t+"px");var i=nt;De&&"start_from_incorner"===De.effect&&(i=0),Qe.transition(e,i,he,de,ve,ye,function(){if(n&&"function"==typeof n&&n(),keepVAStyle=he.getAttribute("style"),keepFmrStyle=de.getAttribute("style"),De){var t="start_from_incorner"===De.effect?2:1;je.style.height=t*e+21+"px"}if($.style.height=e+"px",ut&&Me.video.enabled){Qe.placeCSStoVideoViewabilityEls(e,ee,Me,"videoad");document.getElementById("videoad").style.removeProperty("height")}},vt?0:20)}function l(e){window.removeEventListener("scroll",Ve),window.removeEventListener("resize",ze,!0),vt&&(z(_.bind(this,e,Ue)),vt=!1);var t=je||he;ve.style.display="none",ye.style.display="none",Qe.transition(0,nt,t,de,ve,ye,function(){if(de.parentNode&&de.parentNode.removeChild(de),ut&&Me&&!0===Me.video.enabled){var e=document.getElementById("viewability-expansion");e.parentNode&&e.parentNode.removeChild(e)}}),te=!0,ot=te,Et("collapse"),setTimeout(function(){Q.style.display="none"},nt)}function c(e){var t=document.createElement("div");t.setAttribute("id","learnMoreBtnDiv"),t.setAttribute("class","button"),
t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" id="learnMoreBtn" class="newLMBtn" viewBox="0 -2 32 36"><defs><style>.cls-2{fill:#fff;}</style></defs><title>learn_more_icon-01</title><g id="Layer_1" data-name="Layer 1"><path class="cls-2 cls-a" d="M16,1A15,15,0,1,1,1,16,15,15,0,0,1,16,1m0-1A16,16,0,1,0,32,16,16,16,0,0,0,16,0Z"/><polyline class="cls-2 cls-b" points="14.5 16.4 14.5 22 13 22 13 24 14.5 24 14.5 24 17.5 24 17.5 24 19 24 19 22 17.5 22 17.5 15 17.5 13 14.5 13 13 13 13 15 14.5 15 14.5 16.4"/><rect class="cls-2 cls-c" x="14.5" y="8" width="3" height="3"/></g></svg>',e.appendChild(t)}function u(e){var t=document.createElement("div");t.setAttribute("id","loading"),t.setAttribute("class","button"),t.innerHTML='<svg class="lds-spinner" width="200px"  height="200px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;"><g transform="rotate(0 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(30 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(60 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(90 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(120 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(150 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(210 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(240 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(270 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(300 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(330 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g></svg>',e.appendChild(t)}function d(e){var t=document.createElement("div");t.setAttribute("id","playBtnDiv"),t.setAttribute("class","button");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id","playBtn"),n.setAttribute("class","playBtn"),n.setAttribute("width","52px"),n.setAttribute("height","52px"),n.setAttribute("viewBox","0 0 52 52"),n.setAttribute("version","1.1"),n.setAttribute("display","none"),t.appendChild(n);var i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","Page-1"),i.setAttribute("class","playBtn"),i.setAttribute("stroke","none"),i.setAttribute("stroke-width","1"),i.setAttribute("fill","none"),i.setAttribute("fill-rule","evenodd"),n.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","In-artical-magic"),r.setAttribute("class","playBtn"),r.setAttribute("transform","translate(-75.000000, -1086.000000)"),i.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","play"),o.setAttribute("class","playBtn"),o.setAttribute("transform","translate(76.000000, 1087.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","playBtn"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","25"),a.setAttribute("cy","25"),a.setAttribute("r","25"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M21.3899644,31.6210018 L21.3899644,18.3792386 L29.9083366,24.9994364 L21.3899644,31.6210018 Z M34.258791,23.4883192 L20.6446069,12.9104984 C20.0596602,12.4564795 19.2631371,12.3716928 18.5938364,12.6930616 C17.9259186,13.015798 17.5,13.6872537 17.5,14.4229832 L17.5,35.5772571 C17.5,36.3143542 17.9259186,36.9844424 18.5938364,37.3071787 C18.8634927,37.4357262 19.1538917,37.5 19.4415251,37.5 C19.8715923,37.5 20.296128,37.3605123 20.6446069,37.0883744 L34.258791,26.5132887 C34.7248123,26.1467915 35,25.590208 35,24.9994364 C35,24.4100323 34.7248123,23.8534489 34.258791,23.4883192 L34.258791,23.4883192 Z"),s.setAttribute("id","Fill-1"),s.setAttribute("class","playBtn"),s.setAttribute("fill","#FFFFFF"),o.appendChild(s),e.appendChild(t)}function p(e){var t=document.createElement("div");t.setAttribute("id","pauseBtnDiv"),t.setAttribute("class","button");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id","pauseBtn"),n.setAttribute("class","pauseBtn"),n.setAttribute("width","52px"),n.setAttribute("height","52px"),n.setAttribute("viewBox","0 0 52 52"),n.setAttribute("version","1.1"),t.appendChild(n);var i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","Page-1"),i.setAttribute("class","pauseBtn"),i.setAttribute("stroke","none"),i.setAttribute("stroke-width","1"),i.setAttribute("fill","none"),i.setAttribute("fill-rule","evenodd"),n.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","In-artical-magic"),r.setAttribute("class","pauseBtn"),r.setAttribute("transform","translate(-75.000000, -1016.000000)"),i.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","pause"),o.setAttribute("class","pauseBtn"),o.setAttribute("transform","translate(76.000000, 1017.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","pauseBtn"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","25"),a.setAttribute("cy","25"),a.setAttribute("r","25"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Group-3"),s.setAttribute("class","pauseBtn"),s.setAttribute("transform","translate(18.000000, 14.000000)"),s.setAttribute("fill","#FFFFFF"),o.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("id","Rectangle-7"),l.setAttribute("class","pauseBtn"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("width","5"),l.setAttribute("height","22"),l.setAttribute("rx","2.5"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("id","Rectangle-7"),c.setAttribute("class","pauseBtn"),c.setAttribute("x","9"),c.setAttribute("y","0"),c.setAttribute("width","5"),c.setAttribute("height","22"),c.setAttribute("rx","2.5"),s.appendChild(c),e.appendChild(t)}function f(e,t){var n=document.createElement("div");n.setAttribute("id","closeBtnDiv"),n.setAttribute("class","button"),n.innerHTML='<svg id="closeBtn" class="cancelSvg" width="20px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><defs><style>.cls-1{fill:none;stroke:#fff;stroke-width: 2px;stroke-linecap:round;stroke-linejoin:round;}</style></defs><g id="Layer_1" data-name="Layer 1"><polyline class="cls-1" points="0.5 0.5 6.5 6.5 0.5 12.5"/><polyline class="cls-1" points="12.5 0.5 6.5 6.5 12.5 12.5"/></g></svg>',e.appendChild(n),n.addEventListener("click",function(e){l(t),e.stopPropagation()})}function h(e,t){var n=document.createElement("div");n.setAttribute("id","closeBtnDiv"),n.setAttribute("class","button");var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id","closeBtn"),i.setAttribute("class","CloseBtn"),i.setAttribute("width","52px"),i.setAttribute("height","52px"),i.setAttribute("viewBox","0 0 52 52"),i.setAttribute("version","1.1"),n.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","Page-1"),r.setAttribute("class","CloseBtn"),r.setAttribute("stroke","none"),r.setAttribute("stroke-width","1"),r.setAttribute("fill","none"),r.setAttribute("fill-rule","evenodd"),i.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","In-artical-magic"),o.setAttribute("class","CloseBtn"),o.setAttribute("transform","translate(-1881.000000, -110.000000)"),o.setAttribute("fill","none"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id","Group"),a.setAttribute("class","CloseBtn"),a.setAttribute("transform","translate(1882.000000, 111.000000)"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Group-5"),s.setAttribute("class","CloseBtn"),a.appendChild(s);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056"),c.setAttribute("id","Fill-1"),c.setAttribute("class","CloseBtn"),c.setAttribute("fill-opacity","0.06"),c.setAttribute("fill","#000000");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056 Z"),u.setAttribute("id","Stroke-3"),u.setAttribute("class","CloseBtn"),u.setAttribute("stroke","#FFFFFF"),s.appendChild(c),s.appendChild(u);var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d","M15.3904139,34.6088993 C15.6506898,34.869159 15.9920353,35 16.3326696,35 C16.6740151,35 17.0153605,34.869159 17.2756365,34.6088993 L25,26.8857275 L32.7243635,34.6088993 C32.9846395,34.869159 33.3259849,35 33.6673304,35 C34.0079647,35 34.3493102,34.869159 34.6095861,34.6088993 C35.130138,34.089091 35.130138,33.2443135 34.6095861,32.723794 L26.8859337,24.9999111 L34.6095861,17.2760282 C35.130138,16.7562198 35.130138,15.9114424 34.6095861,15.3909229 C34.0890343,14.8696924 33.2449154,14.8696924 32.7243635,15.3909229 L25,23.1140947 L17.2756365,15.3909229 C16.7543735,14.8696924 15.9109657,14.8696924 15.3904139,15.3909229 C14.869862,15.9114424 14.869862,16.7562198 15.3904139,17.2760282 L23.1147774,24.9999111 L15.3904139,32.723794 C14.869862,33.2443135 14.869862,34.089091 15.3904139,34.6088993"),d.setAttribute("id","Fill-7"),d.setAttribute("class","CloseBtn"),d.setAttribute("fill","#FFFFFF"),a.appendChild(d),e.appendChild(n),n.addEventListener("click",function(e){l(t)})}function m(e){var t=document.createElement("div");t.setAttribute("id","soundBtnDiv"),t.setAttribute("class","button"),t.setAttribute("margin","10px");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id","soundButton"),n.setAttribute("class","soundButton"),n.setAttribute("width","42px"),n.setAttribute("height","42px"),n.setAttribute("viewBox","0 0 42 42"),n.setAttribute("version","1.1"),t.appendChild(n),n.setAttribute("display","none");var i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","style"),i.setAttribute("class","soundButton"),i.setAttribute("stroke","none"),i.setAttribute("stroke-width","1"),i.setAttribute("fill","none"),i.setAttribute("fill-rule","evenodd"),n.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","group1"),r.setAttribute("class","soundButton"),r.setAttribute("transform","translate(-63.000000, -605.000000)"),i.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","Group-10"),o.setAttribute("class","soundButton"),o.setAttribute("transform","translate(64.000000, 606.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","soundButton"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","20"),a.setAttribute("cy","20"),a.setAttribute("r","20"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Page-1"),s.setAttribute("class","soundButton"),s.setAttribute("transform","translate(10.000000, 10.000000)"),s.setAttribute("fill","#FFFFFF"),o.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","Group-3"),l.setAttribute("class","soundButton"),l.setAttribute("transform","translate(0.000000, 0.438295)"),l.setAttribute("stroke","#FFFFFF"),l.setAttribute("stroke-width","0.3"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M5.16826047,11.55 C4.80142326,11.55 4.50263256,11.8712 4.50263256,12.26555 L4.50263256,13.7478 L1.33105116,13.75 L1.33105116,6.82165 L4.50263256,6.82165 L4.50263256,8.3061 C4.50263256,8.70045 4.80142326,9.02165 5.16826047,9.02165 C5.53407442,9.02165 5.83184186,8.70045 5.83184186,8.3061 L5.83184186,6.43775 L11.2034233,1.55265 C11.2648186,1.52625 11.330307,1.55265 11.3533302,1.56695 C11.4208651,1.6082 11.4597488,1.6841 11.4597488,1.77485 L11.4597488,19.23735 C11.4597488,19.3281 11.4208651,19.40345 11.352307,19.44525 C11.3344,19.4568 11.2699349,19.4843 11.2121209,19.46175 L5.83184186,14.1504 L5.83184186,12.26555 C5.83184186,11.8712 5.53407442,11.55 5.16826047,11.55 M12.0071907,0.32175 C11.5380279,0.03575 10.9598884,0.03795 10.4743535,0.35145 C10.4477488,0.37015 10.4216558,0.3905 10.3991442,0.41085 L4.92421395,5.39055 L0.665423256,5.39055 C0.298586047,5.39055 -0.000204651163,5.71175 -0.000204651163,6.1061 L-0.000204651163,14.46555 C-0.000204651163,14.6553 0.0688651163,14.83515 0.198306977,14.97595 C0.326213953,15.1085 0.491981395,15.1811 0.665423256,15.1811 L4.90886512,15.1789 L10.3884,20.59035 C10.4211442,20.61895 10.4538884,20.64535 10.4840744,20.6646 C10.7209581,20.81915 10.990586,20.9 11.2637953,20.9 C11.5231907,20.9 11.7800279,20.82685 12.0066791,20.6888 C12.4973302,20.39235 12.790493,19.85005 12.790493,19.23735 L12.790493,1.77485 C12.790493,1.16325 12.4978419,0.61985 12.0071907,0.32175"),c.setAttribute("id","Fill-1"),c.setAttribute("class","soundButton"),l.appendChild(c);var u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("id","Group-6"),u.setAttribute("class","soundButton"),u.setAttribute("transform","translate(15.348837, 2.088295)"),s.appendChild(u);var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d","M0.787446512,0.518045 C0.573586047,0.440495 0.339772093,0.565345 0.267632558,0.795245 C0.19395814,1.025145 0.309586047,1.274295 0.523446512,1.353495 C3.42949302,2.412795 5.38186512,5.340995 5.38186512,8.636595 C5.38186512,11.928345 3.43358605,14.856545 0.53367907,15.920795 C0.319818605,15.997245 0.20367907,16.248595 0.277865116,16.478495 C0.33567907,16.661095 0.495818605,16.777145 0.66567907,16.777145 C0.70967907,16.777145 0.75367907,16.769445 0.79767907,16.753495 C4.02912093,15.567695 6.20149302,12.306195 6.20149302,8.636595 C6.20149302,4.963145 4.02502791,1.701645 0.787446512,0.518045"),d.setAttribute("id","Fill-4"),d.setAttribute("class","soundButton"),u.appendChild(d);var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M17.8670186,10.722855 C17.8670186,8.095505 16.2262279,5.751405 13.8758093,5.021005 C13.6578558,4.954455 13.4322279,5.087555 13.3703209,5.321855 C13.3063674,5.553955 13.4322279,5.798705 13.6501814,5.865805 C15.6506465,6.488405 17.0473907,8.486555 17.0473907,10.722855 C17.0473907,12.961355 15.6506465,14.960605 13.6501814,15.581555 C13.4322279,15.650305 13.3063674,15.891755 13.3703209,16.126055 C13.4219953,16.319655 13.5841814,16.443955 13.7622279,16.443955 C13.8000884,16.443955 13.8379488,16.437905 13.8758093,16.428005 C16.2262279,15.697605 17.8670186,13.350205 17.8670186,10.722855"),p.setAttribute("id","Fill-7"),p.setAttribute("class","soundButton"),s.appendChild(p),e.appendChild(t)}function g(e){var t=document.createElement("div");t.setAttribute("id","soundOffDiv"),t.setAttribute("class","button"),t.setAttribute("margin","10px");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id","soundOffBtn"),n.setAttribute("class","soundOffBtn"),n.setAttribute("width","42px"),n.setAttribute("height","42px"),n.setAttribute("viewBox","0 0 42 42"),n.setAttribute("version","1.1"),t.appendChild(n);var i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","style"),i.setAttribute("class","soundOffBtn"),i.setAttribute("stroke","none"),i.setAttribute("stroke-width","1"),i.setAttribute("fill","none"),i.setAttribute("fill-rule","evenodd"),n.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","group1"),r.setAttribute("class","soundOffBtn"),r.setAttribute("transform","translate(-63.000000, -560.000000)"),i.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","Group-5"),o.setAttribute("class","soundOffBtn"),o.setAttribute("transform","translate(64.000000, 561.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","soundOffBtn"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","20"),a.setAttribute("cy","20"),a.setAttribute("r","20"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Page-1"),s.setAttribute("class","soundOffBtn"),s.setAttribute("transform","translate(12.000000, 8.000000)"),s.setAttribute("fill","#FEFEFE"),o.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","Group-3"),l.setAttribute("class","soundOffBtn"),l.setAttribute("transform","translate(0.000000, 1.666473)"),l.setAttribute("stroke","#FFFFFF"),l.setAttribute("stroke-width","0.3"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M6.21703636,14.1807273 L6.21703636,12.312 C6.21703636,11.9209091 5.89958182,11.6023636 5.51012727,11.6023636 C5.11903636,11.6023636 4.80049091,11.9209091 4.80049091,12.312 L4.80049091,13.7825455 L1.41921818,13.7841818 L1.41921818,6.91090909 L4.80049091,6.91090909 L4.80049091,8.38527273 C4.80049091,8.77527273 5.11903636,9.09272727 5.51012727,9.09272727 C5.89958182,9.09272727 6.21703636,8.77527273 6.21703636,8.38527273 L6.21703636,6.53236364 L11.9443091,1.68763636 C12.0097636,1.662 12.0795818,1.68818182 12.1035818,1.70181818 C12.1755818,1.74272727 12.2170364,1.81745455 12.2170364,1.908 L12.2170364,4.83661818 L13.6363091,2.33352727 L13.6363091,1.908 C13.6363091,1.30145455 13.3243091,0.762545455 12.8012182,0.466909091 C12.3004909,0.182727273 11.6846727,0.185454545 11.1670364,0.496363636 C11.1386727,0.514909091 11.1103091,0.535090909 11.0863091,0.555272727 L5.25049091,5.49381818 L0.709581818,5.49381818 C0.318490909,5.49381818 -5.45454545e-05,5.81236364 -5.45454545e-05,6.20345455 L-5.45454545e-05,14.4938182 C-5.45454545e-05,14.6825455 0.0730363636,14.8609091 0.211036364,15 C0.3474,15.1309091 0.524672727,15.2034545 0.709581818,15.2034545 L5.23303636,15.2012727 L6.10030909,15.7598182 L6.81812727,14.4938182 L6.21703636,14.1807273 Z"),c.setAttribute("id","Fill-1"),c.setAttribute("class","soundOffBtn"),l.appendChild(c);var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M12.2173091,20.8926545 C12.2173091,20.9826545 12.1758545,21.0579273 12.1114909,21.0944727 C12.0536727,21.1250182 12.0051273,21.1321091 11.9533091,21.1152 L9,18 L8.28272727,19.2665455 L11.0751273,22.2350182 C11.1084,22.2628364 11.1422182,22.2873818 11.1771273,22.3086545 C11.4296727,22.4613818 11.7171273,22.5415636 12.0084,22.5415636 C12.2849455,22.5415636 12.5587636,22.4695636 12.8004,22.3326545 C13.3234909,22.0386545 13.6365818,21.5002909 13.6365818,20.8926545 L13.6365818,10 L12.2173091,12.5036364 L12.2173091,20.8926545 Z"),u.setAttribute("id","Fill-4"),u.setAttribute("class","soundOffBtn"),u.setAttribute("stroke","#FFFFFF"),u.setAttribute("stroke-width","0.3"),s.appendChild(u);var d=document.createElementNS("http://www.w3.org/2000/svg","g");d.setAttribute("id","Group-8"),d.setAttribute("class","soundOffBtn"),d.setAttribute("transform","translate(3.818182, 0.030109)"),s.appendChild(d);var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M13.0456364,0.515345455 C12.8116364,0.515345455 12.5945455,0.641890909 12.4783636,0.845890909 L0.211636364,22.4840727 C0.125454545,22.6346182 0.103636364,22.8108 0.150545455,22.9782545 C0.196909091,23.1457091 0.306,23.2848 0.456545455,23.3693455 C0.549818182,23.4228 0.649636364,23.4506182 0.755454545,23.4538909 L0.778363636,23.4544364 C1.01181818,23.4544364 1.22890909,23.3284364 1.34454545,23.1249818 L13.6112727,1.48734545 C13.6969091,1.33625455 13.7187273,1.16116364 13.6729091,0.994254545 C13.6265455,0.826254545 13.5174545,0.686072727 13.3658182,0.600436364 C13.2676364,0.5448 13.1569091,0.515345455 13.0456364,0.515345455"),p.setAttribute("id","Fill-6"),p.setAttribute("class","soundOffBtn"),d.appendChild(p),e.appendChild(t)}function v(){Ie.style.display="block"}function y(e){Ae=document.createElement("h4"),Ae.setAttribute("class","project_agora"),Ae.innerHTML="Project Agora Advertising",ue.body.insertBefore(Ae,$),Q=ue.getElementsByClassName("project_agora")[0],Q.style.display="none",ue.body.id="frmBody",xe=document.createElement("div"),xe.setAttribute("id","LBBanner");var t=document.createElement("div");t.setAttribute("id","grayOverLay");var n=document.createElement("div");n.setAttribute("class","timer"),t.appendChild(n),xe.style.height=xe.clientHeight+-20+"px",xe.style.display="none",ue.body.insertBefore(xe,$),t.style.height="100%",f(xe,e),xe.appendChild(t),we=document.createElement("img"),we.addEventListener("load",function(){}),we.setAttribute("id","PALeaveBehind"),we.style.display="none",we.style.position="relative",we.style.width="100%",we.style.opacity="0.1",we.style.backgroundColor="grey",xe.appendChild(we),_e=document.createElement("div"),_e.setAttribute("class","learn-more-group"),_e.style.display="none";var i=document.createElement("div");i.setAttribute("class","learn-more-text"),i.innerHTML="Learn More",xe.appendChild(_e),c(_e),ue.getElementById("learnMoreBtnDiv").appendChild(i),ge=document.createElement("progress"),ge.setAttribute("id","progress-bar"),ge.setAttribute("min","0"),ge.setAttribute("value","0"),ge.setAttribute("max",le),$.appendChild(ge),ke=ue.getElementById("progress-bar"),ve=document.createElement("div"),ve.setAttribute("class","right-group");var r=Ge.apple;r&&ut&&ve.setAttribute("style","position:relative;!important"),be=document.createElement("div"),be.setAttribute("class","left-group"),$.appendChild(ve),$.appendChild(be),ve.style.display="block",h(ve,e);var o=document.createElement("div");o.setAttribute("class","down-group"),$.appendChild(o);var a=document.createElement("div");a.setAttribute("class","sound-group"),o.appendChild(a),ye=document.createElement("div"),ye.setAttribute("class","right-down-group"),o.appendChild(ye),ye.style.display="none";var s=ue.getElementsByClassName("sound-group")[0];r=Ge.apple,s.className+=" floatRight",dt||pt||(u($),Ie=ue.getElementById("loading"),Ie.setAttribute("style","display:none")),d(be),p(be),g(a),m(a),Se="soundButton",Oe="soundOffBtn"}function b(e){var t=e||he.getBoundingClientRect().width;Qe.hasSmallVideoSize()&&(t=he.parentElement.clientWidth,he.style.width="100%"),ee=t,me=t*(re||ie)}function w(e,t,n){if(e);else{var i=ue.getElementById("VpaidVideo");G=0===n._creative.getAdVolume(),i&&(i.volume=G?0:1)}}function _(e,t,n){b(t),te||(he.style.height=null,ge&&(ge.style.width=ee+"px"),Q&&(Q.style.width=ee+"px"),de.style.height=me+21+"px",$.style.height=me+"px",Y.style.height=me+"px"),e.resizeAd(ee,me,"normal",n)}function x(e){var t=ue.getElementById(e);t&&(t.style.display="none")}function A(e){var t=ue.getElementById(e);t&&(t.style.display="block")}function k(e){if(je&&(Ue=je.getBoundingClientRect().width),ze=Ot.bind(this,e),window.addEventListener("resize",ze,!0),De&&"start_from_incorner"===De.effect&&!vt){var t=wt?screen.width/2:Ue/2;_(e,t,V.bind(this,t)),vt=!0}he.addEventListener("animationend",function(t){if("fadeOutAnimation"===t.animationName)if(!0===vt){var n=wt?screen.width/2:Ue/2;_(e,n,V.bind(this,n))}else!1===vt&&_(e,Ue,z);else"fadeInAnimation"===t.animationName&&he.classList.remove("fade_in")}),Ve=It.bind(this,e),window.addEventListener("scroll",Ve),$.addEventListener("click",function(t){t.target===t.currentTarget||("CloseBtn"===t.target.className.baseVal?(e.stopAd(),l(e)):"playBtn"===t.target.className.baseVal?e.resumeAd():"pauseBtn"===t.target.className.baseVal?e.pauseAd():"soundOffBtn"!==t.target.className.baseVal&&"soundButton"!==t.target.className.baseVal||(Y.muted=!Y.muted,Y.muted?(A(Oe),x(Se),e.setAdVolume(0,function(t,n){w(t,n,e)})):(A(Se),x(Oe),e.setAdVolume(1,function(t,n){w(t,n,e)})))),t.stopPropagation()},!1),Q.addEventListener("click",function(){if(ft){window.open("http://www.projectagora.com/?utm_source=Branding&utm_medium=Magic","_blank").focus()}ft=!0}),!Y||dt||pt||(Y.onstalled=function(){v()},Ge.other.firefox||(Y.onwaiting=function(){v()}),Y.onprogress=function(){"none"!==Ie.style.display&&(Ie.style.display="none")})}function T(e){if(J=kt()){ae=J.height||360,le=15,se=J.width||480,ce=ae/se,mt=Ge.apple;var t=Qe.getVersion(mt._IOSVersion);mt.device&&t&&t.major>=10||($.style.position="relative",$.style.overflow="hidden"),U.loadAdUnit(e,J.url,j)}}function C(e){var t=e._creative.getAdDuration(),n=Y.duration;return n||t}function E(e){(le=C(e))&&(ue.getElementById("progress-bar").max=le)}function S(e,t){var n;ke&&(n=ke.getAttribute("max")),n&&ke&&n!==le&&ke.setAttribute("max",e);var i=e-t._creative.getAdRemainingTime();if(!0===it)ke&&(ht?Fe&&(ke.value=Fe.getCurrentTime()):ke.value=i),rt&&"function"==typeof r&&Y.removeEventListener("timeupdate",r);else if(!rt){rt=!0;var r=function(e){ke&&(ke.value=this.currentTime)};Y.addEventListener("timeupdate",r)}}function O(e){var t=e._creative.getAdRemainingTime();return(t>0&&!gt||t>Re)&&(Re=t,gt=!0),Re}function I(e){if(ht){var t=O(e);t&&S(t,e)}else{var t=C(e);S(t,e)}}function N(){var e=".ad-element:hover{cursor:pointer;}.ad-element{ z-index:10;}",t=X.createElement("style"),n=X.querySelector("body >div> iframe");n&&n.setAttribute("allowfullscreen","true"),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(X.createTextNode(e)),setTimeout(function(){X.getElementsByTagName("head")[0].appendChild(t)},500)}function L(e){var t=e._videoEl;K=t.videoHeight,Z=t.videoWidth,ie=K/Z}function R(e){at=!0,y(e);var t=null;De&&"start_from_incorner"!==De.effect?t=k.bind(this,e):k(e),me=Ce,ee=Te,navigator.userAgent.indexOf("Edge")>-1&&St(ue),te=!1,ot=!0,s(me,ee,t)}function P(e){var t=Ge.apple,n=Qe.getVersion(t._IOSVersion);t.device&&t.device&&n&&n.major>=10&&(t.Safari||t.isChrome&&t.CriOSVersion>=54||t.isFirefox)&&(e.muted=!0,e.play())}function F(e){var t;t=ue.getElementById("PALeaveBehind"),t.setAttribute("src",e)}function B(){setTimeout(function(){$.style.display="none"},500),setTimeout(function(){$.style.display="none"},500);var e=ue.getElementById("LBBanner"),t=ue.getElementsByClassName("cls-a")[0],n=ue.getElementsByClassName("cls-b")[0],i=ue.getElementsByClassName("cls-c")[0],r=ue.getElementsByClassName("learn-more-text")[0];e.style.display="block";var o=doc.getElementById("learnMoreBtn"),a=doc.getElementsByClassName("learn-more-text")[0];return!!lt.ThrirdPartyClickThrough&&(_e.style.display="block",o.addEventListener("click",function(e){e.stopPropagation(),Tt(et),window.open(lt.ThrirdPartyClickThrough,"_blank").focus()}),a.addEventListener("click",function(e){e.stopPropagation(),Tt(et),window.open(lt.ThrirdPartyClickThrough,"_blank").focus()}),e.addEventListener("click",function(e){e.stopPropagation(),Tt(et),window.open(lt.ThrirdPartyClickThrough,"_blank").focus()}),e.addEventListener("mouseover",function(e){r.style.color="#1DACEE",t.style.stroke="#1DACEE",n.style.fill="#1DACEE",i.style.fill="#1DACEE"}),e.addEventListener("mouseout",function(e){r.style.color="white",t.style.stroke="white",n.style.fill="white",i.style.fill="white"}),!0)}function M(e){Q.style.display="block",setTimeout(function(){I(e)},10)}function D(e,t){yt&&qe&&qe.dispatchEvent({type:e,adVolume:t})}function j(e,t){function n(e,n){if(!e){var i=he,r=i.getBoundingClientRect().width>Je.MAX_DESKTOP_WIDTH?Je.MAX_DESKTOP_WIDTH:i.getBoundingClientRect().width;De&&"start_from_incorner"===De.effect&&(r/=2);var o=r*ce;Te=se,Ce=ae,t.initAd(r,o,"normal",-1,{AdParameters:J.adParameters||""},{},function(e){})}}function r(){"DBM"===lt.ThrdPartyProvider&&(ht=!0,Fe=new _t(0,"paused"));var e=Y,n=t._creative.getAdDuration();yt&&(qe=i(e,bt,n,"projectagoravideo769396279230")),t.startAd(function(e){he.style.maxWidth="800px",he.style.margin="15px auto 0px",Z=t._creative.getAdWidth(),K=t._creative.getAdHeight(),ie=K/Z})}if(theAdUnit=t,!e){t.subscribe("AdLoaded",r);var o=ue.getElementsByTagName("iframe")[0];X=o.contentDocument||o.document,ne=X.getElementsByClassName("ad-element")[0],selectedWrapper=ne||$;var s=ue;["AdLinearChange","AdDurationChange","AdExpandedChange","AdSkippableStateChange","AdInteraction","AdLog"].forEach(function(e){t.subscribe(e,function(){})}),t.subscribe("AdRemainingTimeChange",function(){it=!0,I(t)}),t.subscribe("AdVolumeChange",function(){
D("AdVolumeChange",t._creative.getAdVolume());var e=W;W=t._creative.getAdVolume(),0===W&&e>0?(Et("mute"),G=!0,A(Oe),x(Se)):W>0&&0===e?(Et("unmute"),G=!1,A(Se),x(Oe)):G=void 0===G||G}),t.subscribe("AdImpression",function(){Tt(pe.impTrk)}),t.subscribe("AdSkipped",function(){Et("skip")}),t.subscribe("AdClickThru",function(e){ht&&Fe&&Fe.pauseTimer(),ht&&Fe&&Fe.pauseTimer(),Tt(et),e.playerHandles&&window.open(e.url,"_blank")}),t.subscribe("AdStarted",function(){D("AdStarted",t._creative.getAdVolume()),Te=t._creative.getAdWidth(),Ce=t._creative.getAdHeight(),re=Ce/Te,"stickyADStv"!==Be.value&&"DBM"!==Be.value||(L(t),re=ie,Te=ee,Ce=me),raiseTimeOutInterrupt=!1,de.style.display="block",N(),R(t),E(t),Et("creativeView"),q=!1,P(Y),dt||t.setAdVolume(0,function(e,n){w(e,n,t)}),st&&M(t),ht&&Fe&&(Fe.startTimer(),M(t)),(window.location.host.indexOf("bzi.ro")>-1||"www.bzc.ro"===window.location.host||"www.skai.gr"===window.location.host&&"/mobile/article"===window.location.pathname||"www.turnulsfatului.ro"===window.location.host)&&Ye.bziPatch(self.videoad,!0)}),t.subscribe("AdVideoStart",function(){D("AdVideoStart",t._creative.getAdVolume()),at?M(t):st=!0,Et("start")}),s&&Y&&Y.addEventListener("loadedmetadata",function(e){le=Y.duration;var t=s.getElementById("progress-bar");t&&(t.max=le),Ee=Y.src,lt.CacheVideoSrc=Ee,Y.play()},!1),t.subscribe("AdVideoFirstQuartile",function(){D("AdVideoFirstQuartile",t._creative.getAdVolume()),Ee=Y.src,lt.CacheVideoSrc=Ee,a(function(e){lbImageSrc=e,F(e),Pe.removeEventListener("canplaythrough",xt),ue.getElementById("backupVideo").remove()}),Et("firstQuartile")}),t.subscribe("AdVideoMidpoint",function(){D("AdVideoMidpoint",t._creative.getAdVolume()),Et("midpoint")}),t.subscribe("AdVideoThirdQuartile",function(){D("AdVideoThirdQuartile",t._creative.getAdVolume()),Et("thirdQuartile")}),t.subscribe("AdVideoComplete",function(){if(D("AdVideoComplete",t._creative.getAdVolume()),Et("complete"),ht&&Fe&&Fe.pauseTimer(),isFinished=!0,ue.getElementById("PALeaveBehind").style.display="block",We=B(),window.removeEventListener("scroll",Ve),We||window.removeEventListener("resize",ze,!0),We){if(vt){var e=je.getBoundingClientRect().width;_(t,e,z)}}else l(t)}),t.subscribe("AdUserAcceptInvitation",function(){Et("acceptInvitation")}),t.subscribe("AdUserMinimize",function(){Et("collapse")}),t.subscribe("AdUserClose",function(){Et("close")}),t.subscribe("AdPaused",function(){D("AdPaused",t._creative.getAdVolume()),Et("pause"),x("pauseBtn"),A("playBtn"),q=!0}),t.subscribe("AdPlaying",function(){D("AdPlaying",t._creative.getAdVolume()),Et("resume"),Ie&&"none"!==Ie.style.display&&(Ie.style.display="none"),x("playBtn"),A("pauseBtn"),I(t),q=!1}),t.subscribe("AdError",function(e){Et("error"),ht&&Fe&&Fe.pauseTimer(),he&&he.style.removeProperty("height"),Ne()}),t.subscribe("AdStopped",function(){D("AdStopped",t._creative.getAdVolume()),adStop=!0,ht&&Fe&&(Fe.pauseTimer(),Fe.dispose()),window.removeEventListener("scroll",Ve),We||window.removeEventListener("resize",ze,!0)}),t.subscribe("AdSizeChange",function(){I(t)}),t.handshakeVersion("2.0",n)}}function V(e){Qe.addRemoveCssClass(je,"grey_in",null),Qe.addRemoveCssClass(frmPAVast.contentWindow.document.querySelector(".project_agora"),"incornerHeading",null);var t="left"===De.position?"incornerLeft":"incornerRight";Qe.addRemoveCssClass(he,t,null),Qe.addRemoveCssClass(he,null,"fade_out"),Qe.addRemoveCssClass(he,"fade_in",null),wt&&(Qe.addRemoveCssClass(ue.querySelector(".left-group"),"incornerButtons",null),Qe.addRemoveCssClass(ue.querySelector(".down-group"),"incornerButtons",null),Qe.addRemoveCssClass(ue.querySelector("#videoContainer #closeBtnDiv"),"incornerButtons",null)),he.style.width=e+"px",he.style.height=re*e+"px",frmPAVast&&(frmPAVast.style.width=e+"px"),frmPAVast&&(frmPAVast.style.height=re*e+"px"),$&&($.style.width=e+"px"),vt=!0}function z(e){Qe.addRemoveCssClass(frmPAVast.contentWindow.document.querySelector(".project_agora"),null,"incornerHeading");var t="left"===De.position?"incornerLeft":"incornerRight";Qe.addRemoveCssClass(he,null,t),Qe.addRemoveCssClass(he,null,"fade_out"),Qe.addRemoveCssClass(je,null,"grey_in"),wt&&(Qe.addRemoveCssClass(ue.querySelector(".left-group"),null,"incornerButtons"),Qe.addRemoveCssClass(ue.querySelector(".down-group"),null,"incornerButtons"),Qe.addRemoveCssClass(ue.querySelector("#videoContainer #closeBtnDiv"),null,"incornerButtons")),he.style.width=Ue+"px",he.style.height=re*Ue+21+"px",frmPAVast&&(frmPAVast.style.height=re*Ue+21+"px"),frmPAVast&&(frmPAVast.style.width=Ue+"px"),$&&($.style.width=Ue+"px"),$&&($.style.height=re*Ue+"px"),vt=!1,e&&"function"==typeof e&&e()}function H(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom,r=i-n,o=null;return n>=0&&i>=0?o=ct>i?100:100-(i-ct)/r*100:n<0&&(o=100*(n+r)/r),o=Math.floor(o)}var U,W,q,G,X,Q,$,Y,J,K,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,pe,fe,he,me,ge,ve,ye,be,we,_e,xe,Ae,ke,Te,Ce,Ee,Se,Oe,Ie,Ne,Le,Re,Pe,Fe,Be,Me,De,je,Ve,ze,He,Ue,We,qe,Ge=e("./mobileDetect"),Xe=e("./VPAIDHTML5Client"),Qe=e("./utilities"),$e=e("./utils"),Ye=e("./patches"),Je=e("./resources"),Ke=[],Ze=[],et=[],tt=[],nt=500,it=!1,rt=!1,ot=!1,at=!1,st=!1,lt={},ct=window.innerHeight,ut=Ge.mobileDeviceAny||Ge.tabletAny,dt=$e.detectIE(),pt=/Edge/.test(navigator.userAgent),ft=!1,ht=!1,mt=Ge.apple,gt=!1,vt=!1,yt=!1,bt={},wt=Ge.mobileDeviceAny||Ge.tabletAny,_t=function(e,t){this.currentTime=e,this.interfaceTimer=null,this.status=t};_t.prototype={startTimer:function(){var e=this;"paused"===this.status&&(this.interfaceTimer=setInterval(function(){e.currentTime+=.1},100),this.status="resumed")},pauseTimer:function(){"resumed"===this.status&&(clearInterval(this.interfaceTimer),this.status="paused")},getCurrentTime:function(){return this.currentTime},dispose:function(){Fe&&(Fe=null)}};var xt=function(e){var t=Pe.play();void 0!==t&&t.then(function(){Pe.pause();var e=Qe.captureVideoFrame(Pe,"png");imgsrc=e.dataUri,Le(imgsrc)}).catch(function(e){Le(imgsrc)})},At=function(){Te=screen.width,Ce=screen.height,de.style.height=Ce+"px",$.style.height=Ce+"px",Y.style.height=Ce+"px"},kt=function(){var e=Ke.length-1,t=Math.floor(Math.random()*e);return Ke[t]},Tt=function(e){e.forEach(function(e,t){new Image(1,1).src=e})},Ct=function(e){var t=!1;return tt.forEach(function(n,i){e===n&&(t=!0)}),t},Et=function(e){if(Qe.hasAttr(Ze,e)){var t=Ze[e];Ct(e)||(Tt(t),tt.push(e))}},St=function(e){var t=e.querySelector("svg#playBtn"),n=e.querySelector("svg#pauseBtn"),i=e.querySelector("svg#expandBtn"),r=e.querySelector("svg#closeBtn");setTimeout(function(){t.classList.toggle("refresh"),n.classList.toggle("refresh"),i&&i.classList.toggle("refresh"),r.classList.toggle("refresh")},500)},Ot=function(e){var t,n,i;e.resumeAd(),je&&(n=screen.width/2,t=je.getBoundingClientRect().width),De?je.style.height=t*re+21+"px":_(e),ct=window.top.innerHeight,vt?(i=wt?n:t/2,_(e,i),he.style.width=i+"px",he.style.height=i*re+"px",frmPAVast&&(frmPAVast.style.width=i+"px"),frmPAVast&&(frmPAVast.style.height=i*re+"px"),$&&($.style.width=i+"px")):(_(e,t),he.style.width=t+"px",frmPAVast&&(frmPAVast.style.width=t+"px"),$&&($.style.width=t+"px"))},It=function(e){thresholdElement=ut&&Me.video.enabled?frmPAVast:he,H(thresholdElement)<He?q||De||e.pauseAd():q&&e.resumeAd(),De&&(Ue=je.getBoundingClientRect().width,H(je)<He?vt||(vt=!0,he.classList.add("fade_out")):(q&&e.resumeAd(),vt&&(vt=!1,he.classList.add("fade_out"))))};t.exports={init:r,resizeVpaidMac:At}},{"./VPAIDHTML5Client":32,"./mobileDetect":43,"./patches":44,"./resources":45,"./utilities":49,"./utils":50}]},{},[27]);